"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[6781],{4710:function(e,t,s){s.d(t,{Z:function(){return w}});var l=s(6252),i=s(3577);const n={key:0,style:{display:"inline-block","min-width":"2em"}},a=["data-src"],o={style:{"margin-left":"5px"}},r={style:{"font-size":"1.4rem","font-weight":"400"}},u=(0,l._)("br",null,null,-1),d={style:{"font-size":"1.2rem","font-weight":"300"}};function c(e,t,s,c,m,h){const p=(0,l.up)("Multiselect",!0),f=(0,l.Q2)("lazyloader");return(0,l.wg)(),(0,l.j4)(p,{class:"multisel",tabindex:"-1",mode:this.mode,trackBy:"name",valueProp:"id",label:"name",placeholder:"",searchable:!0,clearOnBlur:!1,options:s.options,ref:"multiselect"},{option:(0,l.w5)((e=>[e.option.src?((0,l.wg)(),(0,l.iD)("span",n,[(0,l.wy)((0,l._)("img",{"data-src":e.option.src},null,8,a),[[f]])])):(0,l.kq)("",!0),(0,l._)("div",o,[(0,l._)("span",r,(0,i.zw)(e.option.name||e.option.id),1),u,(0,l._)("span",d,(0,i.zw)(e.option.description),1)])])),_:1},8,["mode","options"])}var m=s(5135),h={name:"MultiSelect",components:{Multiselect:m.Z},props:{mode:{type:String,default:"tags"},options:{default:()=>[]}},data(){return{isFocused:!1,focusTimer:null,timer:null,closeOnSelect:!1,openDirection:"bottom"}},mounted(){},watch:{isFocused(e){if(e){this.openDirection="top",this.closeOnSelect=!1,this.$el.style.fontSize="20px",this.$el.style.setProperty("--ms-max-height",window.innerHeight/2+"px"),this.$el.style.position="fixed",this.$el.style.zIndex=10;var{top:t,left:s}=this.$el.getBoundingClientRect();this.$el.style.bottom=window.innerHeight-t+"px",this.$el.style.left=s+"px",this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this.$el.style.bottom=0,this.$el.style.left=0}),100)}else this.$el.style.position="",this.$el.style.bottom="",this.$el.style.left="",this.$el.style.zIndex=""}},methods:{openDropdown(){this.$refs.multiselect.open()},focusSelect(){if(window.innerWidth>700)return this.isFocused=!1;this.focusTimer&&(clearTimeout(this.focusTimer),this.focusTimer=null),this.isFocused=!0},blurSelect(){this.isFocused&&(this.focusTimer=setTimeout((()=>{this.isFocused=!1}),20))}}},p=s(3744);const f=(0,p.Z)(h,[["render",c]]);var w=f},6446:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var l=s(6252);const i=(0,l._)("h2",null,"Hero Stats Sheet",-1),n=(0,l._)("br",null,null,-1),a=(0,l._)("br",null,null,-1),o=(0,l._)("br",null,null,-1),r=(0,l._)("br",null,null,-1),u={class:"pad-5"};function d(e,t,s,d,c,m){const h=(0,l.up)("PageTitle"),p=(0,l.up)("Checkbox"),f=(0,l.up)("StatsTable");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[i])),_:1}),(0,l._)("div",null,[n,(0,l.Wm)(p,{modelValue:c.sheetSettings.awakened,"onUpdate:modelValue":t[0]||(t[0]=e=>c.sheetSettings.awakened=e)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Awakened ")])),_:1},8,["modelValue"]),a,(0,l.Wm)(p,{modelValue:c.sheetSettings.speedSetBonus,"onUpdate:modelValue":t[1]||(t[1]=e=>c.sheetSettings.speedSetBonus=e)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Speed Set Bonus ")])),_:1},8,["modelValue"]),o,(0,l.Wm)(p,{modelValue:c.sheetSettings.skillBonus,"onUpdate:modelValue":t[2]||(t[2]=e=>c.sheetSettings.skillBonus=e)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Skill bonus ")])),_:1},8,["modelValue"]),r,(0,l.Uk)(" Level: "),(0,l.Wm)(p,{modelValue:c.sheetSettings.lvl,"onUpdate:modelValue":t[3]||(t[3]=e=>c.sheetSettings.lvl=e),"true-value":1},{default:(0,l.w5)((()=>[(0,l.Uk)("1")])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:c.sheetSettings.lvl,"onUpdate:modelValue":t[4]||(t[4]=e=>c.sheetSettings.lvl=e),"true-value":50},{default:(0,l.w5)((()=>[(0,l.Uk)("50")])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:c.sheetSettings.lvl,"onUpdate:modelValue":t[5]||(t[5]=e=>c.sheetSettings.lvl=e),"true-value":60},{default:(0,l.w5)((()=>[(0,l.Uk)("60")])),_:1},8,["modelValue"])]),(0,l._)("div",u,[(0,l.Wm)(f,{units:c.list},null,8,["units"])])])}var c=s(2784),m=s(2116),h=s(9651),p=s(4618),f=s(4710),w=s(1163),g=s(2559),v=s(3577),_=s(9963);const y={class:"stats-table full-w"},S={class:"noselect"},k=["onClick"],b=(0,l._)("i",{class:"fa fa-angle-down"},null,-1),z=[b];function B(e,t,s,i,n,a){const o=(0,l.up)("Face"),r=(0,l.up)("router-link"),u=(0,l.Q2)("ripple-effect");return(0,l.wg)(),(0,l.iD)("table",y,[(0,l._)("thead",S,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tableHeaders,(e=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("td",{key:e.id,onClick:t=>a.sortByChange(e.id),class:"pointer relative overflow-hidden mat-hover"},[(0,l.Uk)((0,v.zw)(e.name)+" ",1),(0,l.wy)((0,l._)("span",{class:(0,v.C_)({"sorting-icon":!0,reverse:n.reverse})},z,2),[[_.F8,n.sortBy===e.id]])],8,k)),[[u]]))),128))]),(0,l.Wm)(_.W3,{name:"list",tag:"tbody"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.sortedList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,[(0,l.Wm)(r,{to:"/hero/"+e._id,class:"route-restore"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{hero:e,hover:!1,showname:!0,showrarity:!0},null,8,["hero"])])),_:2},1032,["to"])]),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.spd)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.atk)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.hp)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.def)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.chc)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.chd)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.eff)),1),(0,l._)("td",null,(0,v.zw)(a.formatNumber(e.statsResult.efr)),1)])))),128))])),_:1})])}var V=s(9165),x={components:{Face:V.Z},props:{units:{type:Array,default:()=>[]}},data(){return{sortBy:"spd",reverse:!1,tableHeaders:[{name:"Hero"},{name:"Speed",id:"spd"},{name:"Attack",id:"atk"},{name:"Health",id:"hp"},{name:"Defense",id:"def"},{name:"Crit Chance",id:"chc"},{name:"Crit Damage",id:"chd"},{name:"Effectiveness",id:"eff"},{name:"Eff Resist",id:"efr"}]}},computed:{sortedList(){const e=this.sortBy;return this.units.sort(((t,s)=>this.reverse?t.statsResult[e]-s.statsResult[e]:s.statsResult[e]-t.statsResult[e]))}},methods:{sortByChange(e){e&&(e===this.sortBy?this.reverse=!this.reverse:(this.sortBy=e,this.reverse=!1))},formatNumber(e){if(e<10)return(Math.round(1e4*e)/100).toFixed(2)+"%";let t=e+"";var s=/(\d+)(\d{3})/;while(s.test(t))t=t.replace(s,"$1.$2");return t}}},$=s(3744);const R=(0,$.Z)(x,[["render",B]]);var T=R,U={name:"HeroStatsIndex",components:{PageTitle:m.Z,SectionTitle:h.Z,Checkbox:p.Z,Multiselect:f.Z,StatsTable:T},data(){return{sheetSettings:{tracking:"spd",awakened:!0,speedSetBonus:!0,skillBonus:!0,lvl:60},list:[]}},watch:{sheetSettings:{deep:!0,handler(){this.calculateStats()}}},methods:{calculateStats(){var e,t;const{awakened:s,skillBonus:l,ee_equiped:i,speedSetBonus:n,selfImprint:a,lvl:o}=this.sheetSettings;for(e in this.list)t=this.list[e],s&&!t.zodiac_tree&&(t.zodiac_tree=(0,g.Z)(t.rarity,t.role,t.zodiac,t.attribute)),t.statsResult=(0,w.Z)({rarity:t.rarity,level:Number(o||1),awakened:!!s&&t.zodiac_tree,imprint:!!a&&t.self_devotion,skills:!!l&&t.stats?.skills,ex_equip:!!i&&t.stats?.ex_equip?.[0],speedSet:n,stats:t.stats})}},computed:{},created(){(0,c.Z)("https://cecilia-bot-api.vercel.app/api/mongo/getList?list=hero&fields=_id,id,stats,name,zodiac,rarity,attribute,role").then((e=>{this.list=JSON.parse(e),this.calculateStats()})).catch((e=>{console.error(e)}))}};const C=(0,$.Z)(U,[["render",d]]);var W=C}}]);