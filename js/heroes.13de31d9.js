"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[4892],{6163:function(e,t,i){function n(e,t){var i=null;return function(){clearTimeout(i);var n=arguments,r=this;i=setTimeout((function(){e.apply(r,n)}),t)}}function r(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout((function(){i=!1}),t))}}function a(e=!1){let t=window.location.href.split("?")[0],i=t.split("#"),n=e&&"#"===e.href.charAt(0)?2:1;while(i.length>n)i.pop();return i.join("#")}i.d(t,{Ds:function(){return n},P2:function(){return r},fA:function(){return a}})},6120:function(e,t,i){i.d(t,{Z:function(){return h}});var n=i(6252),r=i(9963),a=i(3577);const o=(0,n._)("img",{style:{"max-height":"100px",height:"100%"},src:"https://cdn.glitch.com/6c14ca82-3bcb-4fd6-afa7-815b95e04a14%2Fras-run-slow.gif?v=1632241290215"},null,-1),s={style:{"font-size":"32px",color:"white","text-shadow":"0px 0px 3px grey, 0 0 10px black, 0 0 10px black","line-height":"30px","padding-top":"12px","margin-left":"20px"}};function l(e,t,i,l,c,d){return(0,n.wg)(),(0,n.iD)("div",{class:"noselect loading-part animatefade absolute",onContextmenu:t[0]||(t[0]=(0,r.iM)((()=>{}),["prevent"]))},[o,(0,n._)("div",s,(0,a.zw)(i.text),1)],32)}var c={props:{text:{type:String,default:""}}},d=i(3744);const u=(0,d.Z)(c,[["render",l]]);var h=u},7740:function(e,t,i){i.d(t,{Z:function(){return b}});var n=i(6252),r=i(3577);const a={style:{display:"inline-block",width:"361px",position:"relative"},class:"panel-wrapper noselect"},o={style:{position:"absolute",top:"0",left:"0"},class:"panel full-h full-w"},s=["data-src"],l={style:{position:"absolute",height:"24%",left:"13%",top:"15%"}},c=["data-src"],d={class:"text-black-stroke",style:{color:"white","vertical-align":"middle",height:"100%"}},u={style:{position:"absolute",left:"10%",bottom:"20%",height:"1.4em"}},h=["data-src"],p=["data-src"],g=["src"];function f(e,t,i,f,m,w){const v=(0,n.Q2)("lazyloader");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",o,[(0,n.wy)((0,n._)("img",{"data-src":w.img,class:"hero-img",alt:""},null,8,s),[[v]]),(0,n._)("div",l,[(0,n.wy)((0,n._)("img",{style:{"vertical-align":"middle",width:"1.3em","padding-right":"5px"},"data-src":w.roleIcon,alt:""},null,8,c),[[v]]),(0,n._)("span",d,(0,r.zw)(w.heroData.name),1)]),(0,n._)("div",u,[(0,n.wy)((0,n._)("img",{style:{height:"100%","vertical-align":"middle"},"data-src":w.attributeIcon,alt:""},null,8,h),[[v]]),(0,n.wy)((0,n._)("img",{class:(0,r.C_)("zodiac-panel-icon "+i.data.zodiac),style:{"margin-right":"8%"},"data-src":w.zodiacIcon,alt:""},null,10,p),[[v]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.heroData.rarity,(e=>((0,n.wg)(),(0,n.iD)("img",{style:{"vertical-align":"middle","margin-left":"-5%",height:"80%"},key:e,alt:"",src:w.starIcon},null,8,g)))),128))])])])}var m=i(8753),w={props:{data:{type:Object,default:()=>({})}},computed:{heroData(){return this.data||{}},img(){return m.cK+"/face/"+this.heroData.id+"_l.png"},starIcon(){return m.cK+"/img/cm_icon_star.png"},roleIcon(){return this.$store.getters.getRoleIcon(this.heroData.role)},attributeIcon(){return m.cK+"/img/cm_icon_prom"+this.data.attribute+".png"},zodiacIcon(){return m.cK+"/img/cm_icon_zodiac_"+this.data.zodiac+".png"}}},v=i(3744);const y=(0,v.Z)(w,[["render",f]]);var b=y},416:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(6252);function r(e,t,i,r,a,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.WI)(e.$slots,"default")])}var a=i(6163),o={mounted(){this.screenResize(),window.addEventListener("resize",this.debounceScreenResize)},beforeUnmount(){window.removeEventListener("resize",this.debounceScreenResize)},methods:{screenResize(){const e=this.$el||document.body,t=window.innerWidth,i=e.getBoundingClientRect().width;let n=2;2e3<t?n=6:1400<t?n=5:992<t&&(n=4);var r=i/n,a=Math.floor(.065*r);this.$el.style.fontSize=a+"px"},debounceScreenResize:(0,a.Ds)((function(){this.screenResize()}),400)}},s=i(3744);const l=(0,s.Z)(o,[["render",r]]);var c=l},6239:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var n=i(6252),r=i(3577);const a=(0,n._)("h2",null,"Heroes",-1),o=["src"],s=["src"];function l(e,t,i,l,c,d){const u=(0,n.up)("PagePath"),h=(0,n.up)("PageTitle"),p=(0,n.up)("FilterBlock"),g=(0,n.up)("LoadingComponent"),f=(0,n.up)("HeroPanel"),m=(0,n.up)("router-link"),w=(0,n.up)("HeroPanelResponsive");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u),a])),_:1}),(0,n.Wm)(p,{modelValue:c.filters,"onUpdate:modelValue":t[0]||(t[0]=e=>c.filters=e),class:"pad-5"},null,8,["modelValue"]),(0,n.Wm)(w,{class:"flex flex-wrap justify-center",style:{"min-height":"100vh","place-content":"flex-start"}},{default:(0,n.w5)((()=>[c.isFetching?((0,n.wg)(),(0,n.j4)(g,{key:0,text:"CONNECTING..."})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.sortedList,(e=>((0,n.wg)(),(0,n.j4)(m,{key:e._id,to:"/hero/"+e._id,class:"route-restore relative pointer col-2 col-lg-4 col-xl-5 col-xxl-6",style:(0,r.j5)({display:d.filtredList[e._id]?"inline-block":"none"})},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{hero:e._id,data:e,style:{width:"100%"}},null,8,["hero","data"]),e.$isNew?((0,n.wg)(),(0,n.iD)("img",{key:0,style:{position:"absolute",top:"0",right:"0",height:"50%"},src:d.newIcon},null,8,o)):e.$isUpdated?((0,n.wg)(),(0,n.iD)("img",{key:1,style:{position:"absolute",top:"0",right:"0",height:"50%"},src:d.updatedIcon},null,8,s)):(0,n.kq)("",!0)])),_:2},1032,["to","style"])))),128))])),_:1})])}var c=i(8753),d=i(6120),u=i(6004),h=i(222),p=i(9218),g=i(7740),f=i(416),m=null,w=0,v={name:"HeroesIndex",components:{LoadingComponent:d.Z,PagePath:u.Z,PageTitle:h.Z,HeroPanel:g.Z,HeroPanelResponsive:f.Z,FilterBlock:p.Z},inject:["mainContainerWrapper"],data(){return{cdn:c.cK,isFetching:!0,fetchError:!1,filters:{name:"",role:[],attribute:[],rarity:[],zodiac:[],tags:[],buff:[],debuff:[],common:[],devotion:[],self_devotion:[]},list:{}}},mounted(){m&&(this.filters=JSON.parse(m))},beforeUnmount(){m=JSON.stringify(this.filters),this.mainContainerWrapper&&(w=this.mainContainerWrapper().scrollTop)},watch:{},methods:{},computed:{newIcon(){return c.cK+"/img/gacha_new.png"},updatedIcon(){return c.cK+"/ui/cm_update_icon.png"},sortedList(){const e=e=>["fire","ice","wind","light","dark"].indexOf(e),t=e=>["warrior","knight","assassin","ranger","mage","manauser"].indexOf(e),i=Array.isArray(this.list)?this.list.slice():Object.values(this.list);return i.sort(((e,t)=>e.name<t.name?-1:0)).sort(((i,n)=>i.$isNew!==n.$isNew?i.$isNew?-1:1:i.$isUpdated!==n.$isUpdated?i.$isUpdated?-1:1:i.rarity!==n.rarity?i.rarity>n.rarity?-1:1:e(i.attribute)!==e(n.attribute)?e(i.attribute)<e(n.attribute)?-1:1:t(i.role)<t(n.role)?-1:1))},filtredList(){var e={},t=this.filters,i=/[^a-z0-9]/g,n=/[^a-z0-9,]/g,r=t.name.toLowerCase().replace(i,"");for(var a in this.list){var o=this.list[a];e[o._id]=(-1!==o.name.toLowerCase().replace(i,"").indexOf(r)||o.nicknames&&-1!==o.nicknames.join(",").toLowerCase().replace(n,"").indexOf(r))&&["role","attribute","rarity","zodiac"].every((e=>!t[e].length||t[e].includes(o[e])))&&(!t.tags.length||t.tags.every((e=>o.tags.includes(e))))&&["common","buff","debuff"].every((e=>!t[e].length||t[e].every((t=>o[e]&&o[e].includes(t)))))&&["devotion","self_devotion"].every((e=>!t[e].length||t[e].includes(o[e].type)))}return e}},created(){this.isFetching=!0,this.$gameData.hero.list().then((e=>{const t=Date.now()-11664e5;this.list=e.map((e=>(t<e.created_dt?e.$isNew=!0:t<e.updated_dt&&(e.$isUpdated=!0),e)))})).catch((e=>{console.error(e),this.fetchError=!0})).then((()=>{this.isFetching=!1,this.mainContainerWrapper().scrollTo(0,w)}))}},y=i(3744);const b=(0,y.Z)(v,[["render",l]]);var _=b}}]);