"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[4892],{6163:function(e,t,i){function n(e,t){var i=null;return function(){clearTimeout(i);var n=arguments,r=this;i=setTimeout((function(){e.apply(r,n)}),t)}}function r(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout((function(){i=!1}),t))}}function a(e=!1){let t=window.location.href.split("?")[0],i=t.split("#"),n=e&&"#"===e.href.charAt(0)?2:1;while(i.length>n)i.pop();return i.join("#")}i.d(t,{Ds:function(){return n},P2:function(){return r},fA:function(){return a}})},6120:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(6252),r=i(9963),a=i(3577);const o=(0,n._)("img",{style:{"max-height":"100px",height:"100%"},src:"https://cdn.glitch.com/6c14ca82-3bcb-4fd6-afa7-815b95e04a14%2Fras-run-slow.gif?v=1632241290215"},null,-1),s={style:{"font-size":"32px",color:"white","text-shadow":"0px 0px 3px grey, 0 0 10px black, 0 0 10px black","line-height":"30px","padding-top":"12px","margin-left":"20px"}};function l(e,t,i,l,c,u){return(0,n.wg)(),(0,n.iD)("div",{class:"noselect loading-part animatefade absolute",onContextmenu:t[0]||(t[0]=(0,r.iM)((()=>{}),["prevent"]))},[o,(0,n._)("div",s,(0,a.zw)(i.text),1)],32)}var c={props:{text:{type:String,default:""}}},u=i(3744);const d=(0,u.Z)(c,[["render",l]]);var p=d},7740:function(e,t,i){i.d(t,{Z:function(){return b}});var n=i(6252),r=i(3577);const a={style:{display:"inline-block",width:"361px",position:"relative"},class:"panel-wrapper noselect"},o={style:{position:"absolute",top:"0",left:"0"},class:"panel full-h full-w"},s=["data-src"],l={style:{position:"absolute",height:"24%",left:"13%",top:"15%"}},c=["data-src"],u={class:"text-black-stroke",style:{color:"white","vertical-align":"middle",height:"100%"}},d={style:{position:"absolute",left:"10%",bottom:"20%",height:"1.4em"}},p=["data-src"],h=["data-src"],f=["src"];function g(e,t,i,g,m,w){const v=(0,n.Q2)("lazyloader");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",o,[(0,n.wy)((0,n._)("img",{"data-src":w.img,class:"hero-img",alt:""},null,8,s),[[v]]),(0,n._)("div",l,[(0,n.wy)((0,n._)("img",{style:{"vertical-align":"middle",width:"1.3em","padding-right":"5px"},"data-src":w.roleIcon,alt:""},null,8,c),[[v]]),(0,n._)("span",u,(0,r.zw)(w.heroData.name),1)]),(0,n._)("div",d,[(0,n.wy)((0,n._)("img",{style:{height:"100%","vertical-align":"middle"},"data-src":w.attributeIcon,alt:""},null,8,p),[[v]]),(0,n.wy)((0,n._)("img",{class:(0,r.C_)("zodiac-panel-icon "+i.data.zodiac),style:{"margin-right":"8%"},"data-src":w.zodiacIcon,alt:""},null,10,h),[[v]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.heroData.rarity,(e=>((0,n.wg)(),(0,n.iD)("img",{style:{"vertical-align":"middle","margin-left":"-5%",height:"80%"},key:e,alt:"",src:w.starIcon},null,8,f)))),128))])])])}var m=i(8753),w={props:{data:{type:Object,default:()=>({})}},computed:{heroData(){return this.data||{}},img(){return m.cK+"/face/"+this.heroData.id+"_l.png"},starIcon(){return m.cK+"/img/cm_icon_star.png"},roleIcon(){return this.$store.getters.getRoleIcon(this.heroData.role)},attributeIcon(){return m.cK+"/img/cm_icon_prom"+this.data.attribute+".png"},zodiacIcon(){return m.cK+"/img/cm_icon_zodiac_"+this.data.zodiac+".png"}}},v=i(3744);const y=(0,v.Z)(w,[["render",g]]);var b=y},416:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(6252);function r(e,t,i,r,a,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.WI)(e.$slots,"default")])}var a=i(6163),o={mounted(){this.screenResize(),window.addEventListener("resize",this.debounceScreenResize)},beforeUnmount(){window.removeEventListener("resize",this.debounceScreenResize)},methods:{screenResize(){const e=this.$el||document.body,t=window.innerWidth,i=e.getBoundingClientRect().width;let n=2;2e3<t?n=6:1400<t?n=5:992<t&&(n=4);var r=i/n,a=Math.floor(.065*r);this.$el.style.fontSize=a+"px"},debounceScreenResize:(0,a.Ds)((function(){this.screenResize()}),400)}},s=i(3744);const l=(0,s.Z)(o,[["render",r]]);var c=l},171:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(6252),r=i(3577);const a={class:"page-path-title"},o=(0,n._)("span",null," / ",-1);function s(e,t,i,s,l,c){const u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",a,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.path,(e=>((0,n.wg)(),(0,n.iD)("span",{key:e[1]},[(0,n.Wm)(u,{to:e[1],class:"router-restore"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e[0]),1)])),_:2},1032,["to"]),o])))),128)),(0,n.WI)(e.$slots,"default")])}const l={database:"Database",hero:"Heroes",artifacts:"Artifacts","hero-stats-sheet":"Hero Stats Table","voice-actors":"Voice Actors",buffs:"Buffs",common:"Common",debuffs:"Debuffs","official-info":"Official Links"};var c={props:{location:{type:String,default:""}},data(){return{path:[]}},created(){var e="",t=window.location.href.toLowerCase().split("#")[1].replace(/\?.*/,"").split("/").filter(((e,t)=>""!==e||0===t));t.splice(-1,1),this.path=t.map(((i,n)=>{var r=l[i];return r||(0===n?r="Home":n===t.length-1&&(r=this.current)),e+=i+"/",[r,e]}))}},u=i(3744);const d=(0,u.Z)(c,[["render",s]]);var p=d},222:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(6252);const r={class:"page-title-box flex flex-col"};function a(e,t){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.WI)(e.$slots,"default")])}var o=i(3744);const s={},l=(0,o.Z)(s,[["render",a]]);var c=l},4097:function(e,t,i){i.r(t),i.d(t,{default:function(){return x}});var n=i(6252),r=i(3577);const a=(0,n._)("h2",null,"Heroes",-1),o=(0,n._)("div",null,[(0,n._)("span",null,[(0,n._)("i",null,"Specialty Change units are currenlty missing!")])],-1),s=["src"],l=["src"];function c(e,t,i,c,u,d){const p=(0,n.up)("PagePath"),h=(0,n.up)("PageTitle"),f=(0,n.up)("FilterBlock"),g=(0,n.up)("LoadingComponent"),m=(0,n.up)("HeroPanel"),w=(0,n.up)("router-link"),v=(0,n.up)("HeroPanelResponsive");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p),a,o])),_:1}),(0,n.Wm)(f,{modelValue:u.filters,"onUpdate:modelValue":t[0]||(t[0]=e=>u.filters=e),class:"pad-5"},null,8,["modelValue"]),(0,n.Wm)(v,{class:"flex flex-wrap justify-center",style:{"min-height":"100vh","place-content":"flex-start"}},{default:(0,n.w5)((()=>[u.isFetching?((0,n.wg)(),(0,n.j4)(g,{key:0,text:"CONNECTING..."})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.sortedList,(e=>((0,n.wg)(),(0,n.j4)(w,{key:e._id,to:"/hero/"+e._id,class:"route-restore relative pointer col-2 col-lg-4 col-xl-5 col-xxl-6",style:(0,r.j5)({display:d.filtredList[e._id]?"inline-block":"none"})},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{hero:e._id,data:e,style:{width:"100%"}},null,8,["hero","data"]),e.$isNew?((0,n.wg)(),(0,n.iD)("img",{key:0,style:{position:"absolute",top:"0",right:"0",height:"50%"},src:d.newIcon},null,8,s)):e.$isUpdated?((0,n.wg)(),(0,n.iD)("img",{key:1,style:{position:"absolute",top:"0",right:"0",height:"50%"},src:d.updatedIcon},null,8,l)):(0,n.kq)("",!0)])),_:2},1032,["to","style"])))),128))])),_:1})])}var u=i(8753),d=i(6120),p=i(171),h=i(222),f=i(3409),g=i(7740),m=i(416),w=null,v=0,y={name:"HeroesIndex",components:{LoadingComponent:d.Z,PagePath:p.Z,PageTitle:h.Z,HeroPanel:g.Z,HeroPanelResponsive:m.Z,FilterBlock:f.Z},inject:["mainContainerWrapper"],data(){return{cdn:u.cK,isFetching:!0,fetchError:!1,filters:{name:"",role:[],attribute:[],rarity:[],zodiac:[],tags:[],buff:[],debuff:[],common:[],devotion:[],self_devotion:[]},list:{}}},mounted(){w&&(this.filters=JSON.parse(w))},beforeUnmount(){w=JSON.stringify(this.filters),this.mainContainerWrapper&&(v=this.mainContainerWrapper().scrollTop)},watch:{},methods:{},computed:{newIcon(){return u.cK+"/img/gacha_new.png"},updatedIcon(){return u.cK+"/ui/cm_update_icon.png"},sortedList(){const e=e=>["fire","ice","wind","light","dark"].indexOf(e),t=e=>["warrior","knight","assassin","ranger","mage","manauser"].indexOf(e),i=Array.isArray(this.list)?this.list.slice():Object.values(this.list);return i.sort(((e,t)=>e.name<t.name?-1:0)).sort(((i,n)=>i.$isNew!==n.$isNew?i.$isNew?-1:1:i.$isUpdated!==n.$isUpdated?i.$isUpdated?-1:1:i.rarity!==n.rarity?i.rarity>n.rarity?-1:1:e(i.attribute)!==e(n.attribute)?e(i.attribute)<e(n.attribute)?-1:1:t(i.role)<t(n.role)?-1:1))},filtredList(){var e={},t=this.filters,i=/[^a-z0-9]/g,n=/[^a-z0-9,]/g,r=t.name.toLowerCase().replace(i,"");for(var a in this.list){var o=this.list[a];e[o._id]=(-1!==o.name.toLowerCase().replace(i,"").indexOf(r)||o.nicknames&&-1!==o.nicknames.join(",").toLowerCase().replace(n,"").indexOf(r))&&["role","attribute","rarity","zodiac"].every((e=>!t[e].length||t[e].includes(o[e])))&&(!t.tags.length||t.tags.every((e=>o.tags.includes(e))))&&["common","buff","debuff"].every((e=>!t[e].length||t[e].every((t=>o[e]&&o[e].includes(t)))))&&["devotion","self_devotion"].every((e=>!t[e].length||t[e].includes(o[e].type)))}return e}},created(){this.isFetching=!0,this.$gameData.hero.list().then((e=>{const t=Date.now()-12096e5;this.list=e.map((e=>(t<e.created_dt?e.$isNew=!0:t<e.updated_dt&&(e.$isUpdated=!0),e)))})).catch((e=>{console.error(e),this.fetchError=!0})).then((()=>{this.isFetching=!1,this.mainContainerWrapper().scrollTo(0,v)}))}},b=i(3744);const _=(0,b.Z)(y,[["render",c]]);var x=_}}]);