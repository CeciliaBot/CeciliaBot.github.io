(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[1670],{8242:function(){},1501:function(e,t,l){"use strict";var a=l(6774);function i(e,t){return e<t?t:e}function o(e){return void 0===e?-1:e.height}var n=function(){function e(e,t){this.intervalTree=e,this.records=[],this.height=0,this.key=t.low,this.max=t.high,this.records.push(t)}return e.prototype.getNodeHigh=function(){for(var e=this.records[0].high,t=1;t<this.records.length;t++)this.records[t].high>e&&(e=this.records[t].high);return e},e.prototype.updateHeight=function(){this.height=i(o(this.left),o(this.right))+1},e.prototype.updateMaxOfParents=function(){if(void 0!==this){var e=this.getNodeHigh();void 0!==this.left&&void 0!==this.right?this.max=i(i(this.left.max,this.right.max),e):void 0!==this.left&&void 0===this.right?this.max=i(this.left.max,e):void 0===this.left&&void 0!==this.right?this.max=i(this.right.max,e):this.max=e,this.parent&&this.parent.updateMaxOfParents()}},e.prototype._updateMaxAfterRightRotate=function(){var e=this.parent,t=e.left,l=t.getNodeHigh();void 0===t.left&&void 0!==t.right?t.max=i(l,t.right.max):void 0!==t.left&&void 0===t.right?t.max=i(l,t.left.max):void 0===t.left&&void 0===t.right?t.max=l:t.max=i(i(t.left.max,t.right.max),l);var a=this.getNodeHigh();void 0===this.left&&void 0!==this.right?this.max=i(a,this.right.max):void 0!==this.left&&void 0===this.right?this.max=i(a,this.left.max):void 0===this.left&&void 0===this.right?this.max=a:this.max=i(i(this.left.max,this.right.max),a),e.max=i(i(e.left.max,e.right.max),e.getNodeHigh())},e.prototype._updateMaxAfterLeftRotate=function(){var e=this.parent,t=e.right,l=t.getNodeHigh();void 0===t.left&&void 0!==t.right?t.max=i(l,t.right.max):void 0!==t.left&&void 0===t.right?t.max=i(l,t.left.max):void 0===t.left&&void 0===t.right?t.max=l:t.max=i(i(t.left.max,t.right.max),l);var a=this.getNodeHigh();void 0===this.left&&void 0!==this.right?this.max=i(a,this.right.max):void 0!==this.left&&void 0===this.right?this.max=i(a,this.left.max):void 0===this.left&&void 0===this.right?this.max=a:this.max=i(i(this.left.max,this.right.max),a),e.max=i(i(e.left.max,t.max),e.getNodeHigh())},e.prototype._leftRotate=function(){var e=this.right;e.parent=this.parent,void 0===e.parent?this.intervalTree.root=e:e.parent.left===this?e.parent.left=e:e.parent.right===this&&(e.parent.right=e),this.right=e.left,void 0!==this.right&&(this.right.parent=this),e.left=this,this.parent=e,this.updateHeight(),e.updateHeight()},e.prototype._rightRotate=function(){var e=this.left;e.parent=this.parent,void 0===e.parent?this.intervalTree.root=e:e.parent.left===this?e.parent.left=e:e.parent.right===this&&(e.parent.right=e),this.left=e.right,void 0!==this.left&&(this.left.parent=this),e.right=this,this.parent=e,this.updateHeight(),e.updateHeight()},e.prototype._rebalance=function(){if(o(this.left)>=2+o(this.right)){var e=this.left;o(e.left)>=o(e.right)?(this._rightRotate(),this._updateMaxAfterRightRotate()):(e._leftRotate(),this._rightRotate(),this._updateMaxAfterRightRotate())}else if(o(this.right)>=2+o(this.left)){var t=this.right;o(t.right)>=o(t.left)?(this._leftRotate(),this._updateMaxAfterLeftRotate()):(t._rightRotate(),this._leftRotate(),this._updateMaxAfterLeftRotate())}},e.prototype.insert=function(t){t.low<this.key?void 0===this.left?(this.left=new e(this.intervalTree,t),this.left.parent=this):this.left.insert(t):void 0===this.right?(this.right=new e(this.intervalTree,t),this.right.parent=this):this.right.insert(t),this.max<t.high&&(this.max=t.high),this.updateHeight(),this._rebalance()},e.prototype._getOverlappingRecords=function(e,t,l){if(e.key<=l&&t<=e.getNodeHigh()){for(var a=[],i=0;i<e.records.length;i++)e.records[i].high>=t&&a.push(e.records[i]);return a}return[]},e.prototype.search=function(e,t){if(void 0===this)return[];var l=[],a=[],i=[];return e>this.max?[]:(void 0!==this.left&&this.left.max>=e&&(l=this.left.search(e,t)),a=this._getOverlappingRecords(this,e,t),t<this.key?l.concat(a):(void 0!==this.right&&(i=this.right.search(e,t)),l.concat(a,i)))},e.prototype.searchExisting=function(e){if(void 0!==this){if(this.key===e)return this;if(e<this.key){if(void 0!==this.left)return this.left.searchExisting(e)}else if(void 0!==this.right)return this.right.searchExisting(e)}},e.prototype._minValue=function(){return void 0===this.left?this:this.left._minValue()},e.prototype.remove=function(e){var t=this.parent;if(e.key<this.key)return void 0!==this.left?this.left.remove(e):void 0;if(e.key>this.key)return void 0!==this.right?this.right.remove(e):void 0;if(void 0!==this.left&&void 0!==this.right){var l=this.right._minValue();return this.key=l.key,this.records=l.records,this.right.remove(this)}return t.left===this?(void 0!==this.right?(t.left=this.right,this.right.parent=t):(t.left=this.left,void 0!==this.left&&(this.left.parent=t)),t.updateMaxOfParents(),t.updateHeight(),t._rebalance(),this):t.right===this?(void 0!==this.right?(t.right=this.right,this.right.parent=t):(t.right=this.left,void 0!==this.left&&(this.left.parent=t)),t.updateMaxOfParents(),t.updateHeight(),t._rebalance(),this):void 0},e}();var s=function(){function e(){this.count=0}return e.prototype.insert=function(e){if(e.low>e.high)throw new Error("`low` value must be lower or equal to `high` value");if(void 0===this.root)return this.root=new n(this,e),this.count++,!0;var t=this.root.searchExisting(e.low);if(void 0!==t){for(var l=0;l<t.records.length;l++)if(a(t.records[l],e))return!1;return t.records.push(e),e.high>t.max&&(t.max=e.high,t.parent&&t.parent.updateMaxOfParents()),this.count++,!0}return this.root.insert(e),this.count++,!0},e.prototype.search=function(e,t){return void 0===this.root?[]:this.root.search(e,t)},e.prototype.remove=function(e){if(void 0===this.root)return!1;var t=this.root.searchExisting(e.low);if(void 0===t)return!1;if(t.records.length>1){for(var l=void 0,o=0;o<t.records.length;o++)if(a(t.records[o],e)){l=t.records[o],t.records.splice(o,1);break}if(l){if(l=void 0,e.high===t.max){var s=t.getNodeHigh();void 0!==t.left&&void 0!==t.right?t.max=i(i(t.left.max,t.right.max),s):void 0!==t.left&&void 0===t.right?t.max=i(t.left.max,s):void 0===t.left&&void 0!==t.right?t.max=i(t.right.max,s):t.max=s,t.parent&&t.parent.updateMaxOfParents()}return this.count--,!0}return!1}if(1===t.records.length){if(a(t.records[0],e)){if(this.root.key===t.key){var r=new n(this,{low:e.low,high:e.low});r.left=this.root,this.root.parent=r;var c=this.root.remove(t);return this.root=r.left,void 0!==this.root&&(this.root.parent=void 0),!!c&&(c=void 0,this.count--,!0)}c=this.root.remove(t);return!!c&&(c=void 0,this.count--,!0)}return!1}return!1},e.prototype.inOrder=function(){return new c(this.root)},e.prototype.reverseInOrder=function(){return new u(this.root)},e.prototype.preOrder=function(){return new d(this.root)},e}();var r=function(){function e(){this.tree=new s}return e.prototype.insert=function(e,t,l){return this.tree.insert({low:e,high:t,data:l})},e.prototype.remove=function(e,t,l){return this.tree.remove({low:e,high:t,data:l})},e.prototype.search=function(e,t){return this.tree.search(e,t).map((function(e){return e.data}))},e.prototype.inOrder=function(){return this.tree.inOrder()},e.prototype.reverseInOrder=function(){return this.tree.reverseInOrder()},e.prototype.preOrder=function(){return this.tree.preOrder()},Object.defineProperty(e.prototype,"count",{get:function(){return this.tree.count},enumerable:!1,configurable:!0}),e}();t.ZP=r;var c=function(){function e(e){this.stack=[],void 0!==e&&this.push(e)}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return void 0===this.currentNode?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(void 0!==this.currentNode.right?this.push(this.currentNode.right):this.pop(),this.next())},e.prototype.push=function(e){this.currentNode=e,this.i=0;while(void 0!==this.currentNode.left)this.stack.push(this.currentNode),this.currentNode=this.currentNode.left},e.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},e}();var u=function(){function e(e){this.stack=[],void 0!==e&&this.push(e)}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return void 0===this.currentNode?{done:!0,value:void 0}:this.currentNode.records.length&&this.i>=0?{done:!1,value:this.currentNode.records[this.i--]}:(void 0!==this.currentNode.left?this.push(this.currentNode.left):this.pop(),this.next())},e.prototype.push=function(e){var t,l,a,i;this.currentNode=e,this.i=(null!==(l=null===(t=this.currentNode)||void 0===t?void 0:t.records.length)&&void 0!==l?l:0)-1;while(void 0!==this.currentNode.right)this.stack.push(this.currentNode),this.currentNode=this.currentNode.right,this.i=(null!==(i=null===(a=this.currentNode)||void 0===a?void 0:a.records.length)&&void 0!==i?i:0)-1},e.prototype.pop=function(){var e,t;this.currentNode=this.stack.pop(),this.i=(null!==(t=null===(e=this.currentNode)||void 0===e?void 0:e.records.length)&&void 0!==t?t:0)-1},e}();var d=function(){function e(e){this.stack=[],this.i=0,this.currentNode=e}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return void 0===this.currentNode?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(void 0!==this.currentNode.right&&this.push(this.currentNode.right),void 0!==this.currentNode.left&&this.push(this.currentNode.left),this.pop(),this.next())},e.prototype.push=function(e){this.stack.push(e)},e.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},e}()},6774:function(e){e.exports=function(e,t,l,a){var i=l?l.call(a,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),r=0;r<o.length;r++){var c=o[r];if(!s(c))return!1;var u=e[c],d=t[c];if(i=l?l.call(a,u,d,c):void 0,!1===i||void 0===i&&u!==d)return!1}return!0}},7673:function(e,t){"use strict";t.Z={emits:["update:modelValue"],inheritAttrs:!1,props:{modelValue:[String,Number],placeholder:String,label:String,required:Boolean,type:{default:"text"}},data(){return{bindingAttrs:{}}},created(){var e={listeners:{},attrs:{}};for(var t in this.$attrs)/^on/.test(t)?e.listeners[t]=this.$attrs[t]:e.attrs[t]=this.$attrs[t];this.bindingAttrs=e},methods:{focus(){this.$el.querySelector("input").focus()},error(){this.$el.classList.add("error")},checkIfFilled(e){this.required&&(e.target.value?e.target.parentNode.classList.remove("error"):e.target.parentNode.classList.add("error"))}}}},5425:function(e,t,l){"use strict";l.d(t,{s:function(){return r}});var a=l(6252),i=l(3577);const o=["type","required","value"],n={class:"label"},s=(0,a._)("span",{class:"focus-bg"},null,-1);function r(e,t,l,r,c,u){const d=(0,a.Q2)("ripple-effect");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",(0,a.dG)({class:"input-field"},c.bindingAttrs.attrs),[(0,a._)("input",(0,a.dG)({type:l.type,placeholder:" ",required:l.required,value:l.modelValue},c.bindingAttrs.listeners,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),onBlur:t[1]||(t[1]=(...e)=>u.checkIfFilled&&u.checkIfFilled(...e))}),null,16,o),(0,a._)("label",n,(0,i.zw)(l.placeholder||l.label),1),s],16)),[[d]])}},196:function(e,t,l){"use strict";function a(e,t,l){void 0===e[t]&&(e[t]=l)}l.d(t,{Z:function(){return a}})},7586:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});var a=l(2262),i=l(6252),o={props:{componentPath:{type:Function,default:null}},setup(e){const t=(0,a.XI)("");return t.value=(0,i.RC)(e.componentPath),{asyncComponent:t}},render(){return(0,i.h)(this.asyncComponent)}};const n=o;var s=n},2878:function(e,t,l){"use strict";var a=l(5509),i=l(4553),o=(l(9206),l(3744));const n=(0,o.Z)(i.Z,[["render",a.s]]);t.Z=n},6415:function(e,t,l){"use strict";l.d(t,{Z:function(){return p}});var a=l(6252),i=l(3577);const o={style:{"border-bottom":"2px solid #614828"}},n=["onClick"],s={class:"noselect"};function r(e,t,l,r,c,u){return(0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tabs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:(0,i.C_)(["tab",{active:l.tab===e.id,disabled:e.disabled}]),onClick:t=>u.click(e)},[(0,a._)("span",s,(0,i.zw)(e.name||e.title||e),1)],10,n)))),128))])}var c={name:"E7Tabs",emits:["change"],props:{tabs:{type:Array,default:function(){return[]}},tab:{default:""}},methods:{click(e){e.disabled||this.$emit("change",e)}}},u=l(3744);const d=(0,u.Z)(c,[["render",r]]);var p=d},180:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var a=l(6252);const i=(0,a._)("div",null,"Error",-1);function o(e,t,l,o,n,s){const r=(0,a.up)("LoadingComponent");return n.isFetching?(0,a.WI)(e.$slots,"fetching",{key:0},(()=>[(0,a.Wm)(r,{text:l.text},null,8,["text"])])):n.isError?(0,a.WI)(e.$slots,"error",{key:1},(()=>[i])):(0,a.WI)(e.$slots,"default",{key:2})}var n=l(6120),s={emits:["load","error","finally"],components:{LoadingComponent:n.Z},props:{promise:{type:Array,default:()=>[]},text:{type:String,default:"CONNECTING"}},data(){return{isFetching:!1,isError:!1,isDone:!1}},watch:{promise:{immediate:!0,handler(){this.doPromise()}}},methods:{doPromise(){this.isFetching=!0;let e=Array.isArray(this.promise)?this.promise:[this.promise];Promise.all(e).then((e=>{this.$emit("load",...e)})).catch((e=>{this.isError=!0,this.$emit("error",e)})).then((()=>{this.isFetching=!1,this.$emit("finally")}))}}},r=l(3744);const c=(0,r.Z)(s,[["render",o]]);var u=c},6295:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return ar}});var a=l(6252),i=l(3577),o=l(9963);const n={class:"flex full-h full-w"},s={ref:"side-nav",class:"editor-navigation flex flex-col noselect",tabindex:"-1"},r={class:"mobile-only-view",stlye:"height: 40px;"},c={class:"nav-bar-group overflow-auto hide-scrollbar"},u={class:"nav-bar-group overflow-auto hide-scrollbar"},d={class:"nav-bar-group overflow-auto hide-scrollbar"},p={class:"main-content-viewer overflow-hidden flex-fill flex flex-col"},h={class:"flex overflow-auto hide-scrollbar noselect",style:{height:"40px","white-space":"nowrap"}},m=(0,a._)("span",null," Menu ",-1),f=(0,a._)("i",{class:"fa fa-angle-right"},null,-1),g=[m,f],v=(0,a._)("i",{class:"fa fa-plus"},null,-1),y=(0,a._)("span",null," New ",-1),_=[v,y],V=(0,a._)("i",{class:"fa fa-trash"},null,-1),b=(0,a._)("span",null," Delete ",-1),w=[V,b],k=(0,a._)("span",null," View JSON ",-1),x=[k],D=(0,a._)("span",null," Preview ",-1),S=[D],C=(0,a._)("i",{class:"fa fa-save"},null,-1),E=(0,a._)("span",null," Save ",-1),M=[C,E],O={class:"tabs-container overflow-auto hide-scrollbar noselect"},N=["onClick"],U={class:"name text-ellipsis"},I=["onClick"],W={class:"flex-fill editor-main-container overflow-auto hide-scrollbar"};function R(e,t,l,m,f,v){const y=(0,a.up)("FileTree"),V=(0,a.up)("FileSearch"),b=(0,a.up)("OpenEditorCompoennt"),k=(0,a.up)("E7Error"),D=(0,a.Q2)("ripple-effect"),C=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",s,[(0,a._)("div",r,[(0,a._)("span",{class:"pointer pad-5",style:{float:"right","font-size":"30px"},onClick:t[0]||(t[0]=(...e)=>v.closeMobileNav&&v.closeMobileNav(...e))},"✖")]),(0,a._)("div",c,[(0,a._)("h2",{class:"pointer",onClick:t[1]||(t[1]=(...e)=>v.toggleCollpaseGroup&&v.toggleCollpaseGroup(...e))}," Open Editors "),(0,a.Wm)(y,{files:f.openFiles,onOpen:v.switchTab},null,8,["files","onOpen"])]),(0,a._)("div",u,[(0,a._)("h2",{class:"pointer",onClick:t[2]||(t[2]=(...e)=>v.toggleCollpaseGroup&&v.toggleCollpaseGroup(...e))}," File List "),(0,a.Wm)(y,{files:v.files,onOpen:v.openFile},null,8,["files","onOpen"])]),(0,a._)("div",d,[(0,a._)("h2",{class:"pointer",onClick:t[3]||(t[3]=(...e)=>v.toggleCollpaseGroup&&v.toggleCollpaseGroup(...e))}," Search "),(0,a.Wm)(V,{files:v.files,onOpen:v.openFile},null,8,["files","onOpen"])])],512),(0,a._)("div",p,[(0,a._)("div",h,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"mobile-only-view no-flex-shrink material-button basic primary",onClick:t[4]||(t[4]=t=>e.$refs["side-nav"].focus())},g)),[[D]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"no-flex-shrink material-button basic primary",onClick:t[5]||(t[5]=(...e)=>v.createNewFileButton&&v.createNewFileButton(...e))},_)),[[D]]),f.active?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"no-flex-shrink material-button basic warn",onClick:t[6]||(t[6]=(...e)=>v.deleteItem&&v.deleteItem(...e))},w)),[[D],[C,"Send a request to the server and delete<br>current document."]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"no-flex-shrink material-button basic primary",onClick:t[7]||(t[7]=(...e)=>v.previewJSON&&v.previewJSON(...e))},x)),[[D]]),f.active.previewComponent?(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:0,class:"no-flex-shrink material-button flat primary",onClick:t[8]||(t[8]=e=>f.active.viewPreview=!0)},S)),[[D]]):(0,a.kq)("",!0),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"no-flex-shrink material-button flat primary",onClick:t[9]||(t[9]=(...e)=>v.saveItem&&v.saveItem(...e)),style:{"margin-left":"auto"}},M)),[[C,"CTRL + S"],[D]])],64)):(0,a.kq)("",!0)]),(0,a._)("div",O,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.openFiles,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["file-open-tab",{active:e.active}]),key:"tab"+e.name,onClick:t=>v.switchTab(e)},[(0,a._)("span",U,(0,i.zw)(e.name),1),(0,a._)("span",{class:"close overflow-hidden relative mat-hover",onClick:(0,o.iM)((t=>v.closeFile(e)),["stop"])},"✖",8,I)],10,N)))),128))]),(0,a._)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.openFiles,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{key:"editor"+e.name,dataProp:e},null,8,["dataProp"])),[[o.F8,e.active]]))),128)),f.openFiles.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(k,{key:0},{default:(0,a.w5)((()=>[(0,a.Uk)(" No file selected ")])),_:1}))])])])}l(560);var P=l(2262),F=l(2784),A=l(3479),Z={emits:["close"],props:{dataProp:{type:Object,default:()=>({})}},computed:{wid(){return Date.now()}},render(){return(0,a.h)(A.Z,{onClose:()=>this.$emit("close"),wid:this.wid},(()=>(0,a.h)(this.dataProp.previewComponent||"div",{heroProp:this.dataProp.data,artiProp:this.dataProp.data})))}};const $=Z;var j=$,T={emits:["update:modelValue"],props:{dataProp:{type:Object,default:()=>({component:"div"})}},computed:{localData:{get(){return this.dataProp},set(e){return this.$emit("update:modelValue",e)}}},render(){return(0,a.h)("div",[(0,a.h)(this.dataProp.component||"div",{dataProp:this.localData.data,rootFile:this.localData,style:"padding-bottom: 110px;"}),this.localData.viewPreview?(0,a.h)(j,{dataProp:this.localData,onClose:()=>this.localData.viewPreview=!1,glassWindow:!1}):null])}};const H=T;var L=H,B={props:{files:{type:Array,default:()=>[]},flatten:{type:Boolean,default:!1},refreshIcon:{type:Boolean,default:!0}},methods:{emitOpenFile(e,t,l){l?this.$emit("open",e,t):this.$emit("open-childless",t)},recursiveNestedList(){var e=(t,l,i)=>t.map((t=>t.children?(0,a.h)("li",{},[this.flatten?null:(0,a.h)("span",{class:"caret tree-selectable pointer overflow-hidden text-ellipsis",onClick:this.toggleTree},[(0,a.h)("i",{class:"fa fa-angle-right caret-custom"}),t.refresh&&this.refreshIcon?(0,a.h)("i",{class:"fa fa-sync pad-5",style:"float: right; z-index: 2; position: relative;",onClick:e=>{e.stopPropagation(),t.refresh()}}):null,(0,a.h)("span",{class:"label"},t.name)]),(0,a.h)("ul",{class:this.flatten?"":"nested"},e(t.children,t.type||l,i+1))]):(0,a.h)("li",{class:"tree-selectable pointer overflow-hidden text-ellipsis "+(t.active?"active":""),onClick:()=>this.emitOpenFile(t,l,i)},[(0,a.h)("span",{class:"label"},t.name)])));return(0,a.h)("ul",{class:"file-tree relative",style:"z-index: 0;"},e(this.files,null,0))},toggleTree(e){e.currentTarget.parentElement.querySelector(".nested").classList.toggle("active"),e.currentTarget.parentElement.querySelector(".caret-custom").classList.toggle("caret-down")}},render(){return this.recursiveNestedList()}};const q=B;var K=q,z={props:{files:{type:Array,default:()=>[]}},data(){return{query:""}},computed:{searchResult(){return this.query.trim()?this.recursiveNameFilter(this.files,[],this.query.toLowerCase()):[]}},methods:{emitOpenFile(e,t){this.$emit("open",e,t)},updateQuery(e){this.query=e.target.value},recursiveNameFilter(e,t,l){for(var a in e){let s=e[a];if(s.children){var i=this.recursiveNameFilter(s.children,[],l),o={};for(var n in s)"children"!==n&&(o[n]=s[n]);o.children=i,t.push(o)}else-1!==s.name.toLowerCase().indexOf(l)&&t.push(s)}return t}},render(){return(0,a.h)("div",{},[(0,a.h)("div",{class:"nsearchbar",style:"display: inline-block; display: flex; flex: 1; overflow: hidden; position: relative;"},[(0,a.h)("input",{placeholder:"Search",value:this.query,onInput:this.updateQuery,autocomplete:"off",type:"text"}),(0,a.h)("div",{class:"go",onClick:e=>{this.query="",e.currentTarget.previousSibling.focus()}},[(0,a.h)("i",{class:"fa "+(this.query.trim()?"fa-times":"fa-search")})])]),(0,a.h)(K,{files:this.searchResult,flatten:!1,refreshIcon:!1,onOpen:this.emitOpenFile})])}};const G=z;var Y=G;const Q={class:"flex flex-col full-h full-w items-center justify-center"},J=(0,a._)("div",{style:{"font-size":"3em"}},[(0,a._)("i",{class:"fa fa-exclamation-circle"})],-1);function X(e,t){return(0,a.wg)(),(0,a.iD)("div",Q,[J,(0,a._)("div",null,[(0,a.WI)(e.$slots,"default")])])}var ee=l(3744);const te={},le=(0,ee.Z)(te,[["render",X]]);var ae=le,ie=l(8439),oe=l(4985),ne=l(8865),se=l(7710),re=l(3756);function ce(e,t,l,i,n,s){const r=(0,a.up)("Tabs"),c=(0,a.up)("GeneralTab"),u=(0,a.up)("ProfileTab"),d=(0,a.up)("SkillsTab"),p=(0,a.up)("SpecialtyChangeTab"),h=(0,a.up)("ExclusiveEquipment"),m=(0,a.up)("SkinComponent"),f=(0,a.up)("ChangelogComponent");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r,{tabs:[{id:"general",name:"General"},{id:"profile",name:"Profile"},{id:"skill",name:"Skills"},{id:"sc",name:"Specialty Change",disable:!s.hasSpecialtyChange},{id:"ees",name:"Exclusive Equip"},{id:"skin",name:"Skins"},{id:"changelog",name:"Changelog"}],tab:n.currentTab,onChange:t[0]||(t[0]=e=>n.currentTab=e.id)},null,8,["tabs","tab"]),(0,a.wy)((0,a.Wm)(c,{dataProp:l.dataProp},null,8,["dataProp"]),[[o.F8,"general"===n.currentTab]]),(0,a.wy)((0,a.Wm)(u,{dataProp:l.dataProp},null,8,["dataProp"]),[[o.F8,"profile"===n.currentTab]]),(0,a.wy)((0,a.Wm)(d,{"prop-data":l.dataProp.skills,hero:l.dataProp},null,8,["prop-data","hero"]),[[o.F8,"skill"===n.currentTab]]),s.hasSpecialtyChange?(0,a.wy)(((0,a.wg)(),(0,a.j4)(p,{key:0,"prop-data":l.dataProp},null,8,["prop-data"])),[[o.F8,"sc"===n.currentTab]]):(0,a.kq)("",!0),(0,a.wy)((0,a.Wm)(h,{modelValue:l.dataProp.ex_equip,hero:l.dataProp},null,8,["modelValue","hero"]),[[o.F8,"ees"===n.currentTab]]),(0,a.wy)((0,a.Wm)(m,{modelValue:l.dataProp.skin,hero:l.dataProp},null,8,["modelValue","hero"]),[[o.F8,"skin"===n.currentTab]]),(0,a.wy)((0,a.Wm)(f,{modelValue:l.dataProp.changelog},null,8,["modelValue"]),[[o.F8,"changelog"===n.currentTab]])])}var ue=l(6415);const de={class:"editor-variable-group"},pe=(0,a._)("h2",null,"General",-1),he={class:"flex",style:{"flex-wrap":"wrap"}},me={class:"col-1 col-lg-3"},fe={class:"col-1 col-lg-3"},ge={class:"col-1 col-lg-3"},ve={class:"flex flex-wrap"},ye={class:"col-1 col-lg-2 pad-5"},_e={class:"col-1 col-lg-4 pad-5"},Ve={class:"col-1 col-lg-4 pad-5"},be={class:"col-1 col-lg-4 pad-5"},we={class:"flex flex-wrap"},ke={class:"col-2 col-lg-4 pad-5"},xe={class:"col-2 col-lg-4 pad-5"},De={class:"col-2 col-lg-4 pad-5"},Se={class:"col-2 col-lg-4 pad-5"},Ce={class:"editor-variable-group"},Ee=(0,a._)("h2",null,"Imprint",-1),Me={class:"flex flex-wrap"},Oe={class:"col-1 col-lg-3 pad-5"},Ne=(0,a._)("i",null,"Imprint Release",-1),Ue=(0,a._)("br",null,null,-1),Ie={class:"col-1 col-lg-3 pad-5"},We=(0,a._)("i",null,"Slots",-1),Re=(0,a._)("br",null,null,-1),Pe={class:"col-1 col-lg-3 pad-5"},Fe=(0,a._)("i",null,"Imprint Concentration",-1),Ae=(0,a._)("br",null,null,-1),Ze={class:"editor-variable-group"},$e=(0,a._)("h2",null,"Stats",-1),je={class:"flex flex-wrap"},Te={class:"col-2 col-lg-4"},He={class:"col-2 col-lg-4"},Le={class:"col-2 col-lg-4"},Be={class:"col-2 col-lg-4"},qe={class:"editor-variable-group"},Ke=(0,a._)("h2",null,"Nicknames",-1),ze={class:"pad-5"},Ge={class:"editor-variable-group"},Ye=(0,a._)("h2",null,"Gacha Get Line",-1),Qe={class:"pad-5"},Je={class:"editor-variable-group"},Xe=(0,a._)("h2",null,"One line",-1),et={class:"pad-5"},tt={class:"editor-variable-group"},lt=(0,a._)("h2",null,"Story",-1),at={class:"pad-5"},it={class:"editor-variable-group"},ot=(0,a._)("h2",null,"Voice acting",-1),nt={class:"flex",style:{"flex-wrap":"wrap"}},st={class:"col-1 col-lg-3"},rt={class:"col-1 col-lg-3"};function ct(e,t,l,i,n,s){const r=(0,a.up)("MaterialInput"),c=(0,a.up)("Multiselect"),u=(0,a.up)("NicknamesComponent");return(0,a.wg)(),(0,a.iD)("div",de,[pe,(0,a._)("div",he,[(0,a._)("div",me,[(0,a.Wm)(r,{modelValue:s.localData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.name=e),type:"text",placeholder:"Name"},null,8,["modelValue"])]),(0,a._)("div",fe,[(0,a.Wm)(r,{modelValue:s.localData._id,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData._id=e),type:"text",placeholder:"_id"},null,8,["modelValue"])]),(0,a._)("div",ge,[(0,a.Wm)(r,{modelValue:s.localData.id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.id=e),type:"text",placeholder:"InGame ID"},null,8,["modelValue"])])]),(0,a._)("div",ve,[(0,a._)("div",ye,[(0,a.Wm)(c,{modelValue:s.localData.tags,"onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.tags=e),placeholder:"Tags",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.tags},null,8,["modelValue","options"])]),(0,a.wy)((0,a._)("div",_e,[(0,a.Wm)(r,{modelValue:s.localData.collaboration_ip,"onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.collaboration_ip=e),type:"text",placeholder:"Collab IP name",style:{margin:"0","margin-top":"-10px"}},null,8,["modelValue"])],512),[[o.F8,s.localData.tags.includes(2)]]),(0,a._)("div",Ve,[(0,a.Wm)(c,{modelValue:s.localData.sex,"onUpdate:modelValue":t[5]||(t[5]=e=>s.localData.sex=e),mode:"single",removable:!1,placeholder:"Gender",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.gender},null,8,["modelValue","options"])]),(0,a._)("div",be,[(0,a.Wm)(c,{modelValue:s.localData.related_artifact,"onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.related_artifact=e),mode:"single",removable:!1,placeholder:"Related Artifact (Rate up / Exclusive)",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.artifactList},null,8,["modelValue","options"])])]),(0,a._)("div",we,[(0,a._)("div",ke,[(0,a.Wm)(c,{modelValue:s.localData.rarity,"onUpdate:modelValue":t[7]||(t[7]=e=>s.localData.rarity=e),mode:"single",placeholder:"Rarity",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.rarity},null,8,["modelValue","options"])]),(0,a._)("div",xe,[(0,a.Wm)(c,{modelValue:s.localData.attribute,"onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.attribute=e),mode:"single",placeholder:"Attribute",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.attribute},null,8,["modelValue","options"])]),(0,a._)("div",De,[(0,a.Wm)(c,{modelValue:s.localData.role,"onUpdate:modelValue":t[9]||(t[9]=e=>s.localData.role=e),mode:"single",placeholder:"Role",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.role},null,8,["modelValue","options"])]),(0,a._)("div",Se,[(0,a.Wm)(c,{modelValue:s.localData.zodiac,"onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.zodiac=e),mode:"single",placeholder:"Zodiac",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.zodiac},null,8,["modelValue","options"])])]),(0,a._)("div",Ce,[Ee,(0,a._)("div",Me,[(0,a._)("div",Oe,[Ne,Ue,(0,a.Wm)(c,{modelValue:s.localData.devotion.type,"onUpdate:modelValue":t[11]||(t[11]=e=>s.localData.devotion.type=e),modelModifiers:{number:!0},mode:"single",placeholder:"Imprint Release",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.stats},null,8,["modelValue","options"])]),(0,a._)("div",Ie,[We,Re,(0,a.Wm)(c,{value:s.localData.devotion.slots.join(","),mode:"single",placeholder:"Slots",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.devotionSlots,onChange:s.slotsChange},null,8,["value","options","onChange"])]),(0,a._)("div",Pe,[Fe,Ae,(0,a.Wm)(c,{modelValue:s.localData.self_devotion.type,"onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.self_devotion.type=e),modelModifiers:{number:!0},mode:"single",placeholder:"Imprint Concentration",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.stats},null,8,["modelValue","options"])])])]),(0,a._)("div",Ze,[$e,(0,a._)("div",je,[(0,a._)("div",Te,[(0,a.Wm)(r,{modelValue:s.localData.stats.bra,"onUpdate:modelValue":t[13]||(t[13]=e=>s.localData.stats.bra=e),modelModifiers:{number:!0},type:"number",placeholder:"bra"},null,8,["modelValue"])]),(0,a._)("div",He,[(0,a.Wm)(r,{modelValue:s.localData.stats.int,"onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.stats.int=e),modelModifiers:{number:!0},type:"number",placeholder:"int"},null,8,["modelValue"])]),(0,a._)("div",Le,[(0,a.Wm)(r,{modelValue:s.localData.stats.fai,"onUpdate:modelValue":t[15]||(t[15]=e=>s.localData.stats.fai=e),modelModifiers:{number:!0},type:"number",placeholder:"fai"},null,8,["modelValue"])]),(0,a._)("div",Be,[(0,a.Wm)(r,{modelValue:s.localData.stats.des,"onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.stats.des=e),modelModifiers:{number:!0},type:"number",placeholder:"des"},null,8,["modelValue"])])])]),(0,a._)("div",qe,[Ke,(0,a._)("div",ze,[(0,a.Wm)(u,{modelValue:s.localData.nicknames,"onUpdate:modelValue":t[17]||(t[17]=e=>s.localData.nicknames=e)},null,8,["modelValue"])])]),(0,a._)("div",Ge,[Ye,(0,a._)("div",Qe,[(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.get_line=e)},null,512),[[o.nr,s.localData.get_line]])])]),(0,a._)("div",Je,[Xe,(0,a._)("div",et,[(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[19]||(t[19]=e=>s.localData.description=e)},null,512),[[o.nr,s.localData.description]])])]),(0,a._)("div",tt,[lt,(0,a._)("div",at,[(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.story=e)},null,512),[[o.nr,s.localData.story]])])]),(0,a._)("div",it,[ot,(0,a._)("div",nt,[(0,a._)("div",st,[(0,a.Wm)(c,{modelValue:s.localData.voice_acting.en,"onUpdate:modelValue":t[21]||(t[21]=e=>s.localData.voice_acting.en=e),placeholder:"English VAs (Can add more than 1)",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.vaList},null,8,["modelValue","options"])]),(0,a._)("div",rt,[(0,a.Wm)(c,{modelValue:s.localData.voice_acting.ja,"onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.voice_acting.ja=e),placeholder:"Japanese VAs (Can add more than 1)",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.vaList},null,8,["modelValue","options"])])])])])}var ut=l(2878),dt=l(9662);const pt={style:{gap:"10px"}},ht={class:"flex-fill"},mt=["onUpdate:modelValue"],ft={class:"no-flex-shrink"},gt=["onClick"],vt=(0,a._)("i",{class:"fa fa-minus"},null,-1),yt=[vt],_t=(0,a._)("span",null,"Add new nickname",-1),Vt=[_t];function bt(e,t,l,i,n,s){const r=(0,a.Q2)("ripple-effect");return(0,a.wg)(),(0,a.iD)("div",pt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.value,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,style:{width:"100%","max-width":"250px",display:"inline-flex"}},[(0,a._)("div",ht,[(0,a.wy)((0,a._)("input",{class:"nice-input",type:"text",placeholder:"Enter nickname","onUpdate:modelValue":e=>s.value[t]=e},null,8,mt),[[o.nr,s.value[t]]])]),(0,a._)("div",ft,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:e=>s.removeNickname(t),class:"material-button flat warn"},yt,8,gt)),[[r]])])])))),128)),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>s.addNewNickname&&s.addNewNickname(...e)),class:"material-button basic primary"},Vt)),[[r]])])}var wt={emits:["update:modelValue"],props:{modelValue:{}},computed:{value:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},methods:{addNewNickname(){this.value.push("")},removeNickname(e){this.value.splice(e,1)}}};const kt=(0,ee.Z)(wt,[["render",bt]]);var xt=kt,Dt=l(8753),St=l(9426);const Ct=Object.keys(ie.pJ).map((e=>({id:Number(e),name:ie.pJ[e]}))),Et=[{id:0,name:"Unknown"},{id:1,name:"Male"},{id:2,name:"Female"}],Mt=[5,4,3,2,1].map((e=>({id:e,name:e}))),Ot=[{id:"fire",name:"Fire",src:Dt.cK+"/img/cm_icon_promfire.png"},{id:"ice",name:"Ice",src:Dt.cK+"/img/cm_icon_promice.png"},{id:"wind",name:"Grass",src:Dt.cK+"/img/cm_icon_promwind.png"},{id:"light",name:"Light",src:Dt.cK+"/img/cm_icon_promlight.png"},{id:"dark",name:"Dark",src:Dt.cK+"/img/cm_icon_promdark.png"}],Nt=[{id:"common",name:"Common (Artifacts)"},{id:"warrior",name:"Warrior",src:Dt.cK+"/img/cm_icon_role_warrior.png"},{id:"knight",name:"Knight",src:Dt.cK+"/img/cm_icon_role_knight.png"},{id:"assassin",name:"Thief",src:Dt.cK+"/img/cm_icon_role_assassin.png"},{id:"ranger",name:"Ranger",src:Dt.cK+"/img/cm_icon_role_ranger.png"},{id:"mage",name:"Mage",src:Dt.cK+"/img/cm_icon_role_mage.png"},{id:"manauser",name:"Soul-weaver",src:Dt.cK+"/img/cm_icon_role_manauser.png"}],Ut=ie.Zp.map(((e,t)=>({id:e,name:ie.sL[t],src:(0,ie.OR)(e)}))),It=Dt.ot.map((e=>({id:e,name:(0,St.Z)(e)+(-1!==e.indexOf("rate")?" %":""),src:Dt.cK+"/img/cm_icon_stat_"+e.replace("_rate","")+".png"}))),Wt=[{id:[1,1,1,1],name:"All"},{id:[1,1,0,0],name:"Bottom Right"},{id:[1,0,1,0],name:"Top Right"},{id:[1,0,0,1],name:"Left Right"},{id:[0,1,1,0],name:"Top Bottom"},{id:[0,1,0,1],name:"Bottom Left"},{id:[0,0,1,1],name:"Top Left"}].map((e=>{const t=e.id;var l="";return l=t?t.map(((e,t)=>e?t+1:null)).filter((e=>e)).join("")||"0":0,{src:Dt.cK+"/img/hero_dedi_p_"+l+".png",name:e.name,id:t.join(",")}}));var Rt={components:{MaterialInput:ut.Z,Multiselect:dt.Z,NicknamesComponent:xt},props:{dataProp:{type:Object,default:()=>({})}},inject:["artifactList","vaList"],computed:{localData:{get(){return this.dataProp},set(e){return this.$emit("update:dataProp",e)}},multiselectOptions(){return{tags:Ct,gender:Et,rarity:Mt,role:Nt,attribute:Ot,zodiac:Ut,stats:It,devotionSlots:Wt}}},watch:{"localData.name":function(){this.localData._id=(this.localData.name||"").trim().replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"-").toLowerCase()},"localData.tags":function(){this.localData.tags.includes(2)||(this.localData.collaboration_ip="")}},methods:{slotsChange(e){if(!e)return this.localData.devotion.slots=[];this.localData.devotion.slots=e.split(",").map(Number)}}};const Pt=(0,ee.Z)(Rt,[["render",ct]]);var Ft=Pt;const At={class:"pad-5"},Zt=(0,a._)("h2",null,"Motto",-1),$t={class:"pad-5"},jt=(0,a._)("h2",null,"Specialty",-1),Tt={class:"pad-5"},Ht=(0,a._)("h2",null,"Hobby",-1),Lt={class:"pad-5"},Bt=(0,a._)("h2",null,"Likes",-1),qt={class:"pad-5"},Kt=(0,a._)("h2",null,"Dislikes",-1);function zt(e,t,l,i,n,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",At,[Zt,(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[0]||(t[0]=e=>s.localModel.profile.motto=e)},null,512),[[o.nr,s.localModel.profile.motto]])]),(0,a._)("div",$t,[jt,(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[1]||(t[1]=e=>s.localModel.profile.specialty=e)},null,512),[[o.nr,s.localModel.profile.specialty]])]),(0,a._)("div",Tt,[Ht,(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[2]||(t[2]=e=>s.localModel.profile.hobby=e)},null,512),[[o.nr,s.localModel.profile.hobby]])]),(0,a._)("div",Lt,[Bt,(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[3]||(t[3]=e=>s.localModel.profile.likes=e)},null,512),[[o.nr,s.localModel.profile.likes]])]),(0,a._)("div",qt,[Kt,(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[4]||(t[4]=e=>s.localModel.profile.dislikes=e)},null,512),[[o.nr,s.localModel.profile.dislikes]])])])}var Gt={props:{dataProp:{type:Object,default:()=>({})}},computed:{localModel:{get(){return this.dataProp},set(e){return this.$emit("update:dataProp",e)}}}};const Yt=(0,ee.Z)(Gt,[["render",zt]]);var Qt=Yt;function Jt(e,t,l,i,n,s){const r=(0,a.up)("Tabs"),c=(0,a.up)("Skill");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r,{tabs:s.skillTabs,tab:n.currentSkill,onChange:t[0]||(t[0]=e=>s.changeTab(e.id))},null,8,["tabs","tab"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.localData,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(c,{key:t,skill:e,hero:l.hero,onDelete:s.deleteSkill},null,8,["skill","hero","onDelete"])),[[o.F8,t===n.currentSkill]]))),128))])}const Xt=(0,a._)("i",{class:"fa fa-trash"},null,-1),el=(0,a._)("span",null," Delete Skill ",-1),tl=[Xt,el],ll={class:"editor-variable-group"},al=(0,a._)("h2",null,"General",-1),il={class:"flex flex-wrap"},ol=["src"],nl={class:"col-1 col-lg-3"},sl={class:"col-1 col-lg-3"},rl={class:"flex flex-wrap"},cl={class:"col-1 col-lg-4"},ul={class:"col-2 col-lg-4"},dl={class:"col-2 col-lg-4"},pl={class:"flex flex-wrap items-center pad-5"},hl={class:"col-2 col-lg-4"},ml={class:"col-2 col-lg-4"},fl={class:"col-2 col-lg-4"},gl={key:0,class:"col-2 col-lg-4"},vl={class:"flex flex-wrap"},yl={class:"col-2 col-lg-4"},_l={class:"col-2 col-lg-4"},Vl={class:"col-2 col-lg-4"},bl={class:"col-2 col-lg-4"},wl={class:"editor-variable-group"},kl=(0,a._)("h2",null,"Skill Enhancements",-1),xl={key:0,class:"editor-subgroup"},Dl=(0,a._)("h1",null," Awakened ",-1);function Sl(e,t,l,i,o,n){const s=(0,a.up)("MaterialInput"),r=(0,a.up)("MaterialCheckbox"),c=(0,a.up)("GenericSkillDescription"),u=(0,a.up)("SkillEnhancements"),d=(0,a.up)("SkillEditor",!0);return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{class:"material-button flat warn",style:{float:"right"},onClick:t[0]||(t[0]=(...e)=>n.deleteSkill&&n.deleteSkill(...e))},tl),(0,a._)("div",ll,[al,(0,a._)("div",il,[(0,a._)("div",null,[(0,a._)("img",{src:n.skillIcon,alt:"skill-icon"},null,8,ol)]),(0,a._)("div",nl,[(0,a.Wm)(s,{modelValue:n.localSkill.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.localSkill.name=e),type:"text",placeholder:"Name"},null,8,["modelValue"])]),(0,a._)("div",sl,[(0,a.Wm)(s,{modelValue:n.localSkill.icon,"onUpdate:modelValue":t[2]||(t[2]=e=>n.localSkill.icon=e),type:"text",placeholder:"Skill icon (If special hero)"},null,8,["modelValue"])])]),(0,a._)("div",rl,[(0,a._)("div",cl,[(0,a.Wm)(s,{modelValue:n.localSkill.skill,"onUpdate:modelValue":t[3]||(t[3]=e=>n.localSkill.skill=e),modelModifiers:{number:!0},type:"number",placeholder:"Skill Number"},null,8,["modelValue"])]),(0,a._)("div",ul,[(0,a.Wm)(s,{modelValue:n.localSkill.soul_gain,"onUpdate:modelValue":t[4]||(t[4]=e=>n.localSkill.soul_gain=e),modelModifiers:{number:!0},type:"number",placeholder:"Soul gain"},null,8,["modelValue"])]),(0,a._)("div",dl,[(0,a.Wm)(s,{modelValue:n.localSkill.cooldown,"onUpdate:modelValue":t[5]||(t[5]=e=>n.localSkill.cooldown=e),modelModifiers:{number:!0},type:"number",placeholder:"Cooldown"},null,8,["modelValue"])])]),(0,a._)("div",pl,[(0,a._)("div",hl,[(0,a.Wm)(r,{modelValue:n.localSkill.can_enhance,"onUpdate:modelValue":t[6]||(t[6]=e=>n.localSkill.can_enhance=e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Has Awakening")])),_:1},8,["modelValue"])]),(0,a._)("div",ml,[(0,a.Wm)(r,{modelValue:n.localSkill.passive,"onUpdate:modelValue":t[7]||(t[7]=e=>n.localSkill.passive=e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Passive skill")])),_:1},8,["modelValue"])]),(0,a._)("div",fl,[(0,a.Wm)(r,{modelValue:n.localSkill.soulburn,"onUpdate:modelValue":t[8]||(t[8]=e=>n.localSkill.soulburn=e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Soulburn")])),_:1},8,["modelValue"])]),n.localSkill.soulburn?((0,a.wg)(),(0,a.iD)("div",gl,[(0,a.Wm)(s,{modelValue:n.localSkill.soul_requirement,"onUpdate:modelValue":t[9]||(t[9]=e=>n.localSkill.soul_requirement=e),modelModifiers:{number:!0},type:"number",placeholder:"Soul requirement"},null,8,["modelValue"])])):(0,a.kq)("",!0)]),(0,a._)("div",vl,[(0,a._)("div",yl,[(0,a.Wm)(s,{modelValue:n.localSkill.focus_gain,"onUpdate:modelValue":t[10]||(t[10]=e=>n.localSkill.focus_gain=e),modelModifiers:{number:!0},type:"number",placeholder:"Focus Gain"},null,8,["modelValue"])]),(0,a._)("div",_l,[(0,a.Wm)(s,{modelValue:n.localSkill.focus_requirement,"onUpdate:modelValue":t[11]||(t[11]=e=>n.localSkill.focus_requirement=e),modelModifiers:{number:!0},type:"number",placeholder:"Focus Requirement"},null,8,["modelValue"])]),(0,a._)("div",Vl,[(0,a.Wm)(s,{modelValue:n.localSkill.fighting_spirit_gain,"onUpdate:modelValue":t[12]||(t[12]=e=>n.localSkill.fighting_spirit_gain=e),modelModifiers:{number:!0},type:"number",placeholder:"Fighting Spirit Gain"},null,8,["modelValue"])]),(0,a._)("div",bl,[(0,a.Wm)(s,{modelValue:n.localSkill.fighting_spirit_requirement,"onUpdate:modelValue":t[13]||(t[13]=e=>n.localSkill.fighting_spirit_requirement=e),modelModifiers:{number:!0},type:"number",placeholder:"Fighting Spirit Requirement"},null,8,["modelValue"])])])]),(0,a.Wm)(c,{modelValue:n.localSkill,"onUpdate:modelValue":t[14]||(t[14]=e=>n.localSkill=e)},null,8,["modelValue"]),(0,a._)("div",wl,[kl,(0,a.Wm)(u,{modelValue:n.localSkill.enhancements,"onUpdate:modelValue":t[15]||(t[15]=e=>n.localSkill.enhancements=e),"show-stats-increase":l.skill.stats.length>0,"skill-values":n.localSkill.values},null,8,["modelValue","show-stats-increase","skill-values"])]),n.localSkill.can_enhance?((0,a.wg)(),(0,a.iD)("div",xl,[Dl,(0,a.Wm)(d,{skill:n.localSkill.awakened,hero:l.hero,onDelete:t[16]||(t[16]=e=>n.localSkill.can_enhance=!1)},null,8,["skill","hero"])])):(0,a.kq)("",!0)])}var Cl=l(4618);const El={class:"editor-variable-group"},Ml=(0,a._)("h2",null,"Skill",-1),Ol={class:"flex flex-wrap",style:{"align-items":"end"}},Nl={class:"col-1 col-lg-2 pad-5"},Ul={key:0,class:"col-1 col-lg-2 pad-5"},Il=(0,a._)("div",null,[(0,a._)("i",{class:"text-small"},"Soulburn")],-1),Wl={key:0},Rl=(0,a._)("h3",null,"Stat increase",-1),Pl=(0,a._)("span",null,"New Stat",-1),Fl=[Pl],Al={class:"editor-variable-group"},Zl=(0,a._)("h2",null,"Buff / Debuff",-1),$l={class:"flex",style:{"flex-wrap":"wrap"}},jl={class:"col-1 col-lg-3 pad-5"},Tl={class:"col-1 col-lg-3 pad-5"},Hl={class:"col-1 col-lg-3 pad-5"},Ll=(0,a._)("i",{style:{"font-size":"0.8em"}},"For heroes specify single attack/multi target/AoE/non attack skill",-1);function Bl(e,t,l,i,o,n){const s=(0,a.up)("HighlightInput"),r=(0,a.up)("SkillStats"),c=(0,a.up)("Multiselect"),u=(0,a.Q2)("ripple-effect");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",El,[Ml,(0,a._)("div",Ol,[(0,a._)("div",Nl,[(0,a.Wm)(s,{highlight:o.rules,modelValue:o.visibleSkill,"onUpdate:modelValue":t[0]||(t[0]=e=>o.visibleSkill=e),class:"nice-input skill",onBlur:n.updateRealSkill},null,8,["highlight","modelValue","onBlur"])]),l.modelValue.soulburn?((0,a.wg)(),(0,a.iD)("div",Ul,[Il,(0,a.Wm)(s,{highlight:o.rules,modelValue:n.localData.soul_description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.localData.soul_description=e),class:"nice-input skill"},null,8,["highlight","modelValue"])])):(0,a.kq)("",!0)]),l.bonusStats?((0,a.wg)(),(0,a.iD)("div",Wl,[Rl,(0,a.Wm)(r,{modelValue:n.localData.stats,"onUpdate:modelValue":t[2]||(t[2]=e=>n.localData.stats=e),"can-remove":!0},null,8,["modelValue"]),(0,a._)("div",null,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"material-button flat primary",onClick:t[3]||(t[3]=(...e)=>n.addStatIncrease&&n.addStatIncrease(...e))},Fl)),[[u]])])])):(0,a.kq)("",!0)]),(0,a._)("div",Al,[Zl,(0,a._)("div",$l,[(0,a._)("div",jl,[(0,a.Wm)(c,{modelValue:n.localData.buff,"onUpdate:modelValue":t[4]||(t[4]=e=>n.localData.buff=e),placeholder:"Buffs",style:{"--ms-tag-bg":"var(--font-color-primary)"},options:n.buffList},null,8,["modelValue","options"])]),(0,a._)("div",Tl,[(0,a.Wm)(c,{modelValue:n.localData.debuff,"onUpdate:modelValue":t[5]||(t[5]=e=>n.localData.debuff=e),placeholder:"Debuffs",style:{"--ms-tag-bg":"var(--font-color-warn)"},options:n.debuffList},null,8,["modelValue","options"])]),(0,a._)("div",Hl,[(0,a.Wm)(c,{modelValue:n.localData.common,"onUpdate:modelValue":t[6]||(t[6]=e=>n.localData.common=e),placeholder:"Common effects",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.commonList},null,8,["modelValue","options"]),Ll])])])])}const ql={contenteditable:"true"};function Kl(e,t,l,i,o,n){return(0,a.wg)(),(0,a.iD)("div",ql)}var zl=l(1501),Gl=l(6163),Yl={"&":"&amp;","<":"&lt;",">":"&gt;"};function Ql(e){return void 0===e}var Jl={emits:["update:modelValue"],props:{highlight:{type:Array,default:()=>[]},value:{type:String,default:""},modelValue:{type:String,default:""},highlightStyle:{type:[String,Object],default:"background-color:yellow"},highlightEnabled:{type:Boolean,default:!0},highlightDelay:{type:Number,default:500},caseSensitive:{type:Boolean,default:!1},fireOn:{type:String,default:"keydown"},fireOnEnabled:{type:Boolean,default:!0}},data(){return{internalValue:"",htmlOutput:"",debouncedHandler:null}},mounted(){this.fireOnEnabled&&this.$el.addEventListener(this.fireOn,this.handleChange),this.internalValue=this.modelValue,this.processHighlights()},watch:{highlightStyle(){this.processHighlights()},highlight(){this.processHighlights()},value(){this.internalValue!=this.value&&(this.internalValue=this.value,this.processHighlights())},modelValue(){this.internalValue!=this.modelValue&&(this.internalValue=this.modelValue,this.processHighlights())},highlightEnabled(){this.processHighlights()},caseSensitive(){this.processHighlights()},htmlOutput(){var e=this.saveSelection(this.$el);this.$el.innerHTML=this.htmlOutput,this.$el===document.activeElement&&this.restoreSelection(this.$el,e)}},computed:{sortedHighlights(){return this.normalizedHighlights(this.highlight)}},methods:{getCleanText(){function e(t,l){if(3===t.nodeType)l.push(t.nodeValue);else if(1===t.nodeType&&"BR"===t.tagName)l.push("\n");else for(let a of t.childNodes){const t=a.getAttribute?a.getAttribute("data-text"):null;t?l.push(t):e(a,l)}}var t=[];return e(this.$el,t),t.join("")},handleChange(){this.debouncedHandler=(0,Gl.Ds)((function(){const e=this.$el.textContent;this.internalValue!==e&&(this.internalValue=e,this.processHighlights())}),this.highlightDelay),this.debouncedHandler()},processHighlights(){if(!this.highlightEnabled)return this.htmlOutput=this.internalValue,void this.$emit("input",this.internalValue);var e=new zl.ZP,t=[],l=this.sortedHighlights;if(l){for(var a=0;a<l.length;a++){var i=l[a],o=[];if(i.text&&("string"==typeof i.text&&(o=this.getIndicesOf(i.text,this.internalValue,Ql(i.caseSensitive)?this.caseSensitive:i.caseSensitive),o.forEach((t=>{var l=t+i.text.length-1;this.insertRange(t,l,i,e)}))),"[object RegExp]"===Object.prototype.toString.call(i.text)&&(o=this.getRegexIndices(i.text,this.internalValue),o.forEach((t=>{this.insertRange(t.start,t.end,i,e)})))),void 0!=i.start&&void 0!=i.end&&i.start<i.end){var n=i.start,s=i.end-1;this.insertRange(n,s,i,e)}}t=e.search(0,this.internalValue.length),t=t.sort(((e,t)=>e.start-t.start));for(var r="",c=0,u=0;u<t.length;u++){var d=t[u];r+=this.safe_tags_replace(this.internalValue.substring(c,d.start)),t[u].create?r+=t[u].create(this.safe_tags_replace(this.internalValue.substring(d.start,d.end+1))):r+="<span style='"+(t[u].style||"")+"' class='"+(t[u].class||"")+"'>"+this.safe_tags_replace(this.internalValue.substring(d.start,d.end+1))+"</span>",c=d.end+1}c<this.internalValue.length&&(r+=this.safe_tags_replace(this.internalValue.substring(c,this.internalValue.length))),this.htmlOutput=r,this.$emit("update:modelValue",this.internalValue)}},insertRange(e,t,l,a){var i=a.search(e,t),o=i.reduce(((e,t)=>Math.max(t.end-t.start,e)),0);0==i.length?a.insert(e,t,{start:e,end:t,style:l.style,class:l.class,create:l.create}):t-e>o&&(i.forEach((e=>{a.remove(e.start,e.end,e)})),a.insert(e,t,{start:e,end:t,style:l.style,class:l.class,create:l.create}))},normalizedHighlights(){if(null==this.highlight)return null;if("[object RegExp]"===Object.prototype.toString.call(this.highlight)||"string"==typeof this.highlight)return[{text:this.highlight}];if("[object Array]"===Object.prototype.toString.call(this.highlight)&&this.highlight.length>0){var e="string"==typeof this.highlightStyle?this.highlightStyle:Object.keys(this.highlightStyle).map((e=>e+":"+this.highlightStyle[e])).join(";")+";",t=this.highlight.filter((e=>e==Object.prototype.toString.call(e)==="[object RegExp]")),l=this.highlight.filter((e=>e==Object.prototype.toString.call(e)!=="[object RegExp]"));return l.map((t=>t.text||"string"==typeof t?{text:t.text||t,style:t.style||(t.class?"":e),class:t.class||"",create:t.create||null,caseSensitive:t.caseSensitive}:void 0!=t.start&&void 0!=t.end?{style:t.style||(t.class?"":e),start:t.start,end:t.end,class:t.class||"",create:t.create||null,caseSensitive:t.caseSensitive}:void console.error("Please provide a valid highlight object or string"))).sort(((e,t)=>e.text&&t.text?e.text>t.text:e.start==t.start?e.end<t.end:e.start<t.start)).concat(t)}return console.error("Expected a string or an array of strings"),null},safe_tags_replace(e){return e.replace(/[&<>]/g,this.replaceTag)},replaceTag(e){return Yl[e]||e},getRegexIndices(e,t){if(!e.global)return console.error("Expected "+e+" to be global"),[];e=RegExp(e);var l=[],a=null;while(null!=(a=e.exec(t)))l.push({start:a.index,end:a.index+a[0].length-1});return l},getIndicesOf(e,t,l){var a=e.length;if(0==a)return[];var i,o=0,n=[];l||(t=t.toLowerCase(),e=e.toLowerCase());while((i=t.indexOf(e,o))>-1)n.push(i),o=i+a;return n},saveSelection(e){var t;if(window.getSelection&&document.createRange){var l=window.getSelection();if(!l||0==l.rangeCount)return;var a=l.getRangeAt(0),i=a.cloneRange();return i.selectNodeContents(e),i.setEnd(a.startContainer,a.startOffset),t=i.toString().length,{start:t,end:t+a.toString().length}}if(document.selection){var o=document.selection.createRange(),n=document.body.createTextRange();return n.moveToElementText(e),n.setEndPoint("EndToStart",o),t=n.text.length,{start:t,end:t+o.text.length}}},restoreSelection(e,t){if(t)if(window.getSelection&&document.createRange){var l=0,a=document.createRange();a.setStart(e,0),a.collapse(!0);var i,o=[e],n=!1,s=!1;while(!s&&(i=o.pop()))if(3==i.nodeType){var r=l+i.length;!n&&t.start>=l&&t.start<=r&&(a.setStart(i,t.start-l),n=!0),n&&t.end>=l&&t.end<=r&&(a.setEnd(i,t.end-l),s=!0),l=r}else{var c=i.childNodes.length;while(c--)o.push(i.childNodes[c])}var u=window.getSelection();u.removeAllRanges(),u.addRange(a)}else if(document.selection){var d=document.body.createTextRange();d.moveToElementText(e),d.collapse(!0),d.moveEnd("character",t.end),d.moveStart("character",t.start),d.select()}}}};const Xl=(0,ee.Z)(Jl,[["render",Kl],["__scopeId","data-v-404a5317"]]);var ea=Xl;function ta(e,t,l,i,o,n){const s=(0,a.up)("SkillStats",!0);return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.localModel,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"flex flex-wrap",style:{"max-width":"600px"},key:t},[(0,a.Wm)(s,{modelValue:n.localModel[t],"onUpdate:modelValue":e=>n.localModel[t]=e,"can-remove":l.canRemove,onDelete:n.removeStat},null,8,["modelValue","onUpdate:modelValue","can-remove","onDelete"])])))),128)}const la={class:"col-5 pad-5"},aa={class:"flex-fill pad-5"},ia={class:"no-flex-shrink pad-5"},oa=(0,a._)("i",{class:"fa fa-minus"},null,-1),na=[oa];function sa(e,t,l,i,n,s){const r=(0,a.up)("PercentageInput"),c=(0,a.up)("Multiselect");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",la,[(0,a.Wm)(r,{class:"nice-input",modelValue:s.localModel.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localModel.value=e)},null,8,["modelValue"])]),(0,a._)("div",aa,[(0,a.Wm)(c,{options:s.stats,mode:"single",modelValue:s.localModel.type,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localModel.type=e)},null,8,["options","modelValue"])]),(0,a._)("div",ia,[(0,a.wy)((0,a._)("button",{class:"material-button flat warn",onClick:t[2]||(t[2]=(...e)=>s.emitDelete&&s.emitDelete(...e))},na,512),[[o.F8,l.canRemove]])])],64)}function ra(e,t,l,i,n,s){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.localValue=e),type:"text"},null,512)),[[o.nr,s.localValue,void 0,{lazy:!0}]])}var ca={emits:["update:modelValue"],props:{modelValue:{type:Number,default:0}},computed:{localValue:{get(){return Math.abs(this.modelValue)<1?Math.round(100*this.modelValue*100)/100+"%":this.modelValue},set(e){e||(e="0"),e=-1!==e.indexOf("%")?parseFloat(e.replace("%"))/100:parseFloat(e),this.$emit("update:modelValue",e)}}}};const ua=(0,ee.Z)(ca,[["render",ra]]);var da=ua,pa={emits:["update:modelValue","delete"],components:{Multiselect:dt.Z,PercentageInput:da},props:{modelValue:{type:Object,default:()=>({})},canRemove:{type:Boolean,default:!0}},computed:{localModel:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},stats(){return It}},methods:{emitDelete(){this.$emit("delete",this.localModel)}}};const ha=(0,ee.Z)(pa,[["render",sa]]);var ma=ha,fa={emits:["update:modelValue"],components:{SkillStats:ma},props:{modelValue:{type:Array,default:()=>[]},canRemove:{type:Boolean,default:!0}},computed:{localModel:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},methods:{removeStat(e){var t=this.localModel.indexOf(e);-1!==t&&this.localModel.splice(t,1)}}};const ga=(0,ee.Z)(fa,[["render",ta]]);var va=ga,ya={emits:["update:modelValue"],components:{Multiselect:dt.Z,HighlightInput:ea,SkillStats:va},inject:["buffList","debuffList","commonList"],props:{modelValue:{type:Object,default:()=>({})},bonusStats:{type:Boolean,default:!0},double:{type:Boolean,default:!1}},computed:{localData:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},watch:{"modelValue.description":{immediate:!0,handler(e){this.updateVisibleSkill(e)}},"modelValue.values":{deep:!0,handler(){this.updateVisibleSkill(this.modelValue.description)}}},data(){return{visibleSkill:"",rules:[{text:new RegExp("--(.+?)--","g"),class:"debuff",create:e=>'<span style="opacity: 0.5;">--</span><span class="debuff">'+e.replace(/--/g,"")+'</span><span style="opacity: 0.5;">--</span>'},{text:new RegExp(/\{\{([0-9/% .,-]+?)\}\}/,"g"),class:"variable",create:e=>'<span style="opacity: 0.5;">{{</span><span class="variable">'+e.replace(/\{\{|\}\}/g,"")+'</span><span style="opacity: 0.5;">}}</span>'},{text:new RegExp(/\*\*(.+?)\*\*/,"g"),class:"common",create:e=>'<span style="opacity: 0.5;">**</span><span class="common">'+e.replace(/\*\*/g,"")+'</span><span style="opacity: 0.5;">**</span>'},{text:new RegExp(/\+\+(.+?)\+\+/,"g"),class:"buff",create:e=>'<span style="opacity: 0.5;">++</span><span class="buff">'+e.replace(/\+\+/g,"")+'</span><span style="opacity: 0.5;">++</span>'}]}},methods:{addStatIncrease(){this.localData.stats||(this.localData.stats=[]),this.localData.stats.push({type:"",value:0})},updateRealSkill(){const e=[];var t=this.visibleSkill.replace(/\{\{([0-9/% .,-]+?)\}\}/g,((t,l)=>{let a=l;if(!a)return"{{ }}";let i=a.split(/\s*\/\s*/).map((e=>-1!==e.indexOf("%")?parseFloat(e)/1e3:parseFloat(e)));return this.double&&i.length<2&&i.push(2*i[0]),e.push(i),"{{variable}}"}));this.localData.values=e,this.localData.description=t.replace(/[ ]+/g," ").replace(/\n$/,"")},updateVisibleSkill(e){var t=JSON.parse(JSON.stringify(this.modelValue.values));this.visibleSkill=e.replace(/\{\{\s*variable\s*\}\}/gi,(e=>{var l=t.splice(0,1)[0];return l?(l.map||(l=[l]),"{{ "+l.map((e=>Math.abs(e)<1?Math.round(1e3*e*100)/100+"%":e)).join(" / ")+" }}"):e}))}}};const _a=(0,ee.Z)(ya,[["render",Bl]]);var Va=_a;const ba=(0,a._)("span",null," New Enhancement ",-1),wa=[ba];function ka(e,t,l,i,o,n){const s=(0,a.up)("SkillEnhancement");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.localModel,((e,t)=>((0,a.wg)(),(0,a.j4)(s,{key:t,index:t,modelValue:n.localModel[t],"onUpdate:modelValue":e=>n.localModel[t]=e,"skill-values":n.localSkillValues,"show-stats":l.showStatsIncrease,"always-sync-value":l.alwaysSyncValue,onDelete:n.deleteEnhancement},null,8,["index","modelValue","onUpdate:modelValue","skill-values","show-stats","always-sync-value","onDelete"])))),128)),(0,a._)("button",{class:"material-button flat primary",onClick:t[0]||(t[0]=(...e)=>n.newEnhacement&&n.newEnhacement(...e))},wa)])}const xa={class:"flex flex-wrap items-center",style:{"max-width":"600px"}},Da={class:"pad-5"},Sa={class:"col-5 pad-5"},Ca={class:"flex-fill pad-5"},Ea={class:"no-flex-shrink pad-5"},Ma=(0,a._)("i",{class:"fa fa-minus"},null,-1),Oa=[Ma],Na={class:"col-1 pad-5",style:{padding:"0 0 20px 33px"}},Ua={style:{"border-left":"solid 1px","padding-left":"10px"}},Ia=(0,a._)("h4",null," Hero stats increase ",-1),Wa=(0,a._)("i",{class:"fa fa-plus"},null,-1),Ra=(0,a._)("span",null,"New Stat",-1),Pa=[Wa,Ra];function Fa(e,t,l,n,s,r){const c=(0,a.up)("PercentageInput"),u=(0,a.up)("Multiselect"),d=(0,a.up)("MaterialCheckbox"),p=(0,a.up)("SkillStats"),h=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",xa,[(0,a._)("div",Da,[(0,a._)("span",null," +"+(0,i.zw)(l.index+1),1)]),(0,a._)("div",Sa,[(0,a.Wm)(c,{class:"nice-input",modelValue:r.localModel.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.localModel.value=e)},null,8,["modelValue"])]),(0,a._)("div",Ca,[(0,a.Wm)(u,{options:r.enhancementList,mode:"single",modelValue:r.localModel.string,"onUpdate:modelValue":t[1]||(t[1]=e=>r.localModel.string=e)},null,8,["options","modelValue"])]),(0,a._)("div",null,[(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{modelValue:s.syncValue,"onUpdate:modelValue":t[2]||(t[2]=e=>s.syncValue=e)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Sync Skill Desc ")])),_:1},8,["modelValue"])),[[h,"Update skill description values"]])]),(0,a._)("div",Ea,[(0,a._)("button",{class:"material-button flat warn",onClick:t[3]||(t[3]=(...e)=>r.deleteEnhancement&&r.deleteEnhancement(...e))},Oa)]),(0,a.wy)((0,a._)("div",Na,[(0,a._)("div",Ua,[Ia,(0,a.Wm)(p,{modelValue:r.localModel.stats,"onUpdate:modelValue":t[4]||(t[4]=e=>r.localModel.stats=e),"can-remove":!0},null,8,["modelValue"]),(0,a._)("button",{class:"material-button flat primary",onClick:t[5]||(t[5]=t=>r.newStatIncrease(e.i))},Pa)])],512),[[o.F8,l.showStats]])])}function Aa(e){switch(e){case"enh_max_health":case"enh_rune_health":return It[0].id;case"enh_defense":return It[4].id;case"enh_att_rate":case"enh_att_rate_up_stack":return It[2].id;case"enh_speed":return It[6].id;case"enh_effectiveness":return It[7].id;case"enh_eff_res":return It[8].id;case"enh_crit_chance":return It[9].id;case"enh_cri_dmg":return It[10].id;case"enh_dual_attack_chance":return It[11].id;default:return""}}var Za={name:"SkillEnhancements",emits:["update:modelValue"],components:{Multiselect:dt.Z,MaterialCheckbox:Cl.Z,PercentageInput:da,SkillStats:va},inject:["enhancementList"],props:{index:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},skillValues:{type:Array,defualt:()=>[]},showStats:{type:Boolean,default:!0},alwaysSyncValue:{type:Boolean,default:!1}},data(){return{syncValue:!!this.skillValues?.[0]?.[this.index+1]&&this.skillValues?.[0]?.[this.index+1]==this.toSkillValue(this.modelValue.value)||!!this.skillValues?.[0]?.[this.index+1]&&!this.modelValue.value}},created(){if(this.alwaysSyncValue&&!this.firstVariableArray[this.index+1]&&(this.syncValue=!0),this.firstSkillValue&&!this.modelValue.value){let e=this.firstSkillValue;this.localModel.value=this.fromSkillValue(e)}else this.modelValue.value||this.modelValue.string||(this.localModel.string="enh_damage_dealt",this.localModel.value=.05)},watch:{"modelValue.value":function(){this.updateSkillValue()},syncValue(){this.updateSkillValue()},firstSkillValue(){this.syncValue&&(this.localModel.value=this.fromSkillValue(this.firstSkillValue))}},computed:{localModel:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},localSkillValues:{get(){return this.skillValues},set(e){return this.$emit("update:skillValues",e)}},firstVariableArray(){return this.skillValues?.[0]||[]},firstSkillValue(){return this.firstVariableArray?.[this.index+1]?.valueOf()||0},statsLength(){return this.modelValue.stats.length},stats(){return It}},methods:{deleteEnhancement(){this.$emit("delete",this.index)},newStatIncrease(){this.localModel.stats.push({type:Aa(this.localModel.string),value:this.localModel.value})},toSkillValue(e){return Math.abs(e)<1?Math.round(1e4*e)/1e5:e},fromSkillValue(e){return Math.abs(e)<1?Math.round(1e5*e)/1e4:e},updateSkillValue(){if(!this.syncValue)return;let e=this.localModel.value.valueOf(),t=this.index,l=this.toSkillValue(e);this.localSkillValues.forEach((e=>{e[t+1]=l,e.forEach(((t,l)=>{e[l]=t||0}))}))}}};const $a=(0,ee.Z)(Za,[["render",Fa]]);var ja=$a,Ta={name:"SkillEnhancements",emits:["update:modelValue"],components:{SkillEnhancement:ja},inject:["enhancementList"],props:{modelValue:{type:Object,default:()=>({})},showStatsIncrease:{type:Boolean,default:!0},skillValues:{type:Array,default:()=>[]},alwaysSyncValue:{type:Boolean,default:!1}},computed:{localModel:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},localSkillValues:{get(){return this.skillValues},set(e){return this.$emit("update:skillValues",e)}},skillValuesMask(){return this.localSkillValues?.[0].slice(1)}},methods:{newEnhacement(){this.localModel.length<15&&(this.localModel.push({value:0,string:"",stats:[]}),this.localSkillValues.forEach((e=>{e&&(e[this.localModel.length]||(e[this.localModel.length]=0))})))},deleteEnhancement(e){this.localModel.splice(e,1),this.localSkillValues.forEach((t=>{t&&t.splice(e+1,1)}))}}};const Ha=(0,ee.Z)(Ta,[["render",ka]]);var La=Ha,Ba=l(2764),qa={name:"SkillEditor",emits:["update:modalValue","delete"],components:{MaterialInput:ut.Z,MaterialCheckbox:Cl.Z,GenericSkillDescription:Va,SkillEnhancements:La},props:{skill:{type:Object,default:()=>({})},hero:{type:Object,default:()=>({})}},computed:{localSkill:{get(){return this.skill},set(e){return this.$emit("update:modelValue",e)}},skillIcon(){return(0,Ba.B3)(this.skill,this.hero.id)},firstSkillValues(){return this.skill.values?.[0]||[]}},watch:{"localSkill.can_enhance":function(e){e?this.localSkill.awakened=this.copySkill():delete this.localSkill.awakened},"localSkill.soulburn":function(e){e?(this.localSkill.soul_requirement=10,this.localSkill.soul_description=""):(delete this.localSkill.soul_requirement,delete this.localSkill.soul_description)},"localSkill.focus_gain":function(e){e||delete this.localSkill.focus_gain},"localSkill.focus_requirement":function(e){e||delete this.localSkill.focus_requirement},"localSkill.fighting_spirit_gain":function(e){e||delete this.localSkill.fighting_spirit_gain},"localSkill.fighting_spirit_requirement":function(e){e||delete this.localSkill.fighting_spirit_requirement}},methods:{deleteSkill(){this.$emit("delete",this.skill)},copySkill(){let e=JSON.parse(JSON.stringify(this.localSkill));return delete e.can_enhance,e}}};const Ka=(0,ee.Z)(qa,[["render",Sl]]);var za=Ka,Ga=l(196);function Ya(e,t){return[["_id","ex"+t.id+"0"+((t.ex_equip||[]).length+1)],["id","ex"+t.id+"0"+((t.ex_equip||[]).length+1)],["name",""],["description",""],["release_dt",{}],["unit",t._id],["role",t.role],["rarity",t.rarity],["stat",{type:"",value:0}],["skills",[{},{},{}]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e.skills.forEach(((e,t)=>{Qa(e,t)})),e}function Qa(e,t){return[["_id",t],["skill",1],["description",""],["skill_description",""],["values",[]],["stats",[]],["buff",[]],["debuff",[]],["common",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}function Ja(e,t,l){return[["_id",""],["id",l.id+"_s0"+(t+1)],["type",""],["release_dt",{}],["name",""],["description",""],["tags",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}function Xa(e){return[["id",""],["_id",""],["name",""],["base_id",null],["specialty_id",null],["rarity",0],["attribute",""],["role",""],["zodiac",""],["stats",{bra:0,int:0,fai:0,des:0}],["sex",0],["release_dt",{}],["tags",[]],["collaboration_ip",null],["nicknames",[]],["related_artifact",""],["get_line",""],["story",""],["description",""],["voice_acting",{en:[],ja:[]}],["relationships",{}],["profile",{motto:"",specialty:"",hobby:"",likes:"",dislikes:""}],["camping",{}],["devotion",{type:"",slots:[1,1,1,1]}],["self_devotion",{type:""}],["skills",[]],["ex_equip",[]],["specialty_change",{}],["skin",[]],["buff",[]],["debuff",[]],["common",[]],["created_dt",0],["changelog",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e.skills.forEach((t=>{ei(t,e)})),e.skin.forEach(((t,l)=>{Ja(t,l,e)})),e.ex_equip.forEach((t=>{Ya(t,e)})),ti(e.stats),e}function ei(e){return[["name",""],["description",""],["values",[]],["stats",[]],["passive",!1],["can_enhance",!1],["cooldown",0],["soul_gain",1],["buff",[]],["debuff",[]],["common",[]],["enhancements",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}function ti(e){return[["bra",0],["int",0],["fai",0],["des",0],["skills",[]],["ex_equip",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}function li(e){if(e)return[["tree",[[],[],[],[],[]]],["quests",[]],["alt_versions",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}var ai={name:"SkillsTab",emits:["update:modelValue"],components:{Tabs:ue.Z,Skill:za},props:{propData:{type:Object,default:()=>({})},hero:{type:Object,default:()=>({})}},data(){return{currentSkill:this.propData.length-1}},computed:{localData:{get(){return this.propData},set(e){return this.$emit("update:modelValue",e)}},skillTabs(){return this.localData.map(((e,t)=>({id:t,name:"Skill "+(e.skill||t+1)}))).concat([{id:"new",name:"New Skill",disabled:3==this.localData.length}])}},methods:{changeTab(e){if("new"!==e)return this.currentSkill=e;this.newSkill()},newSkill(){const e=ei({});e.skill=this.localData.length+1,this.localData.push(e),this.currentSkill=this.localData.length-1},deleteSkill(e){const t=this.localData.indexOf(e);-1!==t&&this.localData.splice(t,1)}}};const ii=(0,ee.Z)(ai,[["render",Jt]]);var oi=ii;const ni=(0,a._)("span",null," New EE ",-1),si=[ni];function ri(e,t,l,i,o,n){const s=(0,a.up)("ExclusiveEquipment");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.localValue,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(s,{modelValue:n.localValue[t],"onUpdate:modelValue":e=>n.localValue[t]=e,hero:l.hero,onDelete:n.deleteEE},null,8,["modelValue","onUpdate:modelValue","hero","onDelete"])])))),128)),(0,a._)("div",null,[(0,a._)("button",{class:"material-button flat primary",onClick:t[0]||(t[0]=(...e)=>n.newEE&&n.newEE(...e))},si)])])}const ci={class:"editor-subgroup"},ui={class:"flex flex-wrap items-center"},di=(0,a._)("i",{class:"fa fa-trash"},null,-1),pi=(0,a._)("span",null," Delete EE ",-1),hi=[di,pi],mi={class:"col-1 col-lg-3"},fi={class:"col-2 col-lg-4"},gi={class:"col-2 col-lg-4"},vi={class:"editor-variable-group"},yi=(0,a._)("h2",null,"Main EE Stat (Input the Min Value)",-1),_i={class:"flex flex-wrap"},Vi={class:"editor-variable-group"},bi=(0,a._)("h2",null,"Description (Story)",-1),wi={class:"pad-5"};function ki(e,t,l,i,n,s){const r=(0,a.up)("MaterialInput"),c=(0,a.up)("SkillStats"),u=(0,a.up)("Tabs"),d=(0,a.up)("ExEquipOption");return(0,a.wg)(),(0,a.iD)("div",ci,[(0,a._)("div",ui,[(0,a._)("div",null,[(0,a._)("button",{class:"material-button flat warn",onClick:t[0]||(t[0]=(...e)=>s.deleteEE&&s.deleteEE(...e))},hi)]),(0,a._)("div",mi,[(0,a.Wm)(r,{modelValue:s.localValue.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localValue.name=e),placeholder:"name"},null,8,["modelValue"])]),(0,a._)("div",fi,[(0,a.Wm)(r,{modelValue:s.localValue._id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localValue._id=e),placeholder:"_id"},null,8,["modelValue"])]),(0,a._)("div",gi,[(0,a.Wm)(r,{modelValue:s.localValue.id,"onUpdate:modelValue":t[3]||(t[3]=e=>s.localValue.id=e),placeholder:"id (Same as _id)"},null,8,["modelValue"])])]),(0,a._)("div",vi,[yi,(0,a._)("div",_i,[(0,a.Wm)(c,{modelValue:s.localValue.stat,"onUpdate:modelValue":t[4]||(t[4]=e=>s.localValue.stat=e),"can-remove":!1},null,8,["modelValue"])])]),(0,a._)("div",Vi,[bi,(0,a._)("div",wi,[(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[5]||(t[5]=e=>s.localValue.description=e)},null,512),[[o.nr,s.localValue.description]])])]),(0,a.Wm)(u,{tabs:[{id:0,name:"Option 1"},{id:1,name:"Option 2"},{id:2,name:"Option 3"}],tab:n.currentTab,onChange:t[6]||(t[6]=e=>n.currentTab=e.id)},null,8,["tab"]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.localValue.skills,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(d,{modelValue:s.localValue.skills[t],"onUpdate:modelValue":e=>s.localValue.skills[t]=e,hero:l.hero},null,8,["modelValue","onUpdate:modelValue","hero"])])),[[o.F8,t===n.currentTab]]))),128))])])}const xi={style:{"max-width":"650px",width:"100%",padding:"15px 5px"}};function Di(e,t,l,i,o,n){const s=(0,a.up)("Multiselect"),r=(0,a.up)("GenericSkillDescription");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",xi,[(0,a.Wm)(s,{modelValue:n.localValue.skill,"onUpdate:modelValue":t[0]||(t[0]=e=>n.localValue.skill=e),modelModifiers:{number:!0},mode:"single",placeholder:"Skill",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.skillsMultiselect},null,8,["modelValue","options"])]),(0,a.Wm)(r,{modelValue:n.localValue,"onUpdate:modelValue":t[1]||(t[1]=e=>n.localValue=e)},null,8,["modelValue"])])}var Si={emits:["update:modelValue","delete"],components:{GenericSkillDescription:Va,Multiselect:dt.Z},props:{modelValue:{type:Object,default:()=>({})},hero:{type:Object,default:()=>({})}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},skillsMultiselect(){return(this.hero.skills||[]).map(((e,t)=>{const l=e.skill||t;return{id:l,name:"[ Skill "+l+" ] "+e.name,description:(e.description||"").length>100?e.description.slice(0,100)+"...":e.description}}))}}};const Ci=(0,ee.Z)(Si,[["render",Di]]);var Ei=Ci;const Mi={max_hp_rate:.07,def_rate:.07,att_rate:.07,cri:.06,cri_dmg:.07,acc:.08,res:.08,speed:5};var Oi={emits:["update:modelValue","delete"],components:{MaterialInput:ut.Z,Tabs:ue.Z,SkillStats:ma,ExEquipOption:Ei},props:{modelValue:{type:Object,default:()=>({})},hero:{type:Object,default:()=>({})}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},data(){return{currentTab:0}},watch:{"modelValue.stat.type":function(){this.localValue.stat.value=Mi[this.localValue.stat.type]||0}},methods:{deleteEE(){this.$emit("delete",this.modelValue)}}};const Ni=(0,ee.Z)(Oi,[["render",ki]]);var Ui=Ni,Ii={name:"ExclusiveEquipments",emits:["update:modelValue"],components:{ExclusiveEquipment:Ui},props:{modelValue:{type:Array,default:()=>[]},hero:{type:Object,default:()=>({})}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},methods:{newEE(){this.localValue.push(Ya({},this.hero))},deleteEE(e){var t=this.localValue.indexOf(e);-1!==t&&this.localValue.splice(t,1)}}};const Wi=(0,ee.Z)(Ii,[["render",ri]]);var Ri=Wi;const Pi=(0,a._)("span",null," New Skin ",-1),Fi=[Pi];function Ai(e,t,l,i,o,n){const s=(0,a.up)("Skin");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.localValue,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"editor-subgroup"},[(0,a.Wm)(s,{modelValue:n.localValue[t],"onUpdate:modelValue":e=>n.localValue[t]=e,hero:l.hero,onDelete:n.deleteSkin},null,8,["modelValue","onUpdate:modelValue","hero","onDelete"])])))),128)),(0,a._)("div",null,[(0,a._)("button",{class:"material-button flat primary",onClick:t[0]||(t[0]=(...e)=>n.newSkin&&n.newSkin(...e))},Fi)])])}const Zi={class:"flex",style:{overflow:"hidden"}},$i={style:{width:"200px",height:"200px","align-self":"center"}},ji=["src"],Ti={class:"flex-fill overflow-hidden"},Hi={class:"flex flex-wrap"},Li={class:"col-1 col-lg-3"},Bi={class:"col-2 col-lg-3"},qi={class:"col-2 col-lg-3"},Ki={class:"col-1 col-lg-2 pad-5"},zi={class:"col-1 col-lg-3 pad-5"},Gi={class:"col-1 pad-5"};function Yi(e,t,l,i,n,s){const r=(0,a.up)("MaterialInput"),c=(0,a.up)("Multiselect"),u=(0,a.Q2)("lazyloader");return(0,a.wg)(),(0,a.iD)("div",Zi,[(0,a._)("div",$i,[(0,a.wy)((0,a._)("img",{style:{"margin-left":"-20px"},src:s.imageSrc,alt:"Skin Image"},null,8,ji),[[u]])]),(0,a._)("div",Ti,[(0,a._)("div",Hi,[(0,a._)("div",Li,[(0,a.Wm)(r,{modelValue:s.localValue.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localValue.name=e),type:"text",placeholder:"Name"},null,8,["modelValue"])]),(0,a._)("div",Bi,[(0,a.Wm)(r,{modelValue:s.localValue._id,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localValue._id=e),type:"text",placeholder:"_id"},null,8,["modelValue"])]),(0,a._)("div",qi,[(0,a.Wm)(r,{modelValue:s.localValue.id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localValue.id=e),type:"text",placeholder:"InGame ID (unit id + _s01,_s02...)"},null,8,["modelValue"])]),(0,a._)("div",Ki,[(0,a.Wm)(c,{modelValue:s.localValue.tags,"onUpdate:modelValue":t[3]||(t[3]=e=>s.localValue.tags=e),placeholder:"Tags",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.tags},null,8,["modelValue","options"])]),(0,a._)("div",zi,[(0,a.Wm)(c,{modelValue:s.localValue.rarity,"onUpdate:modelValue":t[4]||(t[4]=e=>s.localValue.rarity=e),placeholder:"Rarity",mode:"single",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:[{id:"common",name:"Common"},{id:"rare",name:"Rare"},{id:"heroic",name:"Heroic"},{id:"epic",name:"Epic"}]},null,8,["modelValue"])]),(0,a._)("div",Gi,[(0,a.wy)((0,a._)("textarea",{class:"nice-input",placeholder:"Story","onUpdate:modelValue":t[5]||(t[5]=e=>s.localValue.description=e)},null,512),[[o.nr,s.localValue.description]])])])])])}var Qi={components:{MaterialInput:ut.Z,Multiselect:dt.Z},props:{modelValue:{type:Object,default:()=>({})},hero:{type:Object,default:()=>({})}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},imageSrc(){return Dt.cK+"/face/"+this.localValue.id+"_su.png"},multiselectOptions(){return{tags:Ct}}},watch:{"localValue.name":function(){return this.localValue._id=this.localValue.name.trim().toLowerCase().replace(/[^a-z0-9 ]/g,"").replace(/\s+/g,"-")+"-"+this.hero._id}}};const Ji=(0,ee.Z)(Qi,[["render",Yi]]);var Xi=Ji,eo={name:"SkinListComponent",emits:["update:modelValue"],components:{Skin:Xi},props:{modelValue:{type:Array,default:()=>[]},hero:{type:Object,default:()=>({})}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},methods:{newSkin(){this.localValue.push(Ja({},this.hero.skin.length,this.hero))},deleteSkin(e){var t=this.localValue.indexOf(e);-1!==t&&this.localValue.splice(t,1)}}};const to=(0,ee.Z)(eo,[["render",Ai]]);var lo=to;const ao={class:"flex flex-col flex-wrap justify-between relative noselect",style:{width:"430px",height:"250px",gap:"20px",margin:"auto"}},io=["onClick"],oo=["data-src"],no={key:0},so=(0,a._)("span",null,"Create node",-1),ro=[so],co={key:1};function uo(e,t,l,o,n,s){const r=(0,a.up)("RuneIconVue"),c=(0,a.up)("TreeNode"),u=(0,a.Q2)("lazyloader"),d=(0,a.Q2)("ripple-effect");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",ao,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.flatTree,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:"col"+e,class:(0,i.C_)(["flex relative pointer full-h full-w",{"active-sc-node-editor":n.currentActiveNode===t}]),style:{height:"70px",width:"70px","z-index":"1"},onClick:e=>n.currentActiveNode=t},[e?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.require_id?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"connection-line-tree noevents",style:(0,i.j5)({width:35+(e.require_id-e.position)%3*70})},null,4)):(0,a.kq)("",!0),(0,a.Wm)(r,{shape:e.assets[0],sign:e.assets[1]},null,8,["shape","sign"])],64)):(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",{key:1,"data-src":n.inactiveRuneIcon,class:"full-h"},null,8,oo)),[[u]])],10,io)))),128))]),(0,a._)("div",null,[-1!=n.currentActiveNode?((0,a.wg)(),(0,a.iD)("div",no,[s.flatTree[n.currentActiveNode]?((0,a.wg)(),(0,a.j4)(c,{key:n.currentActiveNode,modelValue:s.flatTree[n.currentActiveNode],onDelete:s.deleteNode},null,8,["modelValue","onDelete"])):(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:1,class:"material-button flat primary",onClick:t[0]||(t[0]=(...e)=>s.createNode&&s.createNode(...e))},ro)),[[d]])])):((0,a.wg)(),(0,a.iD)("div",co," Please select a node "))])])}function po(e,t=1){return[["id",t],["type","stat"],["position",1],["require_id",null],["name",""],["skill",null],["stats",[]],["description",""],["values",[]],["enhancements",[]],["buff",[]],["debuff",[]],["common",[]],["assets",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}const ho={class:"full-h full-w"},mo=["data-src"],fo=["data-src"];function go(e,t,l,i,o,n){const s=(0,a.Q2)("lazyloader");return(0,a.wg)(),(0,a.iD)("div",ho,[(0,a.wy)((0,a._)("img",{"data-src":n.runeIcon.rune,style:{position:"absolute"},class:"full-h"},null,8,mo),[[s]]),(0,a.wy)((0,a._)("img",{"data-src":n.runeIcon.symbol,style:{position:"absolute"},class:"full-h"},null,8,fo),[[s]])])}var vo={props:{shape:{},sign:{}},computed:{runeIcon(){return{symbol:Dt.cK+"/classchange/icon_mark_"+this.sign+".png",rune:Dt.cK+"/classchange/icon_rune_"+this.shape+".png"}}}};const yo=(0,ee.Z)(vo,[["render",go]]);var _o=yo;const Vo={class:"tree-node relative"},bo={class:"col-4"},wo=(0,a._)("span",null," Delete node ",-1),ko=[wo],xo={class:"full-node"},Do={class:"flex flex-wrap"},So={class:"col-4"},Co={class:"col-4"},Eo={class:"col-4"},Mo={class:"col-4"},Oo={class:"col-4"},No={class:"col-4"},Uo={class:"col-4"},Io={class:"col-4"};function Wo(e,t,l,i,o,n){const s=(0,a.up)("MaterialInput"),r=(0,a.up)("Multiselect"),c=(0,a.up)("GenericSkillDescription"),u=(0,a.up)("SkillEnhancements"),d=(0,a.Q2)("ripple-effect");return(0,a.wg)(),(0,a.iD)("div",Vo,[(0,a._)("div",null,[(0,a._)("div",bo,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"material-button flat warn",onClick:t[0]||(t[0]=t=>e.$emit("delete",l.modelValue))},ko)),[[d]])])]),(0,a._)("div",xo,[(0,a._)("div",Do,[(0,a._)("div",So,[(0,a.Wm)(s,{modelValue:n.localValue.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.localValue.name=e),placeholder:"Rune name"},null,8,["modelValue"])]),(0,a._)("div",Co,[(0,a.Wm)(r,{modelValue:n.localValue.assets[0],"onUpdate:modelValue":t[2]||(t[2]=e=>n.localValue.assets[0]=e),options:n.multiselectOptions.rune,mode:"single"},null,8,["modelValue","options"])]),(0,a._)("div",Eo,[(0,a.Wm)(r,{modelValue:n.localValue.assets[1],"onUpdate:modelValue":t[3]||(t[3]=e=>n.localValue.assets[1]=e),options:n.multiselectOptions.symbol,mode:"single"},null,8,["modelValue","options"])]),(0,a._)("div",Mo,[(0,a.Wm)(r,{modelValue:n.localValue.type,"onUpdate:modelValue":t[4]||(t[4]=e=>n.localValue.type=e),options:["skill","stat"],mode:"single"},null,8,["modelValue"])]),(0,a._)("div",Oo,[(0,a.Wm)(s,{modelValue:n.localValue.skill,"onUpdate:modelValue":t[5]||(t[5]=e=>n.localValue.skill=e),modelModifiers:{number:!0},type:"number",placeholder:"Skill"},null,8,["modelValue"])]),(0,a._)("div",No,[(0,a.Wm)(s,{modelValue:n.localValue.id,"onUpdate:modelValue":t[6]||(t[6]=e=>n.localValue.id=e),modelModifiers:{number:!0},type:"number",placeholder:"ID"},null,8,["modelValue"])]),(0,a._)("div",Uo,[(0,a.Wm)(s,{modelValue:n.localValue.position,"onUpdate:modelValue":t[7]||(t[7]=e=>n.localValue.position=e),modelModifiers:{number:!0},type:"number",placeholder:"Position"},null,8,["modelValue"])]),(0,a._)("div",Io,[(0,a.Wm)(s,{modelValue:n.localValue.require_id,"onUpdate:modelValue":t[8]||(t[8]=e=>n.localValue.require_id=e),modelModifiers:{number:!0},type:"number",placeholder:"Require ID"},null,8,["modelValue"])])]),(0,a.Wm)(c,{modelValue:n.localValue,"onUpdate:modelValue":t[9]||(t[9]=e=>n.localValue=e)},null,8,["modelValue"]),(0,a.Wm)(u,{modelValue:n.localValue.enhancements,"onUpdate:modelValue":t[10]||(t[10]=e=>n.localValue.enhancements=e),"show-stats-increase":!0,"skill-values":n.localValue.values,"always-sync-value":!0},null,8,["modelValue","skill-values"])])])}const Ro=[],Po=["Wealth Rune","Health Rune","Thorn Rune","Language Rune","Courage Rune","Infection Rune","Mercy Rune","Prosperity Rune","","Restraint Rune","Guard Rune???? (Lorina) - Wealth Rune (Kluri)","Harvest Rune(VAdin)","","Recreation Rune","Wedge Rune","Sun Rune","Glory Rune","Fruition Rune","Trust Rune","Perception Rune","Life Rune","Solitude Rune (ARas) - Hail Rune","Unity Rune","Achievement Rune","Faith Rune","Order Rune","Speed Rune","Earth Rune","Obscurity Rune","Disease Rune","Relic Rune","Sacrifice Rune","Guard Rune","Thorn Rune (Axe) - Mineral Rune (Pearl, Ainos, rikoris, alexa) - Life Rune (Kluri)"];for(var Fo=0;Fo<Po.length;Fo++){let e=Fo+1;e<10&&(e="0"+e);let t="icon_mark_"+e;Ro.push({id:e,name:"Icon "+e+" "+Po[Fo],src:Dt.cK+"/classchange/"+t+".png"})}const Ao=["01","02","03","04","05"].map((e=>({id:e,name:"Rune "+e,src:Dt.cK+"classchange/icon_rune_"+e+".png"})));var Zo={components:{MaterialInput:ut.Z,Multiselect:dt.Z,GenericSkillDescription:Va,SkillEnhancements:La},props:{modelValue:{type:Object,default:()=>({})}},watch:{"localValue.require_id":function(e){e||(this.localValue.require_id=null)}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},multiselectOptions(){return{symbol:Ro,rune:Ao}}}};const $o=(0,ee.Z)(Zo,[["render",Wo]]);var jo=$o,To={components:{RuneIconVue:_o,TreeNode:jo},props:{propData:{type:Object,default:()=>({})}},data(){return{currentActiveNode:-1,inactiveRuneIcon:Dt.cK+"classchange/icon_rune_01_b.png"}},computed:{localValue:{get(){return this.propData},set(e){this.$emit("update:propData",e)}},flatTree(){let e=new Array(15);return this.localValue.specialty_change.tree.forEach((t=>{t.forEach((t=>{t.position&&(e[t.position-1]=t)}))})),e}},created(){this.localValue.specialty_change||this.localValue.specialty_change,li(this.localValue.specialty_change),this.localValue.specialty_change.tree.forEach((e=>{e.forEach((e=>{po(e)}))}))},methods:{createNode(){let e=Math.ceil((this.currentActiveNode+1)/3),t=po({});t.position=this.currentActiveNode+1,this.localValue.specialty_change.tree[e-1].push(t)},deleteNode(e){let t=Math.ceil((this.currentActiveNode+1)/3),l=this.localValue.specialty_change.tree[t-1],a=l.indexOf(e);-1!==a&&l.splice(a,1)}}};const Ho=(0,ee.Z)(To,[["render",uo]]);var Lo=Ho;const Bo=(0,a._)("span",null,"New Change",-1),qo=[Bo];function Ko(e,t,l,i,o,n){const s=(0,a.up)("ChanglogItem");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.localValue,((l,i)=>((0,a.wg)(),(0,a.j4)(s,{key:i,modelValue:n.localValue[i],"onUpdate:modelValue":e=>n.localValue[i]=e,onDelete:t[0]||(t[0]=t=>n.deleteChange(e.index))},null,8,["modelValue","onUpdate:modelValue"])))),128)),(0,a._)("div",null,[(0,a._)("button",{class:"material-button flat primary",onClick:t[1]||(t[1]=(...e)=>n.newChange&&n.newChange(...e))},qo)])])}function zo(e,t,l,n,s,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("span",null,(0,i.zw)(r.localValue[0]),1),(0,a.wy)((0,a._)("textarea",{class:"nice-input","onUpdate:modelValue":t[0]||(t[0]=e=>r.localValue[1]=e)},null,512),[[o.nr,r.localValue[1]]]),(0,a._)("button",{class:"material-button flat warn",onClick:t[1]||(t[1]=t=>e.$emit("delete"))}," Delete change ")])}var Go={props:{modelValue:{type:Array,default:()=>[]}},created(){this.localValue[0]||(this.localValue[0]=Date.now())},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}}};const Yo=(0,ee.Z)(Go,[["render",zo]]);var Qo=Yo,Jo={name:"DEChangelogTab",components:{ChanglogItem:Qo},props:{modelValue:{type:Array,default:()=>[]}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},methods:{deleteChange(e){this.localValue.splice(e,1)},newChange(){this.localValue.push([Date.now(),""])}}};const Xo=(0,ee.Z)(Jo,[["render",Ko]]);var en=Xo;function tn(e,t){if("hero"===t&&(e.stats.skills=e.skills.map((e=>{var t=[];return e.awakened&&(e=e.awakened),t.push(e.stats),t.push(e.enhancements.map((e=>e.stats||[])).filter((e=>e.length>0))),t})),e.stats.ex_equip=e.ex_equip.map((e=>{var t=[];return t.push([e.stat]),e.skills.forEach((e=>{var l=[];e.stats.forEach((e=>{l.push(e)})),t.push(l)})),t})),e.specialty_change&&e.specialty_change.tree)){let t=e.specialty_change.tree.flat();e.stats.sc_tree=[];let a={};for(var l in t.forEach((e=>{e.stats.forEach((e=>{a[e.type]||(a[e.type]=0),a[e.type]+=e.value})),e.enhancements.forEach((e=>{e.stats.forEach((e=>{a[e.type]||(a[e.type]=0),a[e.type]+=e.value}))}))})),a)e.stats.sc_tree.push({type:l,value:a[l]})}}var ln={name:"HeroEditor",components:{Tabs:ue.Z,GeneralTab:Ft,ProfileTab:Qt,SkillsTab:oi,SpecialtyChangeTab:Lo,ExclusiveEquipment:Ri,SkinComponent:lo,ChangelogComponent:en},props:{dataProp:{type:Object,default:()=>({})},rootFile:{type:Object,default:()=>({})}},created(){this.localValue=Xa(this.localValue),this.localRootFile.beforeSave=tn(this.dataProp,"hero")},data(){return{currentTab:"general"}},computed:{localValue:{get(){return this.dataProp},set(e){return this.$emit("update:dataProp",e)}},localRootFile:{get(){return this.rootFile},set(e){return this.$emit("update:rootFile",e)}},hasSpecialtyChange(){return this.dataProp?.tags?.includes(5)}},watch:{hasSpecialtyChange(e){e||(this.localValue.specialty_change={})},"dataProp.ex_equip":{deep:!0,handler(){tn(this.dataProp,"hero")}},"dataProp.skills":{deep:!0,handler(){tn(this.dataProp,"hero")}}}};const an=(0,ee.Z)(ln,[["render",ce]]);var on=an;const nn={class:"editor-variable-group"},sn=(0,a._)("h2",null,"General",-1),rn={class:"flex flex-wrap"},cn={class:"col-1 col-lg-4"},un={class:"col-1 col-lg-4"},dn={class:"col-1 col-lg-4"},pn={class:"col-1 col-lg-4"},hn={class:"flex flex-wrap items-center"},mn={class:"col-2 col-lg-4 pad-5"},fn={class:"col-2 col-lg-4 pad-5"},gn={class:"col-2 col-lg-4"},vn={class:"col-2 col-lg-4"},yn={class:"flex flex-wrap"},_n={class:"col-1 col-lg-2 pad-5"},Vn={class:"editor-variable-group"},bn=(0,a._)("h2",null,"Nicknames",-1),wn={class:"editor-variable-group"},kn=(0,a._)("h2",null,"Base Stats",-1),xn={class:"flex flex-wrap"},Dn={class:"col-2 col-lg-4"},Sn={class:"col-2 col-lg-4"},Cn={class:"editor-variable-group"},En={class:"editor-variable-group"},Mn=(0,a._)("h2",null,"Comment",-1),On=(0,a._)("i",null,"(Optional) Add a comment for example effects not listed in the artifact's description",-1),Nn={class:"pad-5"},Un={class:"editor-variable-group"},In=(0,a._)("h2",null,"Story",-1),Wn={class:"pad-5"};function Rn(e,t,l,i,n,s){const r=(0,a.up)("MaterialInput"),c=(0,a.up)("Multiselect"),u=(0,a.up)("MaterialCheckbox"),d=(0,a.up)("NicknamesComponent"),p=(0,a.up)("GenericSkill");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",nn,[sn,(0,a._)("div",rn,[(0,a._)("div",cn,[(0,a.Wm)(r,{modelValue:s.localData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.name=e),type:"text",placeholder:"Name"},null,8,["modelValue"])]),(0,a._)("div",un,[(0,a.Wm)(r,{modelValue:s.localData._id,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData._id=e),type:"text",placeholder:"_id"},null,8,["modelValue"])]),(0,a._)("div",dn,[(0,a.Wm)(r,{modelValue:s.localData.id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.id=e),type:"text",placeholder:"Image ID"},null,8,["modelValue"])]),(0,a._)("div",pn,[(0,a.Wm)(r,{modelValue:s.localData.identifier,"onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.identifier=e),type:"text",placeholder:"Identifier (Optional)"},null,8,["modelValue"])])]),(0,a._)("div",hn,[(0,a._)("div",mn,[(0,a.Wm)(c,{modelValue:s.localData.rarity,"onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.rarity=e),mode:"single",placeholder:"Rarity",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.rarity},null,8,["modelValue","options"])]),(0,a._)("div",fn,[(0,a.Wm)(c,{modelValue:s.localData.role,"onUpdate:modelValue":t[5]||(t[5]=e=>s.localData.role=e),mode:"single",placeholder:"Role",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.role},null,8,["modelValue","options"])]),(0,a._)("div",gn,[(0,a.Wm)(r,{modelValue:s.localData.hero,"onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.hero=e),type:"text",placeholder:"Related hero (_id)"},null,8,["modelValue"])]),(0,a._)("div",vn,[(0,a.Wm)(u,{modelValue:s.localData.hero_exclusive,"onUpdate:modelValue":t[7]||(t[7]=e=>s.localData.hero_exclusive=e),type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("Exclusive to this hero")])),_:1},8,["modelValue"])])]),(0,a._)("div",yn,[(0,a._)("div",_n,[(0,a.Wm)(c,{modelValue:s.localData.tags,"onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.tags=e),placeholder:"Tags",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:s.multiselectOptions.tags},null,8,["modelValue","options"])])])]),(0,a._)("div",Vn,[bn,(0,a._)("div",null,[(0,a.Wm)(d,{class:"pad-5",modelValue:s.localData.nicknames,"onUpdate:modelValue":t[9]||(t[9]=e=>s.localData.nicknames=e)},null,8,["modelValue"])])]),(0,a._)("div",wn,[kn,(0,a._)("div",xn,[(0,a._)("div",Dn,[(0,a.Wm)(r,{modelValue:s.localData.stats.atk,"onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.stats.atk=e),type:"text",placeholder:"ATK"},null,8,["modelValue"])]),(0,a._)("div",Sn,[(0,a.Wm)(r,{modelValue:s.localData.stats.hp,"onUpdate:modelValue":t[11]||(t[11]=e=>s.localData.stats.hp=e),type:"text",placeholder:"HP"},null,8,["modelValue"])])])]),(0,a._)("div",Cn,[(0,a.Wm)(p,{modelValue:s.localData,"onUpdate:modelValue":t[12]||(t[12]=e=>s.localData=e),double:!0,"bonus-stats":!1},null,8,["modelValue"])]),(0,a._)("div",En,[Mn,On,(0,a._)("div",Nn,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.localData.comment=e),class:"nice-input",spellcheck:"false"},null,512),[[o.nr,s.localData.comment]])])]),(0,a._)("div",Un,[In,(0,a._)("div",Wn,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.story=e),class:"nice-input",spellcheck:"false"},null,512),[[o.nr,s.localData.story]])])])])}function Pn(e){return[["_id",""],["id",""],["identifier",""],["name",""],["role",""],["rarity",5],["stats",{hp:0,atk:0}],["nicknames",[]],["story",""],["description",""],["values",[]],["comment",""],["buff",[]],["debuff",[]],["common",[]],["hero",""],["hero_exclusive",null],["tags",[]],["created_dt",0],["changelog",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}var Fn={name:"ArtifactEditor",emits:["update:modelValue"],components:{MaterialInput:ut.Z,MaterialCheckbox:Cl.Z,Multiselect:dt.Z,GenericSkill:Va,NicknamesComponent:xt},inject:["buffList","debuffList","commonList"],props:{dataProp:{type:Object,default:()=>({})}},created(){Pn(this.localData)},data(){return{}},computed:{localData:{get(){return this.dataProp},set(e){return this.$emit("update:modelValue",e)}},multiselectOptions(){return{tags:Ct,gender:Et,rarity:Mt,role:Nt,attribute:Ot,zodiac:Ut,stats:It,devotionSlots:Wt}}},watch:{"localData.name":function(){this.localData._id=(this.localData.name||"").trim().replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"-").toLowerCase()}}};const An=(0,ee.Z)(Fn,[["render",Rn]]);var Zn=An;const $n={class:"editor-variable-group"},jn=(0,a._)("h2",null,"General",-1),Tn={class:"flex",style:{"flex-wrap":"wrap"}},Hn={class:"col-1 col-lg-4"},Ln={class:"col-1 col-lg-4"},Bn={class:"col-1 col-lg-4"},qn={class:"col-1 col-lg-4"},Kn={class:"pad-5"},zn=(0,a._)("h2",null,"Ingame Description",-1),Gn={class:"pad-5"},Yn=(0,a._)("h2",null,"Additional info (Datamine or other useful info)",-1);function Qn(e,t,l,i,n,s){const r=(0,a.up)("MaterialInput");return(0,a.wg)(),(0,a.iD)("div",$n,[jn,(0,a._)("div",Tn,[(0,a._)("div",Hn,[(0,a.Wm)(r,{modelValue:s.localData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.name=e),type:"text",placeholder:"Name"},null,8,["modelValue"])]),(0,a._)("div",Ln,[(0,a.Wm)(r,{modelValue:s.localData._id,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData._id=e),type:"text",placeholder:"_id"},null,8,["modelValue"])]),(0,a._)("div",Bn,[(0,a.Wm)(r,{modelValue:s.localData.id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.id=e),type:"text",placeholder:"id"},null,8,["modelValue"])]),(0,a._)("div",qn,[(0,a.Wm)(r,{modelValue:s.localData.src,"onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.src=e),type:"text",placeholder:"Image name (if different from _id)"},null,8,["modelValue"])])]),(0,a._)("div",Kn,[zn,(0,a.wy)((0,a._)("textarea",{class:"full-w nice-input","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.description=e)},null,512),[[o.nr,s.localData.description]])]),(0,a._)("div",Gn,[Yn,(0,a.wy)((0,a._)("textarea",{class:"full-w nice-input","onUpdate:modelValue":t[5]||(t[5]=e=>s.localData.additional_description=e)},null,512),[[o.nr,s.localData.additional_description]])])])}function Jn(e){return[["_id",""],["id",0],["icon",""],["name",""],["description",""],["additional_description",""]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}var Xn={name:"EffectEditor",emits:["update:dataProp"],components:{MaterialInput:ut.Z},props:{dataProp:{type:Object,default:()=>({})}},created(){Jn(this.localData)},computed:{localData:{get(){return this.dataProp},set(e){return this.$emit("update:dataProp",e)}},multiselectOptions(){return{tags:Ct,gender:Et,rarity:Mt,role:Nt,attribute:Ot,zodiac:Ut,stats:It,devotionSlots:Wt}}}};const es=(0,ee.Z)(Xn,[["render",Qn]]);var ts=es;const ls={class:"flex flex-wrap"},as={class:"col-3 pad-5"},is={class:"col-2 pad-5"};function os(e,t,l,i,n,s){return(0,a.wg)(),(0,a.iD)("div",ls,[(0,a._)("div",as,[(0,a.wy)((0,a._)("input",{class:"nice-input",placeholder:"_id",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.localValue._id=e)},null,512),[[o.nr,s.localValue._id]])]),(0,a._)("div",is,[(0,a.wy)((0,a._)("input",{class:"nice-input",placeholder:"Name",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.localValue.name=e)},null,512),[[o.nr,s.localValue.name]])])])}function ns(e){return[["_id",""],["name",""]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}var ss={name:"EnhancementsEditor",props:{dataProp:{type:Object,default:()=>({})}},created(){ns(this.localValue)},computed:{localValue:{get(){return this.dataProp},set(e){this.$emit("update:dataProp",e)}}}};const rs=(0,ee.Z)(ss,[["render",os]]);var cs=rs;const us={class:"flex flex-wrap"},ds={class:"col-2"},ps={class:"col-2"},hs={class:"col-2"},ms={class:"col-2"},fs={class:"col-2"},gs={class:"editor-variable-group"},vs=(0,a._)("h2",null,"Websites",-1),ys={class:"flex flex-wrap"},_s=["onUpdate:modelValue"],Vs=["onClick"],bs=(0,a._)("span",null,"Delete",-1),ws=[bs],ks=(0,a._)("span",null,"Add website",-1),xs=[ks],Ds={class:"editor-variable-group"},Ss=(0,a._)("h2",null,"Other roles",-1),Cs=(0,a._)("span",null,"New Role",-1),Es=[Cs];function Ms(e,t,l,i,n,s){const r=(0,a.up)("MaterialInput"),c=(0,a.up)("Multiselect"),u=(0,a.up)("OtherRoles");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",us,[(0,a._)("div",ds,[(0,a.Wm)(r,{modelValue:s.localData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.name=e),placeholder:"name"},null,8,["modelValue"])]),(0,a._)("div",ps,[(0,a.Wm)(r,{modelValue:s.localData._id,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData._id=e),placeholder:"_id"},null,8,["modelValue"])]),(0,a._)("div",hs,[(0,a.Wm)(r,{modelValue:s.localData.image,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.image=e),placeholder:"Image url"},null,8,["modelValue"])]),(0,a._)("div",ms,[(0,a.Wm)(c,{modelValue:s.localData.languages,"onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.languages=e),placeholder:"Language",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:[{id:"en",name:"English"},{id:"ja",name:"Japanese"}]},null,8,["modelValue"])]),(0,a._)("div",fs,[(0,a.Uk)(" Birthday (mm/dd/yyyy) "),(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.birthday=e)},null,512),[[o.nr,s.localData.birthday]])])]),(0,a._)("div",gs,[vs,(0,a._)("div",ys,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.localData.websites,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:"web"+t,class:"flex col-1 col-lg-4"},[(0,a.wy)((0,a._)("input",{class:"nice-input","onUpdate:modelValue":e=>s.localData.websites[t]=e,placeholder:"website link"},null,8,_s),[[o.nr,s.localData.websites[t]]]),(0,a._)("button",{class:"material-button flat warn",onClick:e=>s.deleteWebsite(t)},ws,8,Vs)])))),128)),(0,a._)("button",{class:"material-button flat confirm",onClick:t[5]||(t[5]=(...e)=>s.newWebsite&&s.newWebsite(...e))},xs)])]),(0,a._)("div",Ds,[Ss,(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.localData.roles,((e,t)=>((0,a.wg)(),(0,a.j4)(u,{modelValue:s.localData.roles[t],"onUpdate:modelValue":e=>s.localData.roles[t]=e,key:e,onDelete:e=>s.deleteRole(t)},null,8,["modelValue","onUpdate:modelValue","onDelete"])))),128))]),(0,a._)("button",{class:"material-button flat confirm",onClick:t[6]||(t[6]=(...e)=>s.newRole&&s.newRole(...e))},Es)])])}function Os(e){return[["_id",""],["name",""],["birthday","1900-01-01"],["image",""],["languages",[]],["websites",[]],["roles",[]]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}function Ns(e){return[["name",""],["ip",""],["image",""]].forEach((t=>{(0,Ga.Z)(e,t[0],t[1])})),e}const Us={class:"flex flex-wrap"},Is={class:"pad-5"},Ws={class:"pad-5"},Rs={class:"pad-5"},Ps={class:"pad-5"},Fs=(0,a._)("span",null,"Delete",-1),As=[Fs];function Zs(e,t,l,i,n,s){return(0,a.wg)(),(0,a.iD)("div",Us,[(0,a._)("div",Is,[(0,a.wy)((0,a._)("input",{class:"nice-input","onUpdate:modelValue":t[0]||(t[0]=e=>s.localValue.name=e),placeholder:"Character name"},null,512),[[o.nr,s.localValue.name]])]),(0,a._)("div",Ws,[(0,a.wy)((0,a._)("input",{class:"nice-input","onUpdate:modelValue":t[1]||(t[1]=e=>s.localValue.ip=e),placeholder:"Series name"},null,512),[[o.nr,s.localValue.ip]])]),(0,a._)("div",Rs,[(0,a.wy)((0,a._)("input",{class:"nice-input","onUpdate:modelValue":t[2]||(t[2]=e=>s.localValue.image=e),placeholder:"Character image"},null,512),[[o.nr,s.localValue.image]])]),(0,a._)("div",Ps,[(0,a._)("button",{class:"material-button flat warn",onClick:t[3]||(t[3]=t=>e.$emit("delete"))},As)])])}var $s={props:{modelValue:{type:Object,default:()=>({})}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}}},created(){Ns(this.localValue)}};const js=(0,ee.Z)($s,[["render",Zs]]);var Ts=js,Hs={name:"VoiceActing",emits:["update:dataProp"],components:{MaterialInput:ut.Z,Multiselect:dt.Z,OtherRoles:Ts},props:{dataProp:{type:Object,default:()=>({})}},computed:{localData:{get(){return this.dataProp},set(e){return this.$emit("update:dataProp",e)}}},watch:{"localData.name":function(e){this.localData._id=e.trim().toLowerCase().replace(/[^a-z0-9 ]/g,"").replace(/\s+/g,"-")}},created(){Os(this.localData)},methods:{newRole(){this.localData.roles.push({})},deleteRole(e){-1!==e&&this.localData.roles.splice(e,1)},newWebsite(){this.localData.websites.push("")},deleteWebsite(e){-1!==e&&this.localData.websites.splice(e,1)}}};const Ls=(0,ee.Z)(Hs,[["render",Ms]]);var Bs=Ls;function qs(e,t,l,i,o,n){const s=(0,a.up)("DynamicComponent");return(0,a.wg)(),(0,a.j4)(s,{"component-path":o.component},null,8,["component-path"])}var Ks=l(7586),zs={name:"AsynDEG",components:{DynamicComponent:Ks.Z},data(){return{component:()=>l.e(9745).then(l.bind(l,9745))}}};const Gs=(0,ee.Z)(zs,[["render",qs]]);var Ys=Gs;const Qs="https://cecilia-bot-api.vercel.app/api/mongo",Js=(0,oe.Qf)()._stringHash;function Xs(e,t,l){return new Promise((a=>{let i=["list="+e,"nocache=true",Js],o="getList";t&&(i.push("id="+t),o="getItem"),l&&i.push("fields="+l.join(",")),(0,F.Z)(Qs+"/"+o+"?"+i.join("&")).then((e=>{a(JSON.parse(e))})).catch((t=>{window.$snackbar.error({title:e,description:"Could not update "+e+" list"}),console.error(t),a([])}))}))}var er={hero:{type:"hero",name:"Heroes",children:[],refresh(){Xs("hero",null,["name","_id","id","role","attribute","rarity","tags","zodiac"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id,_id:e.id,role:e.role,attribute:e.attribute,rarity:e.rarity,zodiac:e.zodiac,tags:e.tags})))}))},getItem(e){return Xs("hero",e)},editor:(0,P.XI)(on),preview:(0,P.XI)(ne["default"])},artifact:{type:"artifact",name:"Artifacts",children:[],refresh(){Xs("artifact",null,["name","_id","id","role","rarity","tags"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id,_id:e.id,role:e.role,rarity:e.rarity,tags:e.tags})))}))},getItem(e){return Xs("artifact",e)},editor:(0,P.XI)(Zn),preview:(0,P.XI)(se["default"])},buff:{type:"buff",name:"Buffs",children:[],refresh(){Xs("buff",null,["name","_id","description","src"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id,description:e.description,src:ie.cK+"/buff/"+(e.src||e._id)+".png"})))}))},getItem(e){return Xs("buff",e)},editor:(0,P.XI)(ts),preview:null},debuff:{type:"debuff",name:"Debuffs",children:[],refresh(){Xs("debuff",null,["name","_id","description","src"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id,description:e.description,src:ie.cK+"/buff/"+(e.src||e._id)+".png"})))}))},getItem(e){return Xs("debuff",e)},editor:(0,P.XI)(ts),preview:null},common:{type:"common",name:"Common",children:[],refresh(){Xs("common",null,["name","_id","description","src"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id,description:e.description,src:ie.cK+"/buff/"+(e.src||e._id)+".png"})))}))},getItem(e){return Xs("common",e)},editor:(0,P.XI)(ts),preview:null},enhancement:{type:"enhancement",name:"Enhancements",children:[],refresh(){Xs("enhancement",null,["name","_id"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id})))}))},getItem(e){return Xs("enhancement",e)},editor:(0,P.XI)(cs),preview:null},va:{type:"va",name:"Voice Actors",children:[],refresh(){Xs("va",null,["name","_id"]).then((e=>{this.children=e.map((e=>({name:e.name,id:e._id})))}))},getItem(e){return Xs("va",e)},editor:(0,P.XI)(Bs),preview:null},guide:{type:"guide",name:"Guides",children:[],refresh(){Xs("guide",null,["title","_id"]).then((e=>{console.log(e),this.children=e.map((e=>({name:e.title,id:e._id})))}))},getItem(e){return Xs("guide",e)},editor:(0,P.XI)(Ys),preview:(0,P.XI)(re["default"])}},tr={name:"CeciliaDE",components:{OpenEditorCompoennt:L,FileTree:K,FileSearch:Y,E7Error:ae},provide(){let e={EIDTOR_API:Qs};return Object.values(this.DBEditor).forEach((t=>{e[t.type+"List"]=(0,a.Fl)((()=>t.children))})),e},data(){return{openFiles:[],active:null,DBEditor:er}},computed:{files(){return Object.values(this.DBEditor)}},created(){document.addEventListener("keydown",this.saveFileKeyboard),Promise.all(Object.values(this.DBEditor).filter((e=>!!e.refresh)).map((e=>e.refresh()))).catch(console.error)},beforeUnmount(){document.removeEventListener("keydown",this.saveFileKeyboard)},methods:{toggleCollpaseGroup(e){e.target.parentElement.classList.toggle("collapse")},closeMobileNav(){document.activeElement.blur()},previewJSON(){this.$promiseAlert("JSON",'<div style="white-space: pre; text-align: left;">'+JSON.stringify(this.active.data||{},null,4)+"</div>").then().catch((()=>{}))},saveFileKeyboard(e){if(e.ctrlKey)if(83===e.keyCode){if(e.preventDefault(),!this.active)return;this.saveItem()}else 78===e.keyCode&&(e.preventDefault(),this.createNewFileButton())},async openFile(e,t){this.closeMobileNav();var l=-1;if(this.openFiles.forEach(((t,a)=>e.name===t.name&&t.id===e.id?l=a:null)),-1===l){var a=e.data;const l=this.DBEditor[t];if(!e.isNew)try{a=await l.getItem(e.id)}catch(o){return this.$snackbar.error({description:"Could not load document"}),void await l.refresh()}var i={type:t,edited:!1,active:!1,isNew:e.isNew,name:e.name,id:e.id,data:a||{},component:(0,P.XI)(l.editor),previewComponent:(0,P.XI)(l.preview)};i.isNew&&["hero","artifact"].includes(t)&&(i.data.created_dt=Date.now()),this.openFiles.push(i),this.switchTab(i)}else this.switchTab(this.openFiles[l])},switchTab(e){this.openFiles.forEach((e=>e.active=!1)),this.active=e,e.active=!0},closeFile(e){const t=this.openFiles.indexOf(e),l=e.active;-1!=t&&this.openFiles.splice(t,1);const a=Math.max(t-1,0);l&&this.openFiles[a]?(this.openFiles[a].active=!0,this.active=this.openFiles[a]):l&&!this.openFiles[a]&&(this.active=null)},createNewFileButton(){const e=Object.values(this.DBEditor),t=e.map((e=>e.name));t.push("Cancel"),this.$promiseAlert("New","What do you want to create?",t).then((l=>{const a=l[0];if(a!==t.length-1){var i={name:"New "+t[a],id:"item-"+Date.now(),isNew:!0,type:e[a].type,data:{}};this.openFile(i,e[a].type)}})).catch(console.error)},saveItem(){const e=this.active;if(e){if(!e.data._id||!e.data._id.trim())return this.$snackbar.error({title:"Error",description:"_id is required!"});e.beforeSave&&e.beforeSave(),(0,F.Z)(Qs+"/save?list="+e.type.toLowerCase()+"&"+Js,"POST",JSON.stringify({isNew:e.isNew,old:e.original,data:e.data})).then((()=>{e.isNew=!1,e.name=e.data.name,e.id=e.data._id,e.old=JSON.parse(JSON.stringify(e.data)),this.$snackbar.log({title:"OK",description:"MongoDB updated!"})})).catch((e=>{409===e.status?this.$snackbar.error({title:"error",description:"This _id is already in use!"}):this.$snackbar.error({title:"error",description:"MongoDB update failed!"})})).finally((()=>{try{this.DBEditor[e.type].refresh()}catch(t){}}))}},deleteItem(){let e=this.active;e&&this.$promiseAlert("Are you sure you want to delete "+e.name+"?","This will send a request to the server and permanently delete the current document for all users",[{name:"Delete",class:"material-button basic warn"},{name:"Cancel",class:"material-button basic primary"}]).then((t=>{try{const l=t[0];if(1===l)return;if(e.isNew)return this.closeFile(e);this.sendDeleteRequest(e)}catch(l){console.error(l),this.$snackbar.error({title:"Ooops",description:"Something went wrong"})}}))},sendDeleteRequest(e){const t=e.type.toLowerCase();(0,F.Z)(Qs+"/delete?list="+t+"&id="+e.data._id+"&"+Js,"POST",JSON.stringify({})).then((()=>{this.closeFile(e)})).catch(console.error).finally((()=>{try{this.DBEditor[e.type].refresh()}catch(t){}}))}}};const lr=(0,ee.Z)(tr,[["render",R]]);var ar=lr},9997:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return Ie}});var a=l(6252);const i={class:"live-pvp-screen"},o={class:"pvp-draft user"},n={class:"char-select overflow-hidden"},s={class:"text-center"},r={class:"pvp-draft enemy"};function c(e,t,l,c,u,d){const p=(0,a.up)("DraftPanel"),h=(0,a.up)("PreBan"),m=(0,a.up)("UserSelectMenu"),f=(0,a.up)("FreeWriteCanvas");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.userPicks,((e,t)=>((0,a.wg)(),(0,a.j4)(p,{data:e,artifact:u.userArtifacts[t],key:"ally"+t,"slot-number":t+1,faction:"user",activeSlot:2==u.activeSlot[0]&&u.activeSlot[1]==t,banned:t==u.postBans[0],onClick:e=>d.selectSlot([2,t])},null,8,["data","artifact","slot-number","activeSlot","banned","onClick"])))),128))]),(0,a._)("div",n,[(0,a._)("div",s,[(0,a.Wm)(h,{preBans:[u.userPreBans,u.enemyPreBans],onSelectSlot:d.selectSlot},null,8,["preBans","onSelectSlot"])]),(0,a.Wm)(m,{activeSlot:u.activeSlot,onCharacter:d.equipCharacter,onArtifact:d.equipArtifact,onFreeHandMode:t[0]||(t[0]=e=>u.isCanvasMode=!u.isCanvasMode),onResetDraft:d.resetDraft,onBan:d.banDraftSlot},null,8,["activeSlot","onCharacter","onArtifact","onResetDraft","onBan"])]),(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.enemyPicks,((e,t)=>((0,a.wg)(),(0,a.j4)(p,{key:"ally"+t,data:e,artifact:u.enemyArtifacts[t],"slot-number":t+1,faction:"enemy",activeSlot:3==u.activeSlot[0]&&u.activeSlot[1]==t,banned:t==u.postBans[1],onClick:e=>d.selectSlot([3,t])},null,8,["data","artifact","slot-number","activeSlot","banned","onClick"])))),128))]),(0,a.Wm)(f,{"is-active":u.isCanvasMode,onExit:t[1]||(t[1]=e=>u.isCanvasMode=!1)},null,8,["is-active"])])}var u=l(3577);const d=["src"],p=["src"],h=["src"],m=["src"],f=["data-src"],g=["data-src"],v=(0,a._)("br",null,null,-1),y={class:"text-black-stroke name-position"},_=["src"];function V(e,t,l,i,o,n){const s=(0,a.Q2)("lazyloader"),r=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",{class:(0,u.C_)(["fix-draft-slot",l.faction,"slot"+l.slotNumber,{banned:l.banned}])},[(0,a._)("img",{src:n.slotImage,class:"draft-panel"},null,8,d),n.bannedImage?((0,a.wg)(),(0,a.iD)("img",{key:0,src:n.bannedImage,class:"banned-label",alt:""},null,8,p)):(0,a.kq)("",!0),n.banProtection?((0,a.wg)(),(0,a.iD)("img",{key:1,src:n.banProtection,class:"ban-protection",alt:""},null,8,h)):(0,a.kq)("",!0),l.data?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[((0,a.wg)(),(0,a.iD)("img",{src:n.img,key:n.img,class:"hero-img",alt:""},null,8,m)),(0,a._)("div",{style:(0,u.j5)(n.styleName)},[(0,a._)("div",null,[(0,a.wy)((0,a._)("img",{style:{"vertical-align":"middle",width:"1.3em","padding-right":"5px"},"data-src":n.roleIcon,alt:""},null,8,f),[[s]]),(0,a.wy)((0,a._)("img",{style:{"vertical-align":"middle",width:"1.3em","padding-right":"5px"},"data-src":n.attributeIcon,alt:""},null,8,g),[[s]])]),v,(0,a._)("span",y,(0,u.zw)(n.heroData.name),1)],4)],64)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("img",{src:n.artifactImage,class:"slot-artifact"},null,8,_),[[r,()=>n.artifactData.name]])],2)}var b=l(8439),w={props:{slotNumber:{type:Number,default:1},data:{type:Object||null,default:null},artifact:{type:Object||null,default:null},faction:String,activeSlot:{type:Boolean,default:!1},banned:{type:Boolean,default:!1}},data(){return{fallbackArtifact:{_id:"",id:"art0000",name:"No artifact",role:"common"}}},computed:{artifactData(){return this.artifact||this.fallbackArtifact},artifactImage(){return b.cK+"item_arti/icon_"+this.artifactData.id+".png"},bannedImage(){return!!this.banned&&b.cK+"img/_cm_banned_res.png"},styleDirection(){return"enemy"===this.faction?"left":"right"},styleName(){return{position:"absolute",left:"10px",top:0,fontSize:"24px",color:"white",veritcalAlign:"middle",width:"100%",fontWeigth:900,textWrap:"nowrap"}},banProtection(){return 3==this.slotNumber&&b.cK+"img/_cm_safeguard_glow.png"},slotImage(){return b.cK+"/img/pvplive_slot"+this.slotNumber+(this.activeSlot?"enemy"==this.faction?"_red":"_blue":"")+".png"},heroData(){return this.data||{}},img(){return b.cK+"/face/"+this.heroData.id+"_l.png"},starIcon(){return b.cK+"/img/cm_icon_star.png"},roleIcon(){return this.$store.getters.getRoleIcon(this.heroData.role)},attributeIcon(){return b.cK+"/img/cm_icon_prom"+this.heroData.attribute+".png"},zodiacIcon(){return b.cK+"/img/cm_icon_zodiac_"+this.heroData.zodiac+".png"}}},k=l(3744);const x=(0,k.Z)(w,[["render",V]]);var D=x,S=l(9963);const C=e=>((0,a.dD)("data-v-66885768"),e=e(),(0,a.Cn)(),e),E={class:"glass-container overflow-auto full-h hide-scrollbar"},M={class:"select-buttons"},O=C((()=>(0,a._)("span",null,[(0,a._)("i",{class:"fas fa-pencil-alt"})],-1))),N=[O],U=C((()=>(0,a._)("span",null,[(0,a._)("i",{class:"fas fa-ban"})],-1))),I=[U],W=C((()=>(0,a._)("span",null,[(0,a._)("i",{class:"fas fa-trash"})],-1))),R=[W],P=C((()=>(0,a._)("span",null,"HERO",-1))),F=[P],A=C((()=>(0,a._)("span",null,"ARTIFACT",-1))),Z=[A],$={class:"flex flex-col flex-fill"},j={class:"flex-fill flex flex-wrap hide-scrollbar justify-center"},T=["onClick"];function H(e,t,l,i,o,n){const s=(0,a.up)("ArtifactSelection"),r=(0,a.up)("FilterBlock"),c=(0,a.up)("HeroIcon"),d=(0,a.Q2)("tooltip"),p=(0,a.Q2)("ripple-effect");return(0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",M,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>n.enterDrawMode&&n.enterDrawMode(...e)),class:"material-button primary basic",style:{float:"left"}},N)),[[d,()=>"Draw mode"],[p]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"material-button primary basic",style:{float:"left"},onClick:t[1]||(t[1]=(...e)=>n.banSlot&&n.banSlot(...e))},I)),[[d,()=>"Ban slot"],[p]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[2]||(t[2]=(...e)=>n.resetDraft&&n.resetDraft(...e)),class:"material-button primary basic",style:{float:"right"}},R)),[[d,()=>"Reset"],[p]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"material-button primary basic",onClick:t[3]||(t[3]=e=>o.pick="hero")},F)),[[p]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"material-button primary basic",onClick:t[4]||(t[4]=e=>o.pick="artifact")},Z)),[[p]])]),(0,a._)("div",$,[(0,a.wy)((0,a.Wm)(s,{onClick:n.artifactSelected},null,8,["onClick"]),[[S.F8,"artifact"===o.pick]]),(0,a.wy)((0,a._)("div",null,[(0,a.Wm)(r,{modelValue:o.filters,"onUpdate:modelValue":t[5]||(t[5]=e=>o.filters=e),class:"pad-5"},null,8,["modelValue"]),(0,a._)("div",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.sortedList,(e=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:e._id,class:(0,u.C_)({pointer:!0,"cannot-select":!!e.___isDrafted}),onClick:t=>n.characterSelected(e)},[(0,a.Wm)(c,{hero:e,hover:!1},null,8,["hero"])],10,T)),[[S.F8,n.filtredList[e._id]]]))),128))])],512),[[S.F8,"hero"===o.pick]])])])}var L=l(9117),B=l(9218);const q={class:"text-center"},K=["onClick"];function z(e,t,l,i,o,n){const s=(0,a.up)("FilterBlock"),r=(0,a.up)("ArtifactIcon"),c=(0,a.up)("FetchComponent");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,{modelValue:o.filters,"onUpdate:modelValue":t[0]||(t[0]=e=>o.filters=e),"one-stars":!0,"two-stars":!0,"common-role":!0,class:"pad-5"},null,8,["modelValue"]),(0,a._)("div",q,[(0,a.Wm)(c,{promise:o.fetching,onLoad:n.fetchComplete,onFinally:n.afterFetch},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.sortedList,(t=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:t,onClick:l=>e.$emit("click",t),style:{"vertical-align":"top",display:"inline-block"}},[(0,a.Wm)(r,{artifact:t,class:"pointer"},null,8,["artifact"])],8,K)),[[S.F8,n.filtredList[t._id]]]))),128))])),_:1},8,["promise","onLoad","onFinally"])])])}var G=l(8753),Y=l(2229),Q={name:"artifact-icon",emits:["click","context"],props:{inview:{type:Boolean,required:!1,default:!0},type:{type:Number,default:0},artifact:{type:Object,default:()=>({})},showrole:{type:Boolean,required:!1,default:!0},showname:{type:Boolean,default:!1},showrarity:{type:Boolean,default:!1},size:{type:Number,default:75},lazyload:{type:Boolean,default:!0}},computed:{artifactData:function(){return this.artifact},image:function(){return 1===this.type?this.$store.getters.getArtifactImage(this.artifactData._id):b.cK+"item_arti/icon_"+this.artifactData.id+".png"},placeholder:function(){return 0===this.type?"":b.cK+"item_arti/icon_art0000.png"},computedStyle(){return{width:"1em","vertical-align":"top",opacity:this.lazyload?0:1,transition:"opacity .4s ease"}}},render:function(){if(this.artifact)return(0,a.h)("div",{class:"hero-icon-comp noselect",style:{"font-size":this.size+"px"},onClick:e=>-1!=e.target.className.indexOf("remove")?this.$emit("remove",this.artifact,e):this.$emit("click",this.artifact,e),onContextmenu:e=>{e.preventDefault(),this.$emit("context",this.artifact,e)}},[(0,a.h)("div",{style:{position:"relative",width:"1em",height:0===this.type?"1em":"auto","text-align":"start","pointer-events":"none"}},[this.lazyload?(0,a.h)("img",{style:"height: 1em; vertical-align: top; position: absolute; transition: opacity .4s ease;",src:this.placeholder,"data-lazy-fader":!0,crossorigin:"anonymous",SameSite:"Lax"}):null,(0,a.wy)((0,a.h)("img",{key:this.image,[this.lazyload?"data-src":"src"]:this.image,crossorigin:"anonymous",SameSite:"Lax",style:this.computedStyle}),[[Y.ZP]]),this.showrole?(0,a.h)("div",{class:"attribute-role",style:{"background-image":"url("+this.$store.getters.getRoleIcon(this.artifactData.role)+")"}}):null,this.showrarity?(0,a.h)("div",{class:"wrapper-hero-info rarity-"+this.artifactData.rarity,style:"top: 0; left: 0"}):null]),this["showname"]?(0,a.h)("div",{"pointer-events":"none",style:{width:this.size+(this.removable?.35*this.size:0)+"px"}},[(0,a.h)("p",{class:"label"},this.$store.getters.getArtifactName(this.artifactData._id))]):null])}};const J=Q;var X=J,ee=l(180),te={emits:["click"],name:"ArtifactsIndex",components:{FilterBlock:B.Z,ArtifactIcon:X,FetchComponent:ee.Z},inject:["mainContainerWrapper"],data(){return{fetching:null,filters:{name:"",rarity:[],role:[],tags:[],debuff:[],buff:[],common:[]},list:[]}},created(){this.fetching=this.$gameData.artifact.list()},beforeUnmount(){},computed:{newIcon(){return G.cK+"/img/gacha_new.png"},updatedIcon(){return G.cK+"/ui/cm_update_icon.png"},sortedList(){const e=e=>["warrior","knight","assassin","ranger","mage","manauser"].indexOf(e),t=Array.isArray(this.list)?this.list.slice():Object.values(this.list);return t.sort(((e,t)=>e.name<t.name?-1:0)).sort(((t,l)=>t.rarity!==l.rarity?t.rarity>l.rarity?-1:1:e(t.role)<e(l.role)?-1:1))},filtredList(){var e={},t=/[^a-z0-9]/g,l=/[^a-z0-9,]/g,a=this.filters,i=a.name.toLowerCase().replace(t,"");for(var o in this.list){var n=this.list[o];e[n._id]=(-1!==n.name.toLowerCase().replace(t,"").indexOf(i)||n.hero&&-1!==n.hero.toLowerCase().replace(t,"").indexOf(i)||n.nicknames&&-1!==n.nicknames.join(",").toLowerCase().replace(l,"").indexOf(i))&&["role","rarity"].every((e=>!a[e].length||a[e].includes(n[e])))&&(!a.tags||a.tags.every((e=>n.tags.includes(e))))&&["common","buff","debuff"].every((e=>!a[e].length||a[e].every((t=>n[e]&&n[e].includes(t)))))}return e}},methods:{fetchComplete(e){this.list=e},afterFetch(){}}};const le=(0,k.Z)(te,[["render",z]]);var ae=le,ie={emits:["character","artifact","freeHandMode","resetDraft","ban"],components:{HeroIcon:L.Z,FilterBlock:B.Z,ArtifactSelection:ae},props:{preBans:{type:Array,default:()=>[]}},data(){return{isFetching:!1,fetchError:!1,filters:{name:"",role:[],attribute:[],rarity:[],zodiac:[],tags:[],buff:[],debuff:[],devotion:[],self_devotion:[]},list:{},pick:"hero"}},created(){this.isFetching=!0,this.$gameData.hero.list().then((e=>{this.list=e})).catch((e=>{console.error(e),this.fetchError=!0})).then((()=>{this.isFetching=!1}))},computed:{sortedList(){const e=e=>["fire","ice","wind","light","dark"].indexOf(e),t=e=>["warrior","knight","assassin","ranger","mage","manauser"].indexOf(e),l=Array.isArray(this.list)?this.list.slice():Object.values(this.list);return l.sort(((e,t)=>e.name<t.name?-1:0)).sort(((l,a)=>l.$isNew!==a.$isNew?l.$isNew?-1:1:l.$isUpdated!==a.$isUpdated?l.$isUpdated?-1:1:l.rarity!==a.rarity?l.rarity>a.rarity?-1:1:e(l.attribute)!==e(a.attribute)?e(l.attribute)<e(a.attribute)?-1:1:t(l.role)<t(a.role)?-1:1))},filtredList(){var e={},t=this.filters,l=/[^a-z0-9]/g,a=/[^a-z0-9,]/g,i=t.name.toLowerCase().replace(l,"");for(var o in this.list){var n=this.list[o];e[n._id]=(-1!==n.name.toLowerCase().replace(l,"").indexOf(i)||n.nicknames&&-1!==n.nicknames.join(",").toLowerCase().replace(a,"").indexOf(i))&&["role","attribute","rarity","zodiac"].every((e=>!t[e]||!t[e].length||t[e].includes(n[e])))&&(!t.tags||!t.tags.length||t.tags.every((e=>n.tags.includes(e))))&&["common","buff","debuff"].every((e=>!t[e]||!t[e].length||t[e].every((t=>n[e]&&n[e].includes(t)))))&&["devotion","self_devotion"].every((e=>!t[e]||!t[e].length||t[e].includes(n[e].type)))}return e}},methods:{characterSelected(e){this.$emit("character",e)},artifactSelected(e){this.$emit("artifact",e)},enterDrawMode(){this.$emit("freeHandMode")},resetDraft(){this.$emit("resetDraft")},selectPrebanSlot(e,t){this.$emit("select-preban",[e,t])},banSlot(){this.$emit("ban")}}};const oe=(0,k.Z)(ie,[["render",H],["__scopeId","data-v-66885768"]]);var ne=oe;const se={key:0,style:{position:"absolute","z-index":"10","text-align":"center",top:"0",left:"50%",transform:"translateX(-50%)",background:"var(--background-color-tertiary)",padding:"10px","border-radius":"12px"}},re=(0,a._)("i",{class:"fas fa-times"},null,-1),ce=[re],ue=(0,a._)("i",{class:"fas fa-trash"},null,-1),de=[ue],pe=(0,a._)("i",{class:"fas fa-pencil-alt"},null,-1),he=[pe],me=(0,a._)("i",{class:"fas fa-eraser"},null,-1),fe=[me],ge=(0,a._)("span",null,"Line Width:",-1),ve=(0,a._)("br",null,null,-1),ye=["onClick"];function _e(e,t,l,i,o,n){const s=(0,a.up)("MultiselectOptions"),r=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("canvas",{ref:"canvas",class:"free-write-canvas",style:(0,u.j5)({pointerEvents:this.isActive?"":"none"}),onMousedown:t[0]||(t[0]=(...e)=>n.onMouseDown&&n.onMouseDown(...e)),onMouseup:t[1]||(t[1]=(...e)=>n.onMouseUp&&n.onMouseUp(...e)),onMousemove:t[2]||(t[2]=(...e)=>n.draw&&n.draw(...e))},null,36),l.isActive?((0,a.wg)(),(0,a.iD)("div",se,[(0,a._)("div",null,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[3]||(t[3]=(...e)=>n.exitCanvasMode&&n.exitCanvasMode(...e)),class:"material-button primary basic"},ce)),[[r,()=>"Exit draw mode"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[4]||(t[4]=(...e)=>n.clearCanvas&&n.clearCanvas(...e)),class:"material-button primary basic"},de)),[[r,()=>"Clear"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[5]||(t[5]=e=>o.mode="pencil"),class:(0,u.C_)(["material-button primary","pencil"==o.mode?"flat":"basic"])},he,2)),[[r,()=>"Pencil"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[6]||(t[6]=e=>o.mode="eraser"),class:(0,u.C_)(["material-button primary","eraser"==o.mode?"flat":"basic"])},fe,2)),[[r,()=>"Eraser"]])]),(0,a._)("div",null,[ge,ve,(0,a.Wm)(s,{modelValue:o.lineWidth,"onUpdate:modelValue":t[7]||(t[7]=e=>o.lineWidth=e),mode:"single",placeholder:"Debuffs",style:{"--ms-tag-bg":"var(--font-color-warn)"},options:[{id:2,name:"2"},{id:4,name:"4"},{id:6,name:"6 (Default)"},{id:8,name:"8"},{id:10,name:"10"},{id:12,name:"12"},{id:16,name:"16"}]},null,8,["modelValue","options"])]),(0,a._)("div",null,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(["#000000","#FF0000","#00FF00","#0000FF","#444444","#FFFF00","#00FFFF","#FF00FF"],(e=>(0,a._)("span",{key:e,onClick:t=>o.brushColor=e,class:"pointer",style:(0,u.j5)(["display: inline-blocK; border-radius: 50%; height: 20px; width: 20px; margin: 5px",{backgroundColor:e,border:"solid 3px "+(this.brushColor==e?"var(--font-color-primary)":"transparent")}])},null,12,ye))),64))])])):(0,a.kq)("",!0)],64)}var Ve=l(9662),be={emits:["eixt"],components:{MultiselectOptions:Ve.Z},props:{isActive:{type:Boolean,default:!1}},data(){return{isDrawing:!1,mode:"pencil",ctx:null,canvas:null,lineWidth:6,brushColor:"#FF0000"}},watch:{mode(){this.isDrawing=!1}},mounted(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.$nextTick((()=>{this.setCanvasSize()})),window.addEventListener("resize",this.setCanvasSize)},beforeUnmount(){window.removeEventListener("resize",this.setCanvasSize)},methods:{exitCanvasMode(){this.$emit("exit")},setCanvasSize(){var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);this.canvas.height=this.canvas.offsetParent.clientHeight,this.canvas.width=this.canvas.offsetParent.clientWidth,this.ctx.putImageData(e,0,0)},onMouseDown(e){this.ctx.strokeStyle=this.brushColor,this.ctx.lineWidth=this.lineWidth,this.ctx.lineCap="round",this.isDrawing=!0,this.draw(e)},onMouseUp(){this.isDrawing=!1,this.ctx.stroke(),this.ctx.beginPath()},clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},draw(e){if(!this.isDrawing)return;const t=this.ctx,l=e.clientX-this.canvas.offsetParent.offsetLeft,a=e.clientY;"eraser"==this.mode?t.clearRect(l-10,a-10,20,20):(t.lineTo(l,a),t.stroke())}}};const we=(0,k.Z)(be,[["render",_e]]);var ke=we;const xe=(0,a._)("div",null,[(0,a._)("span",null,"Pre-Ban Hero")],-1),De={class:"flex justify-center"},Se=(0,a._)("div",{style:{width:"2px",height:"66px","background-color":"var(--e7-border-color)"}},null,-1);function Ce(e,t,l,i,o,n){const s=(0,a.up)("HeroIcon"),r=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",null,[xe,(0,a._)("div",De,[(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.preBans[0],((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(s,{onClick:e=>n.emitClick(0,t),key:e,hero:e||o.fallbackHero,class:"pointer",hover:!1,showrole:!1,size:50},null,8,["onClick","hero"])),[[r,()=>(e||o.fallbackHero).name]]))),128))]),Se,(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.preBans[1],((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(s,{onClick:e=>n.emitClick(1,t),key:e,hero:e||o.fallbackHero,class:"pointer",hover:!1,showrole:!1,size:50},null,8,["onClick","hero"])),[[r,()=>(e||o.fallbackHero).name]]))),128))])])])}var Ee={emits:["selectSlot"],props:{preBans:{type:Array,default:()=>[[null,null],[null,null]]}},data(){return{fallbackHero:{id:"c0000",_id:"",name:"Pre ban slot",role:"",attribute:"",rarity:1}}},methods:{emitClick(e,t){this.$emit("selectSlot",[e,t])}}};const Me=(0,k.Z)(Ee,[["render",Ce]]);var Oe=Me,Ne={name:"DraftCrafter",components:{PreBan:Oe,DraftPanel:D,UserSelectMenu:ne,FreeWriteCanvas:ke},data(){return{isCanvasMode:!1,activeSlot:[-1,-1,-1],userPreBans:[null,null],enemyPreBans:[null,null],postBans:[-1,-1],userPicks:[null,null,null,null,null],userArtifacts:[null,null,null,null,null],enemyPicks:[null,null,null,null,null],enemyArtifacts:[null,null,null,null,null]}},methods:{selectSlot(e){this.activeSlot=e},banDraftSlot(){const e=this.activeSlot;2!=e[1]&&(2===e[0]?this.postBans[0]===e[1]?this.postBans[0]=-1:this.postBans[0]=e[1]:3===e[0]&&(this.postBans[1]===e[1]?this.postBans[1]=-1:this.postBans[1]=e[1]))},equipCharacter(e){var t;switch(this.activeSlot[0]){case 0:t=this.userPreBans;break;case 1:t=this.enemyPreBans;break;case 2:t=this.userPicks;break;case 3:t=this.enemyPicks;break;default:return}this.unselectData(t[this.activeSlot[1]]),t[this.activeSlot[1]]=e,e.___isDrafted=!0},equipArtifact(e){var t;switch(this.activeSlot[0]){case 2:t=this.userArtifacts;break;case 3:t=this.enemyArtifacts;break;default:return}t[this.activeSlot[1]]=e},unselectData(e){e&&(e.___isDrafted=!1)},resetDraft(){this.postBans=[-1,-1],[this.userPreBans,this.enemyPreBans,this.userPicks,this.enemyPicks,this.userArtifacts,this.enemyArtifacts].forEach((e=>{e.forEach(((t,l)=>{this.unselectData(t),e[l]=null}))}))}}};const Ue=(0,k.Z)(Ne,[["render",c]]);var Ie=Ue},9206:function(e,t,l){"use strict";l(8242)},4553:function(e,t,l){"use strict";l.d(t,{Z:function(){return a.Z}});var a=l(7673)},5509:function(e,t,l){"use strict";l.d(t,{s:function(){return a.s}});var a=l(5425)}}]);