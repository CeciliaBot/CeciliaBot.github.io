"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[1909],{648:function(t,e,i){var o=i(1694),n=i(614),s=i(4326),a=i(5112),r=a("toStringTag"),h=Object,c="Arguments"==s(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(i){}};t.exports=o?s:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=l(e=h(t),r))?i:c?s(e):"Object"==(o=s(e))&&n(e.callee)?"Arguments":o}},7045:function(t,e,i){var o=i(6339),n=i(3070);t.exports=function(t,e,i){return i.get&&o(i.get,e,{getter:!0}),i.set&&o(i.set,e,{setter:!0}),n.f(t,e,i)}},1694:function(t,e,i){var o=i(5112),n=o("toStringTag"),s={};s[n]="z",t.exports="[object z]"===String(s)},1340:function(t,e,i){var o=i(648),n=String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return n(t)}},8053:function(t){var e=TypeError;t.exports=function(t,i){if(t<i)throw e("Not enough arguments");return t}},6229:function(t,e,i){var o=i(8052),n=i(1702),s=i(1340),a=i(8053),r=URLSearchParams,h=r.prototype,c=n(h.append),l=n(h["delete"]),d=n(h.forEach),g=n([].push),u=new r("a=1&a=2&b=3");u["delete"]("a",1),u["delete"]("b",void 0),u+""!=="a=2"&&o(h,"delete",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return l(this,t);var o=[];d(this,(function(t,e){g(o,{key:e,value:t})})),a(e,1);var n,r=s(t),h=s(i),u=0,m=0,f=!1,p=o.length;while(u<p)n=o[u++],f||n.key===r?(f=!0,l(this,n.key)):m++;while(m<p)n=o[m++],n.key===r&&n.value===h||c(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},7330:function(t,e,i){var o=i(8052),n=i(1702),s=i(1340),a=i(8053),r=URLSearchParams,h=r.prototype,c=n(h.getAll),l=n(h.has),d=new r("a=1");!d.has("a",2)&&d.has("a",void 0)||o(h,"has",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return l(this,t);var o=c(this,t);a(e,1);var n=s(i),r=0;while(r<o.length)if(o[r++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},2062:function(t,e,i){var o=i(9781),n=i(1702),s=i(7045),a=URLSearchParams.prototype,r=n(a.forEach);o&&!("size"in a)&&s(a,"size",{get:function(){var t=0;return r(this,(function(){t++})),t},configurable:!0,enumerable:!0})},920:function(t,e,i){i.r(e),i.d(e,{default:function(){return E}});var o=i(6252),n=i(3577),s=i(9963);const a=t=>((0,o.dD)("data-v-20144ad8"),t=t(),(0,o.Cn)(),t),r={class:"container noselect"},h={class:"slide-counter"},c=a((()=>(0,o._)("i",{class:"fa fa-times"},null,-1))),l=[c],d=a((()=>(0,o._)("i",{class:"fas fa-copy"},null,-1))),g=[d],u=a((()=>(0,o._)("i",{class:"fas fa-download"},null,-1))),m=[u],f=a((()=>(0,o._)("i",{class:"fa fa-angle-left"},null,-1))),p=[f],v=a((()=>(0,o._)("i",{class:"fa fa-angle-right"},null,-1))),z=[v],w={class:"center"},y={class:"fas fa-spinner fa-spin"},b={key:0},I=["src"],x=a((()=>(0,o._)("br",null,null,-1))),k={style:{height:"100%",width:"100%"}},M=["onLoad","src"],_={key:0},Z=["innerHTML"];function O(t,e,a,c,d,u){const f=(0,o.up)("Interactive"),v=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",{class:(0,n.C_)(["nav-bar text-black-stroke",{invisible:!d.ui}])},[(0,o._)("span",h,(0,n.zw)(d.localIndex+1)+"/"+(0,n.zw)(a.album.length),1),(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{class:"nav-icon",onClick:e[0]||(e[0]=(...t)=>u.closeGallery&&u.closeGallery(...t))},l)),[[v,()=>this.$t("strings.close")]]),u.canCopy?(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{key:0,class:"nav-icon",onClick:e[1]||(e[1]=(...e)=>t.copyImage&&t.copyImage(...e)),style:{"font-weight":"800","margin-top":"-2px","font-size":"0.8em"}},g)),[[v,()=>this.$t("strings.copy")]]):(0,o.kq)("",!0),u.canDownload?(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{key:1,class:"nav-icon",onClick:e[2]||(e[2]=(...t)=>u.downloadImage&&u.downloadImage(...t)),style:{"font-weight":"800","margin-top":"-2px","font-size":"0.8em"}},m)),[[v,()=>this.$t("strings.download")]]):(0,o.kq)("",!0),(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{class:(0,n.C_)(["nav-icon",{invisible:u.isLast}]),onClick:e[3]||(e[3]=(...t)=>u.nextImage&&u.nextImage(...t)),style:{"font-weight":"800","margin-top":"-2px"}},[(0,o.Uk)(">")],2)),[[v,()=>this.$t("strings.next")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{class:(0,n.C_)(["nav-icon",{invisible:u.isFirst}]),onClick:e[4]||(e[4]=(...t)=>u.prevImage&&u.prevImage(...t)),style:{"font-weight":"800","margin-top":"-2px"}},[(0,o.Uk)("<")],2)),[[s.F8,!u.isFirst],[v,()=>this.$t("strings.back")]]),(0,o._)("div",{class:(0,n.C_)(["next-prev-img",{invisible:u.isFirst}]),onClick:e[5]||(e[5]=(...t)=>u.prevImage&&u.prevImage(...t)),style:{left:"10px"}},p,2),(0,o._)("div",{class:(0,n.C_)(["next-prev-img",{invisible:u.isLast}]),onClick:e[6]||(e[6]=(...t)=>u.nextImage&&u.nextImage(...t)),style:{right:"10px"}},z,2)],2),(0,o._)("div",w,[(0,o.wy)((0,o._)("i",y,null,512),[[s.F8,d.loadingImage]]),d.imageFailed?((0,o.wg)(),(0,o.iD)("span",b,[(0,o._)("img",{src:i(8890)},null,8,I),x,(0,o.Uk)((0,n.zw)(t.$t("strings.app_not_found")),1)])):(0,o.kq)("",!0)]),(0,o._)("div",k,[(0,o.Wm)(f,{height:1,width:1,maxzoom:10,minzoom:.03,padding:"50 0 60 0",smooth:!0,onDraggingStart:u.hideUI,onDraggingEnd:u.showUI},{default:(0,o.w5)((({loadEvent:t})=>[a.album[d.localIndex]?((0,o.wg)(),(0,o.iD)("img",{ref:"active-image",key:d.localIndex,style:{transform:"scale(0.2)",opacity:"0"},onLoad:e=>{t(e),u.imageLoaded(e)},onError:e[7]||(e[7]=(...t)=>u.imageFailedLoading&&u.imageFailedLoading(...t)),src:a.album[d.localIndex].src},null,40,M)):(0,o.kq)("",!0)])),_:1},8,["onDraggingStart","onDraggingEnd"])]),(0,o._)("div",{class:(0,n.C_)(["caption text-black-stroke",{invisible:!d.ui}]),ref:"debug-gallery"},[a.album[d.localIndex]?((0,o.wg)(),(0,o.iD)("p",_,(0,n.zw)(a.album[d.localIndex].description),1)):(0,o.kq)("",!0),a.album[d.localIndex]&&a.album[d.localIndex].author?((0,o.wg)(),(0,o.iD)("span",{key:1,innerHTML:"Author: "+a.album[d.localIndex].author},null,8,Z)):(0,o.kq)("",!0)],2)])}i(6229),i(7330),i(2062);var C=i(4157),D={name:"PhotoGallery",emits:["close"],components:{Interactive:C.Z},props:{index:{type:Number,default:0},album:{type:Array,default(){return[]}},download:{type:Boolean,default:!0},copy:{type:Boolean,default:!0},onCloseHandler:{type:Function,default(){}}},data(){return{ui:!0,localIndex:0,loadingImage:!0,imageFailed:!1}},computed:{isFirst(){return 0===this.localIndex},isLast(){return!this.album.length||this.localIndex===this.album.length-1},canDownload(){return this.download&&!this.loadingImage&&!this.imageFailed},canCopy(){return!1}},created(){this.localIndex=this.index},watch:{localIndex:function(){this.loadingImage=!0,this.imageFailed=!1}},methods:{hideUI(){this.ui=!1},showUI(){this.ui=!0},nextImage(){this.isLast||this.localIndex++},prevImage(){this.isFirst||this.localIndex--},imageLoaded(t){this.loadingImage=!1,t.target.onload=null,t.target.onerror=null},imageFailedLoading(t){this.imageFailed=!0,this.loadingImage=!1,t.target.onload=null,t.target.onerror=null},downloadImage(){const t=this.album[this.localIndex];var e=t.src.match(/(?:.+\/)([^#?]+)/);if(e)fetch(t.src).then((t=>t.blob())).then((i=>{const o=window.URL.createObjectURL(i),n=document.createElement("a");n.style.display="none",n.href=o,n.download=t.name||e[1]||"Untitled",document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(o),document.body.removeChild(n)})).catch((()=>this.$snackbar.error({title:"Something went wrong"})));else{var i=document.createElement("a");i.download=t.name+".png",i.href=t.src,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},closeGallery(t){if(t.currentTarget){const e=new Event("mouseleave");t.currentTarget.dispatchEvent(e)}this.$emit("close"),this.onCloseHandler&&this.onCloseHandler()}}},L=i(3744);const S=(0,L.Z)(D,[["render",O],["__scopeId","data-v-20144ad8"]]);var E=S},4157:function(t,e,i){i.d(e,{Z:function(){return g}});var o=i(6252),n=i(3577);const s={style:{position:"absolute",width:"100%","z-index":"1","text-align":"center"}};function a(t,e,i,a,r,h){return(0,o.wg)(),(0,o.iD)("div",{ref:"interactive-element",tabindex:"-1",class:"main-container",onMouseenter:e[0]||(e[0]=(...t)=>h.focus&&h.focus(...t)),onTouchstart:e[1]||(e[1]=(...t)=>h.touchStart&&h.touchStart(...t)),onTouchmove:e[2]||(e[2]=(...t)=>h.touchMove&&h.touchMove(...t)),onTouchend:e[3]||(e[3]=(...t)=>h.touchEnd&&h.touchEnd(...t)),onMousemove:e[4]||(e[4]=(...t)=>h.mouseMove&&h.mouseMove(...t)),onMouseup:e[5]||(e[5]=(...t)=>h.mouseUp&&h.mouseUp(...t)),onMouseleave:e[6]||(e[6]=(...t)=>h.mouseLeave&&h.mouseLeave(...t)),onMousedown:e[7]||(e[7]=(...t)=>h.mouseDown&&h.mouseDown(...t)),onWheel:e[8]||(e[8]=(...t)=>h.mouseWheelZoom&&h.mouseWheelZoom(...t)),onKeydownCapture:e[9]||(e[9]=(...t)=>h.keyDown&&h.keyDown(...t))},[(0,o._)("div",s,[(0,o.WI)(t.$slots,"buttons",{},void 0,!0)]),(0,o._)("div",{class:(0,n.C_)(["noselect",{zoomed:h.zoomed,smooth:this.smoothTransitions}]),style:(0,n.j5)({display:"inline-block",width:this.size[0]+"px",height:this.size[1]+"px",transform:"translate("+this.coordinates[0]+"px,"+this.coordinates[1]+"px) scale("+this.zoom+")","transform-origin":"0 0 0"})},[(0,o.WI)(t.$slots,"default",{loadEvent:h.loadEvent},void 0,!0)],6)],544)}var r,h={},c={name:"interactive-zoom-move",emits:["draggingStart","draggingEnd"],props:["width","height","padding","maxzoom","minzoom","smooth"],provide(){return{zoom:(0,o.Fl)((()=>this.zoom))}},data:function(){return{size:[0,0],zoom:1,defaultZoom:1,MAX_ZOOM:10,MIN_ZOOM:.2,dragging:!1,coordinates:[0,0],parentcontainer:null,parentPadding:[0,0,0,0],pinch:!1,isLoading:!1}},computed:{zoomed:function(){return this.zoom>this.defaultZoom},smoothTransitions:function(){return this.smooth&&!this.dragging&&!this.isLoading}},created:function(){!this.maxzoom||(this.MAX_ZOOM=Number(this.maxzoom)),!this.minzoom||(this.MIN_ZOOM=Number(this.minzoom)),window.addEventListener("resize",this.onScreenResize)},mounted:function(){this.parentcontainer=this.$el,this.$el.focus(),this.size=[this.width,this.height]},beforeUnmount:function(){this.parentcontainer=null,h={},r=null,window.removeEventListener("resize",this.onScreenResize)},watch:{padding:{immediate:!0,handler(t){t&&t.split(" ").forEach(((t,e)=>{this.parentPadding[e]=Number(t)}))}},size(){const t=this.setStartingZoom(this.size);var e=this.zoom===t;this.zoom=t,this.defaultZoom=t,e&&(this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates))},zoom:function(){this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates)},dragging(t){var e="draggingStart";t||(e="draggingEnd"),this.$emit(e)},pinch(t){var e="draggingStart";t||(e="draggingEnd"),this.$emit(e)}},methods:{loadEvent(t){this.isLoading=!0,setTimeout((()=>{this.isLoading=!1}),400);var e=t.target||t.originalTarget||t.path[0],i=e.height,o=e.width;this.coordinates=[0,0],this.size=[o,i],e.style.opacity=1,e.style.transition="all .4s ease",e.style.transform="scale(1)"},focus(){this.$el.focus()},blur(){this.$el.blur()},setStartingZoom:function(t){var e=this.parentcontainer.getBoundingClientRect(),i=e.width-this.parentPadding[1]-this.parentPadding[3],o=t[0],n=e.height-this.parentPadding[0]-this.parentPadding[2],s=t[1],a=i/o,r=n/s;return Math.min(a,r,1)},centerImage:function(t,e,i){var o=this.parentcontainer.getBoundingClientRect(),n=o.width,s=t[0]*e,a=o.height,r=t[1]*e,h=this.parentPadding,c=i[0],l=i[1];return s<=n-h[1]-h[3]?c=(n-s)/2:i[0]>=h[3]?c=h[3]:s+i[0]<n-h[1]&&(c=-s+n-h[1]),r<a-h[0]-h[2]?l=(a-r)/2:i[1]>h[0]?l=h[0]:r+i[1]<a-h[2]&&(l=-r+a-h[2]),[c,l]},restoreZoom:function(){this.zoom=this.defaultZoom},doubleZoom:function(){this.zoom*=2},originalResolution:function(){this.zoom=1},clickImage:function(t){if("IMG"===t.target.tagName&&2!==t.button){var e=(t.clientX-this.coordinates[0])/this.zoom,i=(t.clientY-this.coordinates[1])/this.zoom;this.zoomed?this.restoreZoom():this.defaultZoom-1>.2?this.originalResolution():this.doubleZoom(),this.coordinates=[t.clientX-e*this.zoom,t.clientY-i*this.zoom]}},isDragging:function(t){return!!(h.x&&Math.abs(h.x-t.clientX)>2&&Math.abs(h.y-t.clientY)>2)},mouseDown:function(t){2!==t.button&&(t.preventDefault(),t.stopPropagation(),this.dragging=!1,h={x:t.clientX-this.coordinates[0],y:t.clientY-this.coordinates[1]})},mouseMove:function(t){(this.dragging||this.isDragging(t))&&(this.dragging=!0,t.preventDefault(),this.coordinates=[t.clientX-h.x,t.clientY-h.y])},mouseUp:function(t){this.dragging?(this.dragging=!1,this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates)):void 0!==!t.detail&&2!==t.detail||this.clickImage(t),h={}},mouseLeave:function(){this.dragging&&(h={},this.dragging=!1,this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates))},mouseWheelZoom:function(t){if(t.preventDefault(),!this.dragging||!this.isLoading){var e=(t.clientX-this.coordinates[0])/this.zoom,i=(t.clientY-this.coordinates[1])/this.zoom,o=t.wheelDelta||-t.deltaY;this.zoom=o>0?1.1*this.zoom>this.MAX_ZOOM?this.MAX_ZOOM:1.1*this.zoom:this.zoom/1.1<this.MIN_ZOOM?this.MIN_ZOOM:this.zoom/1.1,this.coordinates=[t.clientX-e*this.zoom,t.clientY-i*this.zoom]}},getPinchZoomSize(t,e){var i=t.clientX-e.clientX,o=t.clientY-e.clientY;return Math.sqrt(i*i+o*o)},touchStart:function(t){var e=t.touches||t.changedTouches;this.pinch=!1,this.dragging=!1,2===e.length?(this.pinch=!0,this.dragging=!1,r=this.getPinchZoomSize(t.touches[0],t.touches[1]),h={x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}):(h.x=e[0].clientX-this.coordinates[0],h.y=e[0].clientY-this.coordinates[1])},touchMove:function(t){const e=t.touches||t.changedTouches;if(this.pinch){var i=this.getPinchZoomSize(t.touches[0],t.touches[1]),o=1,n=(h.x-this.coordinates[0])/this.zoom,s=(h.y-this.coordinates[1])/this.zoom,a=this.zoom*(1+(i/r-1)*o);this.zoom=a>this.MAX_ZOOM?this.MAX_ZOOM:a<this.MIN_ZOOM?this.MIN_ZOOM:a,this.coordinates=[h.x-n*this.zoom,h.y-s*this.zoom],r=i}else{if(!this.dragging&&!this.isDragging(e[0]))return;this.dragging=!0,t.preventDefault(),this.coordinates=[e[0].clientX-h.x,e[0].clientY-h.y]}},touchEnd:function(t){this.pinch&&2!==t.changedTouches.length&&(this.pinch=!1,this.pinchCenter=null),this.dragging&&(this.dragging=!1,this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates)),h={}},keyDown(t){if(console.log(t),!this.dragging){var e=0,i=0,o=0;switch(t.keyCode){case 38:case 87:i++;break;case 40:case 83:i--;break;case 37:case 65:e++;break;case 39:case 68:e--;break;case 187:case 107:case 69:o++;break;case 189:case 109:case 81:o--;break}if(e||i){t.preventDefault(),t.stopPropagation();var n=this.parentcontainer.getBoundingClientRect(),s=Math.min(n.width,n.height),a=.05;this.coordinates=this.centerImage(this.size,this.zoom,[this.coordinates[0]+s*a*e,this.coordinates[1]+s*a*i])}if(o){var r=this.zoom+.05*o,h=this.parentcontainer.getBoundingClientRect(),c=(h.width/2-this.coordinates[0])/this.zoom,l=(h.height/2-this.coordinates[1])/this.zoom;r>this.MAX_ZOOM?r=this.MAX_ZOOM:r<this.MIN_ZOOM&&(r=this.MIN_ZOOM),this.zoom=r,this.coordinates=[h.width/2-c*this.zoom,h.height/2-l*this.zoom]}}},onScreenResize:function(){let t=this.setStartingZoom(this.size);this.zoom===this.defaultZoom?t==this.zoom?this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates):this.zoom=t:this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates),this.defaultZoom=t}}},l=i(3744);const d=(0,l.Z)(c,[["render",a],["__scopeId","data-v-69ff600e"]]);var g=d},8890:function(t,e,i){t.exports=i.p+"img/cermia404.00418f21.png"}}]);