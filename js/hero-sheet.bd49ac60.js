"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[6781],{4710:function(e,t,l){l.d(t,{Z:function(){return g}});var s=l(6252),i=l(3577);const n={key:0,style:{display:"inline-block","min-width":"2em"}},a=["data-src"],o={style:{"margin-left":"5px"}},u={style:{"font-size":"1.4rem","font-weight":"400"}},r=(0,s._)("br",null,null,-1),d={style:{"font-size":"1.2rem","font-weight":"300"}};function c(e,t,l,c,m,h){const p=(0,s.up)("Multiselect",!0),f=(0,s.Q2)("lazyloader");return(0,s.wg)(),(0,s.j4)(p,{class:"multisel",tabindex:"-1",mode:this.mode,trackBy:"name",valueProp:"id",label:"name",placeholder:"",searchable:!0,clearOnBlur:!1,options:l.options,ref:"multiselect"},{option:(0,s.w5)((e=>[e.option.src?((0,s.wg)(),(0,s.iD)("span",n,[(0,s.wy)((0,s._)("img",{"data-src":e.option.src},null,8,a),[[f]])])):(0,s.kq)("",!0),(0,s._)("div",o,[(0,s._)("span",u,(0,i.zw)(e.option.name||e.option.id),1),r,(0,s._)("span",d,(0,i.zw)(e.option.description),1)])])),_:1},8,["mode","options"])}var m=l(5135),h={name:"MultiSelect",components:{Multiselect:m.Z},props:{mode:{type:String,default:"tags"},options:{default:()=>[]}},data(){return{isFocused:!1,focusTimer:null,timer:null,closeOnSelect:!1,openDirection:"bottom"}},mounted(){},watch:{isFocused(e){if(e){this.openDirection="top",this.closeOnSelect=!1,this.$el.style.fontSize="20px",this.$el.style.setProperty("--ms-max-height",window.innerHeight/2+"px"),this.$el.style.position="fixed",this.$el.style.zIndex=10;var{top:t,left:l}=this.$el.getBoundingClientRect();this.$el.style.bottom=window.innerHeight-t+"px",this.$el.style.left=l+"px",this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this.$el.style.bottom=0,this.$el.style.left=0}),100)}else this.$el.style.position="",this.$el.style.bottom="",this.$el.style.left="",this.$el.style.zIndex=""}},methods:{openDropdown(){this.$refs.multiselect.open()},focusSelect(){if(window.innerWidth>700)return this.isFocused=!1;this.focusTimer&&(clearTimeout(this.focusTimer),this.focusTimer=null),this.isFocused=!0},blurSelect(){this.isFocused&&(this.focusTimer=setTimeout((()=>{this.isFocused=!1}),20))}}},p=l(3744);const f=(0,p.Z)(h,[["render",c]]);var g=f},1925:function(e,t,l){l.r(t),l.d(t,{default:function(){return q}});var s=l(6252),i=l(3577);const n=(0,s._)("h2",null,"Hero Stats Sheet",-1),a=(0,s._)("br",null,null,-1),o=(0,s._)("br",null,null,-1),u=(0,s._)("br",null,null,-1),r=(0,s._)("br",null,null,-1),d={style:{"min-height":"100vh"}};function c(e,t,l,c,m,h){const p=(0,s.up)("PageTitle"),f=(0,s.up)("Multiselect"),g=(0,s.up)("Checkbox"),w=(0,s.up)("E7Slider"),v=(0,s.up)("StatsChartVue"),S=(0,s.up)("SectionTitle"),k=(0,s.up)("Face"),y=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[n])),_:1}),(0,s._)("div",null,[(0,s.Wm)(f,{mode:"single",modelValue:m.sheetSettings.tracking,"onUpdate:modelValue":t[0]||(t[0]=e=>m.sheetSettings.tracking=e),options:["atk","def","hp","spd","chc","chd","eff","efr","dac"].map((t=>({name:e.$t("strings."+t),id:t})))},null,8,["modelValue","options"]),a,(0,s.Wm)(g,{modelValue:m.sheetSettings.awakened,"onUpdate:modelValue":t[1]||(t[1]=e=>m.sheetSettings.awakened=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Awakened ")])),_:1},8,["modelValue"]),o,(0,s.Wm)(g,{modelValue:m.sheetSettings.speedSetBonus,"onUpdate:modelValue":t[2]||(t[2]=e=>m.sheetSettings.speedSetBonus=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Speed Set Bonus ")])),_:1},8,["modelValue"]),u,(0,s.Wm)(g,{modelValue:m.sheetSettings.skillBonus,"onUpdate:modelValue":t[3]||(t[3]=e=>m.sheetSettings.skillBonus=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Skill bonus ")])),_:1},8,["modelValue"]),r,(0,s.Wm)(w,{modelValue:m.sheetSettings.lvl,"onUpdate:modelValue":t[4]||(t[4]=e=>m.sheetSettings.lvl=e),max:60,min:1},null,8,["modelValue"]),(0,s.Uk)(" Level: "),(0,s.Wm)(g,{modelValue:m.sheetSettings.lvl,"onUpdate:modelValue":t[5]||(t[5]=e=>m.sheetSettings.lvl=e),"true-value":1},{default:(0,s.w5)((()=>[(0,s.Uk)("1")])),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:m.sheetSettings.lvl,"onUpdate:modelValue":t[6]||(t[6]=e=>m.sheetSettings.lvl=e),"true-value":50},{default:(0,s.w5)((()=>[(0,s.Uk)("50")])),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:m.sheetSettings.lvl,"onUpdate:modelValue":t[7]||(t[7]=e=>m.sheetSettings.lvl=e),"true-value":60},{default:(0,s.w5)((()=>[(0,s.Uk)("60")])),_:1},8,["modelValue"])]),(0,s.Wm)(v,{min:299,max:400,"chart-data":h.results},null,8,["chart-data"]),(0,s._)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.results,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.value},[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e[0]),1)])),_:2},1024),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e[1],(e=>((0,s.wg)(),(0,s.j4)(y,{key:e._id,to:"/hero/"+e._id,class:"route-restore"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{hero:e,hover:!1,showname:!0,showrarity:!0},null,8,["hero"])])),_:2},1032,["to"])))),128))])))),128))])])}l(7658);var m=l(2784),h=l(2116),p=l(9651),f=l(4618),g=l(4710),w=l(9165),v=l(1163),S=l(2559);const k={class:"full-w"},y=(0,s._)("div",null,"Header",-1),_={class:"flex"},b=(0,s._)("div",{class:"flex-fill",style:{"background-color":"aqua"}}," Bars ",-1);function V(e,t,l,n,a,o){const u=(0,s.up)("Face");return(0,s.wg)(),(0,s.iD)("div",k,[y,(0,s._)("div",_,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.chartData[0],(e=>((0,s.wg)(),(0,s.j4)(u,{key:e._id,hero:e},null,8,["hero"])))),128))]),b]),(0,s.Uk)(" "+(0,i.zw)(l.min)+" "+(0,i.zw)(l.max),1)])}var x={components:{Face:w.Z},props:{min:{type:Number,default:0},max:{type:Number,default:100},chartData:{},tracking:{}}},U=l(3744);const z=(0,U.Z)(x,[["render",V]]);var $=z,D=l(9963);const Z={class:"e7-range-input"},B={class:"steps-labels full-w no-events"},T={class:"flex items-justify justify-between"},W=["min","max","step"];function F(e,t,l,n,a,o){return(0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",B,[(0,s._)("div",T,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.steps,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e},(0,i.zw)(e),1)))),128))])]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"full-w noselect",type:"range","onUpdate:modelValue":t[0]||(t[0]=e=>o.localValue=e),min:l.min,max:l.max,step:l.step,style:(0,i.j5)({"--slider-track-color":o.trackColor})},null,12,W),[[D.nr,o.localValue]])])])}var C={name:"EpicSevenRange",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1}},computed:{localValue:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e)}},trackColor(){const e=(this.localValue-this.min)/(this.max-this.min)*100;return`linear-gradient(to right, var(--e7-border-color) ${e}%, transparent 0%)`},steps(){let e=(this.max-this.min)/this.step;return e}}};const H=(0,U.Z)(C,[["render",F]]);var N=H,M={name:"HeroStatsIndex",components:{PageTitle:h.Z,SectionTitle:p.Z,Checkbox:f.Z,Multiselect:g.Z,Face:w.Z,StatsChartVue:$,E7Slider:N},data(){return{sheetSettings:{tracking:"spd",awakened:!0,speedSetBonus:!0,skillBonus:!0,lvl:60},list:{}}},watch:{sheetSettings:{deep:!0,handler(){this.calculateStats()}}},methods:{calculateStats(){var e,t;const{awakened:l,skillBonus:s,ee_equiped:i,speedSetBonus:n,selfImprint:a,lvl:o}=this.sheetSettings;for(e in this.list)t=this.list[e],l&&!t.zodiac_tree&&(t.zodiac_tree=(0,S.Z)(t.rarity,t.role,t.zodiac,t.attribute)),t.statsResult=(0,v.Z)({rarity:t.rarity,level:Number(o),awakened:!!l&&t.zodiac_tree,imprint:!!a&&t.self_devotion,skills:!!s&&t.stats?.skills,ex_equip:!!i&&t.stats?.ex_equip?.[0],speedSet:n,stats:t.stats})}},computed:{results(){var e=[],t=1/0,l=-1/0;const s=this.sheetSettings.tracking,i=-1!==["chc","chd","eff","efr","dac"].indexOf(s);for(var n in this.list){var a=this.list[n],o=a.statsResult||{},u=-1,r=o[s];l=Math.max(l,r),t=Math.min(t,r),i&&(r=100*r+"%");for(var d=0;d<e.length;d++)if(e[d][0]==r){u=d;break}-1===u&&(u=e.length,e.push([r,[]])),e[u][1].push(a)}return console.log(l,t),e.sort((function(e,t){return e[0]<t[0]?1:-1}))}},created(){(0,m.Z)("https://cecilia-bot-api.vercel.app/api/mongo/getList?list=hero&fields=_id,id,stats,name,zodiac,rarity,attribute,role").then((e=>{const t=JSON.parse(e);let l,s,i={};for(s in t)l=t[s],i[l._id]=l;this.list=i,this.calculateStats()})).catch((e=>{console.error(e)}))}};const j=(0,U.Z)(M,[["render",c]]);var q=j}}]);