"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[4892],{6163:function(e,t,i){function n(e,t){var i=null;return function(){clearTimeout(i);var n=arguments,r=this;i=setTimeout((function(){e.apply(r,n)}),t)}}function r(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout((function(){i=!1}),t))}}function a(e=!1){let t=window.location.href.split("?")[0],i=t.split("#"),n=e&&"#"===e.href.charAt(0)?2:1;while(i.length>n)i.pop();return i.join("#")}i.d(t,{Ds:function(){return n},P2:function(){return r},fA:function(){return a}})},6120:function(e,t,i){i.d(t,{Z:function(){return h}});var n=i(6252),r=i(9963),a=i(3577);const o=(0,n._)("img",{style:{"max-height":"100px",height:"100%"},src:"https://cdn.glitch.com/6c14ca82-3bcb-4fd6-afa7-815b95e04a14%2Fras-run-slow.gif?v=1632241290215"},null,-1),s={style:{"font-size":"32px",color:"white","text-shadow":"0px 0px 3px grey, 0 0 10px black, 0 0 10px black","line-height":"30px","padding-top":"12px","margin-left":"20px"}};function l(e,t,i,l,c,d){return(0,n.wg)(),(0,n.iD)("div",{class:"noselect loading-part animatefade absolute",onContextmenu:t[0]||(t[0]=(0,r.iM)((()=>{}),["prevent"]))},[o,(0,n._)("div",s,(0,a.zw)(i.text),1)],32)}var c={props:{text:{type:String,default:""}}},d=i(3744);const u=(0,d.Z)(c,[["render",l]]);var h=u},3570:function(e,t,i){i.d(t,{Z:function(){return b}});var n=i(6252),r=i(3577);const a={style:{display:"inline-block",width:"361px",position:"relative"},class:"panel-wrapper noselect"},o={style:{position:"absolute",top:"0",left:"0"},class:"panel full-h full-w"},s=["data-src"],l={style:{position:"absolute",height:"24%",left:"13%",top:"15%"}},c=["data-src"],d={class:"text-black-stroke",style:{color:"white","vertical-align":"middle",height:"100%"}},u={style:{position:"absolute",left:"10%",bottom:"20%",height:"1.4em"}},h=["data-src"],f=["data-src"],g=["src"];function p(e,t,i,p,m,v){const y=(0,n.Q2)("lazyloader");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",o,[(0,n.wy)((0,n._)("img",{"data-src":v.img,class:"hero-img"},null,8,s),[[y]]),(0,n._)("div",l,[(0,n.wy)((0,n._)("img",{style:{"vertical-align":"middle",width:"1.3em","padding-right":"5px"},"data-src":v.roleIcon},null,8,c),[[y]]),(0,n._)("span",d,(0,r.zw)(v.heroData.name),1)]),(0,n._)("div",u,[(0,n.wy)((0,n._)("img",{style:{height:"100%","vertical-align":"middle"},"data-src":v.attributeIcon},null,8,h),[[y]]),(0,n.wy)((0,n._)("img",{class:(0,r.C_)("zodiac-panel-icon "+i.data.zodiac),style:{"margin-right":"8%"},"data-src":v.zodiacIcon},null,10,f),[[y]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.heroData.rarity,(e=>((0,n.wg)(),(0,n.iD)("img",{style:{"vertical-align":"middle","margin-left":"-5%",height:"80%"},key:e,src:v.starIcon},null,8,g)))),128))])])])}var m=i(8753),v={props:{data:{type:Object,default:()=>({})}},computed:{heroData(){return this.data||{}},img(){return m.cK+"/face/"+this.heroData.id+"_l.png"},starIcon(){return m.cK+"/img/cm_icon_star.png"},roleIcon(){return this.$store.getters.getRoleIcon(this.heroData.role)},attributeIcon(){return m.cK+"/img/cm_icon_prom"+this.data.attribute+".png"},zodiacIcon(){return m.cK+"/img/cm_icon_zodiac_"+this.data.zodiac+".png"}}},y=i(3744);const w=(0,y.Z)(v,[["render",p]]);var b=w},2116:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(6252);const r={class:"page-title-box flex flex-col justify-center"};function a(e,t){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.WI)(e.$slots,"default")])}var o=i(3744);const s={},l=(0,o.Z)(s,[["render",a]]);var c=l},6473:function(e,t,i){i.r(t),i.d(t,{default:function(){return y}});var n=i(6252),r=i(3577);const a=(0,n._)("h2",null,"Heroes",-1),o={ref:"panels_box",class:"flex flex-wrap justify-center",style:{"min-height":"100vh","place-content":"flex-start"}};function s(e,t,i,s,l,c){const d=(0,n.up)("PageTitle"),u=(0,n.up)("FilterBlock"),h=(0,n.up)("LoadingComponent"),f=(0,n.up)("HeroPanel"),g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[a])),_:1}),(0,n.Wm)(u,{modelValue:l.filters,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters=e),class:"pad-5"},null,8,["modelValue"]),(0,n._)("div",o,[l.isFetching?((0,n.wg)(),(0,n.j4)(h,{key:0,text:"CONNECTING..."})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.sortedList,(e=>((0,n.wg)(),(0,n.j4)(g,{key:e._id,to:"/hero/"+e._id,class:"route-restore pointer col-2 col-lg-4 col-xl-5 col-xxl-6",style:(0,r.j5)({display:c.filtredList[e._id]?"inline-block":"none"})},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{hero:e._id,data:e,style:{width:"100%"}},null,8,["hero","data"])])),_:2},1032,["to","style"])))),128))],512)])}var l=i(8753),c=i(6163),d=i(2784),u=i(6120),h=i(2116),f=i(799),g=i(3570),p={name:"HeroesIndex",components:{LoadingComponent:u.Z,PageTitle:h.Z,HeroPanel:g.Z,FilterBlock:f.Z},inject:["setMeta"],data(){return{cdn:l.cK,isFetching:!0,fetchError:!1,filters:{name:"",role:[],attribute:[],rarity:[],zodiac:[],tags:[],buff:[],debuff:[],common:[],devotion:[],self_devotion:[]},list:{}}},mounted(){this.setMeta({title:"Heroes | CeciliaBot",description:"Character list"}),this.screenResize(),window.addEventListener("resize",this.debounceScreenResize)},beforeUnmount(){window.removeEventListener("resize",this.debounceScreenResize)},watch:{},methods:{screenResize(){const e=this.$el||document.body,t=window.innerWidth,i=e.getBoundingClientRect().width;let n=2;2e3<t?n=6:1400<t?n=5:992<t&&(n=4);var r=i/n,a=Math.floor(.065*r);this.$refs.panels_box.style.fontSize=a+"px"},debounceScreenResize:(0,c.Ds)((function(){this.screenResize()}),400)},computed:{sortedList(){var e=e=>["fire","ice","wind","light","dark"].indexOf(e),t=e=>["warrior","knight","assassin","ranger","mage","manauser"].indexOf(e);const i=Array.isArray(this.list)?this.list.slice():Object.values(this.list);return i.sort(((e,t)=>e.name<t.name?-1:0)).sort(((i,n)=>i.rarity!==n.rarity?i.rarity>n.rarity?-1:1:e(i.attribute)!==e(n.attribute)?e(i.attribute)<e(n.attribute)?-1:1:t(i.role)<t(n.role)?-1:1))},filtredList(){var e={},t=this.filters,i=/[^a-z0-9]/g,n=/[^a-z0-9,]/g,r=t.name.toLowerCase().replace(i,"");for(var a in this.list){var o=this.list[a];e[o._id]=(-1!==o.name.toLowerCase().replace(i,"").indexOf(r)||o.nicknames&&-1!==o.nicknames.join(",").toLowerCase().replace(n,"").indexOf(r))&&["role","attribute","rarity","zodiac"].every((e=>!t[e].length||t[e].includes(o[e])))&&(!t.tags.length||t.tags.every((e=>o.tags.includes(e))))&&["common","buff","debuff"].every((e=>!t[e].length||t[e].every((t=>o[e]&&o[e].includes(t)))))&&["devotion","self_devotion"].every((e=>!t[e].length||t[e].includes(o[e].type)))}return e}},created(){this.isFetching=!0,(0,d.Z)(l.hi+"/getList?list=hero&fields=id,_id,name,rarity,role,attribute,zodiac,devotion,self_devotion,tags,buff,debuff,common,nicknames").then((e=>{this.list=JSON.parse(e)})).catch((e=>{console.error(e),this.fetchError=!0})).then((()=>{this.isFetching=!1}))}},m=i(3744);const v=(0,m.Z)(p,[["render",s]]);var y=v}}]);