"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[1670,2279],{8242:function(){},7673:function(e,t){t.Z={emits:["update:modelValue"],inheritAttrs:!1,props:{modelValue:[String,Number],placeholder:String,label:String,required:Boolean,type:{default:"text"}},data(){return{bindingAttrs:{}}},created(){var e={listeners:{},attrs:{}};for(var t in this.$attrs)/^on/.test(t)?e.listeners[t]=this.$attrs[t]:e.attrs[t]=this.$attrs[t];this.bindingAttrs=e},methods:{focus(){this.$el.querySelector("input").focus()},error(){this.$el.classList.add("error")},checkIfFilled(e){this.required&&(e.target.value?e.target.parentNode.classList.remove("error"):e.target.parentNode.classList.add("error"))}}}},5425:function(e,t,i){i.d(t,{s:function(){return r}});var o=i(6252),l=i(3577);const a=["type","required","value"],s={class:"label"},n=(0,o._)("span",{class:"focus-bg"},null,-1);function r(e,t,i,r,d,c){const u=(0,o.Q2)("ripple-effect");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",(0,o.dG)({class:"input-field"},d.bindingAttrs.attrs),[(0,o._)("input",(0,o.dG)({type:i.type,placeholder:" ",required:i.required,value:i.modelValue},d.bindingAttrs.listeners,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),onBlur:t[1]||(t[1]=(...e)=>c.checkIfFilled&&c.checkIfFilled(...e))}),null,16,a),(0,o._)("label",s,(0,l.zw)(i.placeholder||i.label),1),n],16)),[[u]])}},3479:function(e,t,i){i.d(t,{Z:function(){return V}});var o=i(6252),l=i(9963),a=i(3577);const s={class:"min-icon"},n={class:"min-title"},r={class:"floating-content"},d={class:"window-header"},c={class:"header-buttons"},u=(0,o._)("i",{class:"fas fa-window-minimize"},null,-1),p=[u],m=(0,o._)("i",{class:"fas fa-times"},null,-1),h=[m],f={class:"window-body hide-scrollbar"};function v(e,t,i,u,m,v){return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(),(0,o.j4)(o.lR,{to:m.teleport[1]},[(0,o._)("div",{onClick:t[0]||(t[0]=(...e)=>v.minimizedIconClick&&v.minimizedIconClick(...e)),class:"minimized"},[(0,o._)("div",s,[(0,o.WI)(e.$slots,"icon")]),(0,o._)("div",n,[(0,o.WI)(e.$slots,"title")])])],8,["to"])),((0,o.wg)(),(0,o.j4)(o.lR,{to:m.teleport[0]},[(0,o.wy)((0,o._)("div",(0,o.dG)({ref:"floating-window"},e.$attrs,{class:["floating-window",{"glass-container-2":i.glassWindow,"flat-window":!i.glassWindow,"full-screen":m.isFullScreen}],onFocusin:t[22]||(t[22]=(...e)=>v.onFocus&&v.onFocus(...e)),onBlur:t[23]||(t[23]=(...e)=>v.onBlur&&v.onBlur(...e)),tabindex:"0"}),[(0,o._)("div",r,[(0,o._)("div",d,[(0,o._)("div",{class:"window-title noselect",onMousedown:t[1]||(t[1]=(0,l.iM)(((...e)=>v.moveWindowMouseDown&&v.moveWindowMouseDown(...e)),["prevent"])),onTouchstart:t[2]||(t[2]=(0,l.iM)(((...e)=>v.moveWindowMouseDown&&v.moveWindowMouseDown(...e)),["prevent"]))},[(0,o.WI)(e.$slots,"icon"),(0,o.WI)(e.$slots,"title")],32),(0,o._)("div",c,[(0,o.WI)(e.$slots,"extra-button"),(0,o._)("button",{class:"header-button",onClick:t[3]||(t[3]=(...e)=>v.toggleMinimize&&v.toggleMinimize(...e))},p),(0,o._)("button",{class:"header-button",onClick:t[4]||(t[4]=(...e)=>v.toggleFullScreen&&v.toggleFullScreen(...e))},[(0,o._)("i",{class:(0,a.C_)(["fa",m.isFullScreen?"fa-window-restore":"fa-window-maximize"])},null,2)]),(0,o._)("button",{class:"header-button close",onClick:t[5]||(t[5]=(...e)=>v.close&&v.close(...e))},h)])]),(0,o._)("div",f,[(0,o.WI)(e.$slots,"default")])]),(0,o._)("div",{class:"resizer n",onMousedown:t[6]||(t[6]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[7]||(t[7]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer e",onMousedown:t[8]||(t[8]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[9]||(t[9]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer s",onMousedown:t[10]||(t[10]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[11]||(t[11]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer w",onMousedown:t[12]||(t[12]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[13]||(t[13]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer nw",onMousedown:t[14]||(t[14]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[15]||(t[15]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer sw",onMousedown:t[16]||(t[16]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[17]||(t[17]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer se",onMousedown:t[18]||(t[18]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[19]||(t[19]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32),(0,o._)("div",{class:"resizer ne",onMousedown:t[20]||(t[20]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e)),onTouchstart:t[21]||(t[21]=(...e)=>v.resizeMouseDown&&v.resizeMouseDown(...e))},null,32)],16),[[l.F8,!m.isMinimized]])],8,["to"]))],64)}i(7658);function g(e){var t=e;return!t.clientX&&e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY}}function w(){_.forEach((e=>{e.minimize()}))}function y(){var e=document.getElementById("FloatingWindowsContainer");if(e){var t=document.getElementById("FloatingWindowsIconContainer");return[e,t]}var i=document.createElement("div");i.id="FloatingWindowsContainer",i.style="position: fixed; bottom: 20px; left: 0; z-index: 20;";var o=document.createElement("div");o.tabIndex=-1,o.className="windows-apps-icon",o.style.display="none";var l=document.createElement("div");l.className="minimized",l.innerHTML='<div class="min-icon"><i class="fa fa-th"></i></div>',o.appendChild(l);var a=document.createElement("div");a.id="FloatingWindowsIconContainer",a.className="popup-window-icon-container material-popup";var s=document.createElement("div");return s.className="minimized",s.onclick=w,s.innerHTML='<div class="min-icon"><i class="fa fa-eye-slash"></i></div><div class="min-title">Minimize all</div>',a.appendChild(s),o.appendChild(a),i.appendChild(o),document.body.appendChild(i),[i,a]}var b=y(),_=[],M={emits:["close","minimize","restore","resize"],props:{wid:{required:!0},minheight:{type:Number,required:!1,default:30},minwidth:{type:Number,required:!1,default:130},glassWindow:{type:Boolean,default:!0},openMaximized:{type:Boolean,default:!1},size:{type:Object,required:!1},position:{required:!1}},data(){return{teleport:b,isFullScreen:!1,isMinimized:!1,onMouseMove:[],onMouseUp:[],beforeSnapSize:null}},created(){window.addEventListener("mouseup",this.mouseUp),window.addEventListener("touchend",this.mouseUp),window.addEventListener("touchleave",this.mouseUp),this.openMaximized&&(this.isFullScreen=!0),this.position&&this.position},mounted(){let e=this.$refs["floating-window"],t=this.size&&this.size.width?this.size.width:Math.min(window.innerWidth-30,Math.max(.5*window.innerWidth,900))+"px",i=this.size&&this.size.height?this.size.height:Math.min(window.innerHeight,Math.max(.5*window.innerHeight,500))+"px";var o=t,l=i;("string"===typeof o||o instanceof String)&&(o="%"!==o.slice(-1)?parseFloat(o):parseFloat(o)*window.innerWidth),("string"===typeof l||l instanceof String)&&(l="%"!==l.slice(-1)?parseFloat(l):parseFloat(l)*window.innerHeight);let a=(window.innerWidth-o)/window.innerWidth*100/2+1*_.length+"%",s=(window.innerHeight-l)/window.innerHeight*100/2+1*_.length+"%";e.style.height=i,e.style.width=t;var n=this.position;if(n&&("string"===typeof n||n instanceof String)){var r={};-1!==n.indexOf("top")?r.top="1%":-1!==n.indexOf("bottom")&&(r.bottom="1%"),-1!==n.indexOf("left")?r.left="2%":-1!==n.indexOf("right")&&(r.right="2%"),n=r}n?(n.bottom?e.style.bottom=n.bottom:e.style.top=n.top||s,n.right?e.style.right=n.right:e.style.left=n.left||a):(e.style.top=s,e.style.left=a),_.push(this),b[1].parentNode.style.display="",b[1].parentNode.style.zIndex=_.length+1,e.style.zIndex=_.length},beforeUnmount(){window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("touchend",this.mouseUp),window.removeEventListener("touchleave",this.mouseUp),this.removeEvents(),_.splice(_.indexOf(this),1),_.length||(b[1].parentNode.style.display="none")},watch:{},methods:{resizeMouseDown(e){e.preventDefault(),e.stopPropagation(),this.removeEvents(),this.$refs["floating-window"].focus();var t=e.target.classList[1],i=this.$refs["floating-window"].getBoundingClientRect();e=g(e),this.beforeSnapSize=null,-1!==t.indexOf("n")?this.onMouseMove.push((t=>this.resize(t,i,1,e))):-1!==t.indexOf("s")&&this.onMouseMove.push((e=>this.resize(e,i,1,!1))),-1!==t.indexOf("w")?this.onMouseMove.push((t=>this.resize(t,i,0,e))):-1!==t.indexOf("e")&&this.onMouseMove.push((e=>this.resize(e,i,0,!1))),this.onMouseMove.forEach((e=>{window.addEventListener("mousemove",e),window.addEventListener("touchmove",e)})),this.$refs["floating-window"].style.boxShadow="#008eff 0px 0px 0px 2px",document.body.style.pointerEvents="none",this.onMouseUp.push((()=>{document.body.style.pointerEvents=null,this.$refs["floating-window"].style.boxShadow=null}))},resize(e,t,i,o){var l,a=["width","height"][i],s=["clientX","clientY"][i],n=["left","top"][i];if(e=g(e),o){if(l=t[a]-(e[s]-o[s]),this["min"+a]>=l)return;this.$refs["floating-window"].style[a]=l+"px",this.$refs["floating-window"].style[n]=Math.max(0,t[n]+(e[s]-o[s]))+"px"}else{if(l=e[s]-t[n]+1,this["min"+a]>=l)return;this.$refs["floating-window"].style[a]=l+"px"}},moveWindowMouseDown(e){this.$refs["floating-window"].focus(),e=g(e);var t=this.$refs["floating-window"].getBoundingClientRect(),i=this.beforeSnapSize?-this.beforeSnapSize.width/2:t.left-e.clientX,o=t.top-e.clientY;this.isFullScreen&&(i=-parseInt(this.$refs["floating-window"].style.width)/2),this.onMouseMove.push((e=>this.moveWindow(e,i,o))),this.onMouseMove.forEach((e=>{window.addEventListener("mousemove",e),window.addEventListener("touchmove",e)})),this.onMouseUp.push(this.snapWindow),document.body.style.pointerEvents="none",this.onMouseUp.push((()=>document.body.style.pointerEvents=null))},moveWindow(e,t,i){e=g(e),this.isFullScreen=!1;var o=this.$refs["floating-window"].style;this.beforeSnapSize&&(o.height=this.beforeSnapSize.height+"px",o.width=this.beforeSnapSize.width+"px",this.beforeSnapSize=null),o.top=Math.max(0,Math.min(window.innerHeight-30,e.clientY+i)/window.innerHeight*100)+"%",o.left=Math.max(0,Math.min(window.innerWidth-30,e.clientX+t)/window.innerWidth*100)+"%"},snapWindow(e){var t=this.$refs["floating-window"],i=e.clientX,o=e.clientY,l=!1,a="100%",s="100%",n=0,r=0;if(i<15?(a="50%",r=0,l=!0):i>window.innerWidth-60&&(a="50%",r="50%",l=!0),o<15?(s="50%",n=0,l=!0):o>window.innerHeight-60&&(s="50%",n="50%",l=!0),!0===l){var d=t.getBoundingClientRect();this.beforeSnapSize={height:d.height,width:d.width},t.style.width=a,t.style.height=s,t.style.top=n,t.style.left=r}},applyMouseUpEvents(e){this.onMouseUp.forEach((t=>{t(e)}))},mouseUp(e){this.applyMouseUpEvents(e),this.removeEvents()},removeEvents(){this.onMouseMove.forEach((e=>{window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e)})),this.onMouseMove=[],this.onMouseUp=[]},moveToTheTop(){var e=_.indexOf(this);if(-1!==e){_.splice(e,1),_.push(this);for(var t=e;t<_.length;t++)_[t]&&(_[t].$refs["floating-window"].style.zIndex=t)}},onFocus(){this.moveToTheTop()},onBlur(){},toggleFullScreen(){this.isFullScreen=!this.isFullScreen},toggleMinimize(){this.isMinimized?this.resotreFromMinimized():this.minimize()},minimize(){this.$emit("minimize",this.wid),this.isMinimized=!0},resotreFromMinimized(){this.isMinimized=!1,this.moveToTheTop()},minimizedIconClick(){this.isMinimized?(this.$refs["floating-window"].focus(),this.toggleMinimize()):_.slice(-1)[0]!==this?this.$refs["floating-window"].focus():this.minimize()},outsideSetFocus(){this.$refs["floating-window"].focus(),this.isMinimized=!1},close(){this.$emit("close",this.wid)}}},P=i(3744);const x=(0,P.Z)(M,[["render",v]]);var V=x},2878:function(e,t,i){var o=i(5509),l=i(4553),a=(i(9206),i(3744));const s=(0,a.Z)(l.Z,[["render",o.s]]);t.Z=s},1343:function(e,t,i){i.d(t,{Z:function(){return p}});var o=i(6252),l=i(3577);const a={style:{"border-bottom":"solid 2px #614828"}},s=["onClick"],n={class:"noselect"};function r(e,t,i,r,d,c){return(0,o.wg)(),(0,o.iD)("div",a,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tabs,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:(0,l.C_)(["tab",{active:i.tab===e.id,disabled:e.disabled}]),onClick:t=>c.click(e)},[(0,o._)("span",n,(0,l.zw)(e.name||e.title||e),1)],10,s)))),128))])}var d={name:"E7Tabs",emits:["change"],props:{tabs:{type:Array,default:function(){return[]}},tab:{default:""}},methods:{click(e){e.disabled||this.$emit("change",e)}}},c=i(3744);const u=(0,c.Z)(d,[["render",r]]);var p=u},7755:function(e,t,i){i.d(t,{Z:function(){return v}});var o=i(6252),l=i(3577);const a={key:0,style:{display:"inline-block","min-width":"2em"}},s=["data-src"],n={style:{"margin-left":"5px"}},r={style:{"font-size":"1.4rem","font-weight":"400"}},d=(0,o._)("br",null,null,-1),c={style:{"font-size":"1.2rem","font-weight":"300"}};function u(e,t,i,u,p,m){const h=(0,o.up)("Multiselect",!0),f=(0,o.Q2)("lazyloader");return(0,o.wg)(),(0,o.j4)(h,{class:"multisel",tabindex:"-1",mode:this.mode,trackBy:"name",valueProp:"id",label:"name",placeholder:"",searchable:!0,clearOnBlur:!1,options:i.options,ref:"multiselect"},{option:(0,o.w5)((e=>[e.option.src?((0,o.wg)(),(0,o.iD)("span",a,[(0,o.wy)((0,o._)("img",{"data-src":e.option.src},null,8,s),[[f]])])):(0,o.kq)("",!0),(0,o._)("div",n,[(0,o._)("span",r,(0,l.zw)(e.option.name||e.option.id),1),d,(0,o._)("span",c,(0,l.zw)(e.option.description),1)])])),_:1},8,["mode","options"])}var p=i(5135),m={name:"MultiSelect",components:{Multiselect:p.Z},props:{mode:{type:String,default:"tags"},options:{default:()=>[]}},data(){return{isFocused:!1,focusTimer:null,timer:null,closeOnSelect:!1,openDirection:"bottom"}},mounted(){},watch:{isFocused(e){if(e){this.openDirection="top",this.closeOnSelect=!1,this.$el.style.fontSize="20px",this.$el.style.setProperty("--ms-max-height",window.innerHeight/2+"px"),this.$el.style.position="fixed",this.$el.style.zIndex=10;var{top:t,left:i}=this.$el.getBoundingClientRect();this.$el.style.bottom=window.innerHeight-t+"px",this.$el.style.left=i+"px",this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this.$el.style.bottom=0,this.$el.style.left=0}),100)}else this.$el.style.position="",this.$el.style.bottom="",this.$el.style.left="",this.$el.style.zIndex=""}},methods:{openDropdown(){this.$refs.multiselect.open()},focusSelect(){if(window.innerWidth>700)return this.isFocused=!1;this.focusTimer&&(clearTimeout(this.focusTimer),this.focusTimer=null),this.isFocused=!0},blurSelect(){this.isFocused&&(this.focusTimer=setTimeout((()=>{this.isFocused=!1}),20))}}},h=i(3744);const f=(0,h.Z)(m,[["render",u]]);var v=f},4648:function(e,t,i){i.r(t),i.d(t,{default:function(){return ui}});var o=i(6252),l=i(3577),a=i(9963);const s={class:"flex full-h full-w"},n={ref:"side-nav",class:"editor-navigation flex flex-col noselect",tabindex:"-1"},r={class:"mobile-only-view",stlye:"height: 40px;"},d={class:"nav-bar-group overflow-auto hide-scrollbar"},c={class:"nav-bar-group overflow-auto hide-scrollbar"},u={class:"nav-bar-group overflow-auto hide-scrollbar"},p={class:"main-content-viewer overflow-hidden flex-fill flex flex-col"},m={class:"overflow-auto hide-scrollbar noselect",style:{height:"40px"}},h=(0,o._)("span",null," Menu ",-1),f=(0,o._)("i",{class:"fa fa-angle-right"},null,-1),v=[h,f],g=(0,o._)("i",{class:"fa fa-plus"},null,-1),w=(0,o._)("span",null," New ",-1),y=[g,w],b=(0,o._)("i",{class:"fa fa-trash"},null,-1),_=(0,o._)("span",null," Delete ",-1),M=[b,_],P=(0,o._)("span",null," View JSON ",-1),x=[P],V=(0,o._)("span",null," Preview ",-1),z=[V],C=(0,o._)("i",{class:"fa fa-save"},null,-1),k=(0,o._)("span",null," Save ",-1),S=[C,k],D={class:"tabs-container overflow-auto hide-scrollbar noselect"},L=["onClick"],F={class:"name text-ellipsis"},W=["onClick"],O={class:"flex-fill editor-main-container overflow-auto hide-scrollbar"};function E(e,t,i,h,f,g){const w=(0,o.up)("FileTree"),b=(0,o.up)("FileSearch"),_=(0,o.up)("OpenEditorCompoennt"),P=(0,o.up)("E7Error"),V=(0,o.Q2)("ripple-effect"),C=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",n,[(0,o._)("div",r,[(0,o._)("span",{class:"pointer pad-5",style:{float:"right","font-size":"30px"},onClick:t[0]||(t[0]=(...e)=>g.closeMobileNav&&g.closeMobileNav(...e))},"✖")]),(0,o._)("div",d,[(0,o._)("h2",{class:"pointer",onClick:t[1]||(t[1]=(...e)=>g.toggleCollpaseGroup&&g.toggleCollpaseGroup(...e))}," Open Editors "),(0,o.Wm)(w,{files:f.openFiles,onOpen:g.switchTab},null,8,["files","onOpen"])]),(0,o._)("div",c,[(0,o._)("h2",{class:"pointer",onClick:t[2]||(t[2]=(...e)=>g.toggleCollpaseGroup&&g.toggleCollpaseGroup(...e))}," File List "),(0,o.Wm)(w,{files:g.files,onOpen:g.openFile},null,8,["files","onOpen"])]),(0,o._)("div",u,[(0,o._)("h2",{class:"pointer",onClick:t[3]||(t[3]=(...e)=>g.toggleCollpaseGroup&&g.toggleCollpaseGroup(...e))}," Search "),(0,o.Wm)(b,{files:g.files,onOpen:g.openFile},null,8,["files","onOpen"])])],512),(0,o._)("div",p,[(0,o._)("div",m,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"mobile-only-view material-button basic primary",onClick:t[4]||(t[4]=t=>e.$refs["side-nav"].focus())},v)),[[V]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button basic primary",onClick:t[5]||(t[5]=(...e)=>g.createNewFileButton&&g.createNewFileButton(...e))},y)),[[V]]),f.active?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button basic warn",onClick:t[6]||(t[6]=(...e)=>g.deleteItem&&g.deleteItem(...e))},M)),[[V],[C,"Send a request to the server and delete<br>current document."]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button basic primary",onClick:t[7]||(t[7]=(...e)=>g.previewJSON&&g.previewJSON(...e))},x)),[[V]]),f.active.previewComponent?(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{key:0,class:"material-button flat primary",onClick:t[8]||(t[8]=e=>f.active.viewPreview=!0)},z)),[[V]]):(0,o.kq)("",!0),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button flat primary",onClick:t[9]||(t[9]=(...e)=>g.saveItem&&g.saveItem(...e)),style:{float:"right"}},S)),[[C,"CTRL + S"],[V]])],64)):(0,o.kq)("",!0)]),(0,o._)("div",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.openFiles,(e=>((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["file-open-tab",{active:e.active}]),key:"tab"+e.name,onClick:t=>g.switchTab(e)},[(0,o._)("span",F,(0,l.zw)(e.name),1),(0,o._)("span",{class:"close overflow-hidden relative mat-hover",onClick:(0,a.iM)((t=>g.closeFile(e)),["stop"])},"✖",8,W)],10,L)))),128))]),(0,o._)("div",O,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.openFiles,(e=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(_,{key:"editor"+e.name,dataProp:e},null,8,["dataProp"])),[[a.F8,e.active]]))),128)),f.openFiles.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(P,{key:0},{default:(0,o.w5)((()=>[(0,o.Uk)(" No file selected ")])),_:1}))])])])}i(7658);var I=i(2262),N=i(2784),$=i(8439),U=i(3479),T={emits:["close"],props:{dataProp:{type:Object,default:()=>({})}},computed:{wid(){return Date.now()}},render(){return(0,o.h)(U.Z,{onClose:()=>this.$emit("close"),wid:this.wid},(()=>(0,o.h)(this.dataProp.previewComponent||"div",{hero:this.dataProp.data,artiProp:this.dataProp.data})))}};const Z=T;var A=Z,B={props:{dataProp:{type:Object,default:()=>({component:"div"})}},render(){return(0,o.h)("div",[(0,o.h)(this.dataProp.component||"div",{dataProp:this.dataProp.data}),this.dataProp.viewPreview?(0,o.h)(A,{dataProp:this.dataProp,onClose:()=>this.dataProp.viewPreview=!1}):null])}};const q=B;var G=q,H={props:{files:{type:Array,default:()=>[]},flatten:{type:Boolean,default:!1}},methods:{emitOpenFile(e,t){this.$emit("open",e,t)},recursiveNestedList(){var e=(t,i)=>t.map((t=>t.children?(0,o.h)("li",{},[this.flatten?null:(0,o.h)("span",{class:"caret tree-selectable pointer overflow-hidden text-ellipsis",onClick:this.toggleTree},[t.refresh?(0,o.h)("i",{class:"fa fa-sync pad-5",style:"float: right;",onClick:e=>{e.stopPropagation(),t.refresh()}}):null,t.name]),(0,o.h)("ul",{class:this.flatten?"":"nested"},e(t.children,t.type||i))]):(0,o.h)("li",{class:"tree-selectable pointer overflow-hidden text-ellipsis "+(t.active?"active":""),onClick:()=>this.emitOpenFile(t,i)},t.name)));return(0,o.h)("ul",{},e(this.files,null))},toggleTree(e){e.target.parentElement.querySelector(".nested").classList.toggle("active"),e.target.classList.toggle("caret-down")}},render(){return this.recursiveNestedList()}};const K=H;var R=K,j={props:{files:{type:Array,default:()=>[]}},data(){return{query:""}},computed:{searchResult(){return this.query.trim()?this.recursiveNameFilter(this.files,[],this.query.toLowerCase()):[]}},methods:{emitOpenFile(e,t){this.$emit("open",e,t)},updateQuery(e){this.query=e.target.value},recursiveNameFilter(e,t,i){for(var o in e){let n=e[o];if(n.children){var l=this.recursiveNameFilter(n.children,[],i),a={};for(var s in n)"children"!==s&&(a[s]=n[s]);a.children=l,t.push(a)}else-1!==n.name.toLowerCase().indexOf(i)&&t.push(n)}return t}},render(){return(0,o.h)("div",{},[(0,o.h)("div",{class:"nsearchbar",style:"display: inline-block; display: flex; flex: 1; overflow: hidden; position: relative;"},[(0,o.h)("input",{placeholder:"Search",value:this.query,onInput:this.updateQuery,autocomplete:"off"}),(0,o.h)("div",{class:"go",onClick:e=>{this.query="",e.currentTarget.previousSibling.focus()}},[(0,o.h)("i",{class:"fa "+(this.query.trim()?"fa-times":"fa-search")})])]),(0,o.h)(R,{files:this.searchResult,flatten:!1,onOpen:this.emitOpenFile})])}};const J=j;var X=J;const Y={class:"flex flex-col full-h full-w items-center justify-center"},Q=(0,o._)("div",{style:{"font-size":"3em"}},[(0,o._)("i",{class:"fa fa-exclamation-circle"})],-1);function ee(e,t){return(0,o.wg)(),(0,o.iD)("div",Y,[Q,(0,o._)("div",null,[(0,o.WI)(e.$slots,"default")])])}var te=i(3744);const ie={},oe=(0,te.Z)(ie,[["render",ee]]);var le=oe,ae=i(5849),se=i(5127);function ne(e,t,i,l,s,n){const r=(0,o.up)("Tabs"),d=(0,o.up)("GeneralTab");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r,{tabs:[{id:"general",name:"General"},{id:"skill",name:"Skills"},{id:"sc",name:"Specialty Change"},{id:"ees",name:"Exclusive Equip"},{id:"skin",name:"Skins"},{id:"changelog",name:"Changelog"}],tab:s.currentTab,onChange:t[0]||(t[0]=e=>s.currentTab=e.id)},null,8,["tab"]),(0,o.wy)((0,o.Wm)(d,{dataProp:i.dataProp},null,8,["dataProp"]),[[a.F8,"general"===s.currentTab]])])}var re=i(1343);const de=(0,o._)("h2",null,"General",-1),ce={class:"flex",style:{"flex-wrap":"wrap"}},ue={class:"col-1 col-lg-3"},pe={class:"col-1 col-lg-3"},me={class:"col-1 col-lg-3"},he={class:"flex flex-wrap"},fe={class:"col-1 col-lg-2 pad-5"},ve={class:"col-1 col-lg-4 pad-5"},ge={class:"col-1 col-lg-4 pad-5"},we={class:"flex flex-wrap"},ye={class:"col-2 col-lg-4 pad-5"},be={class:"col-2 col-lg-4 pad-5"},_e={class:"col-2 col-lg-4 pad-5"},Me={class:"col-2 col-lg-4 pad-5"},Pe=(0,o._)("h2",null,"Imprint",-1),xe={class:"flex flex-wrap"},Ve={class:"col-1 col-lg-3 pad-5"},ze={class:"col-1 col-lg-3 pad-5"},Ce={class:"col-1 col-lg-3 pad-5"},ke=(0,o._)("h2",null,"Stats",-1),Se={class:"flex flex-wrap"},De={class:"col-2 col-lg-4"},Le={class:"col-2 col-lg-4"},Fe={class:"col-2 col-lg-4"},We={class:"col-2 col-lg-4"},Oe=(0,o._)("h2",null,"Gacha Get Line",-1),Ee=(0,o._)("h2",null,"One line",-1),Ie=(0,o._)("h2",null,"Story",-1),Ne=(0,o._)("h2",null,"Voice acting",-1),$e={class:"flex",style:{"flex-wrap":"wrap"}},Ue={class:"col-1 col-lg-3"},Te={class:"col-1 col-lg-3"};function Ze(e,t,i,l,s,n){const r=(0,o.up)("MaterialInput"),d=(0,o.up)("Multiselect");return(0,o.wg)(),(0,o.iD)("div",null,[de,(0,o._)("div",ce,[(0,o._)("div",ue,[(0,o.Wm)(r,{modelValue:i.dataProp.name.en,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dataProp.name.en=e),type:"string",placeholder:"Name"},null,8,["modelValue"])]),(0,o._)("div",pe,[(0,o.Wm)(r,{modelValue:i.dataProp._id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dataProp._id=e),type:"string",placeholder:"_id"},null,8,["modelValue"])]),(0,o._)("div",me,[(0,o.Wm)(r,{modelValue:i.dataProp.id,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dataProp.id=e),type:"string",placeholder:"InGame ID"},null,8,["modelValue"])])]),(0,o._)("div",he,[(0,o._)("div",fe,[(0,o.Wm)(d,{modelValue:i.dataProp.tags,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dataProp.tags=e),placeholder:"Tags",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.tags},null,8,["modelValue","options"])]),(0,o.wy)((0,o._)("div",ve,[(0,o.Wm)(r,{modelValue:i.dataProp.collaboration_ip.en,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dataProp.collaboration_ip.en=e),type:"string",placeholder:"Collab IP name",style:{margin:"0","margin-top":"-10px"}},null,8,["modelValue"])],512),[[a.F8,i.dataProp.tags.includes(2)]]),(0,o._)("div",ge,[(0,o.Wm)(d,{modelValue:i.dataProp.sex,"onUpdate:modelValue":t[5]||(t[5]=e=>i.dataProp.sex=e),mode:"single",removable:!1,placeholder:"Gender",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.gender},null,8,["modelValue","options"])])]),(0,o._)("div",we,[(0,o._)("div",ye,[(0,o.Wm)(d,{modelValue:i.dataProp.rarity,"onUpdate:modelValue":t[6]||(t[6]=e=>i.dataProp.rarity=e),mode:"single",placeholder:"Rarity",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.rarity},null,8,["modelValue","options"])]),(0,o._)("div",be,[(0,o.Wm)(d,{modelValue:i.dataProp.attribute,"onUpdate:modelValue":t[7]||(t[7]=e=>i.dataProp.attribute=e),mode:"single",placeholder:"Attribute",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.attribute},null,8,["modelValue","options"])]),(0,o._)("div",_e,[(0,o.Wm)(d,{modelValue:i.dataProp.role,"onUpdate:modelValue":t[8]||(t[8]=e=>i.dataProp.role=e),mode:"single",placeholder:"Role",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.role},null,8,["modelValue","options"])]),(0,o._)("div",Me,[(0,o.Wm)(d,{modelValue:i.dataProp.zodiac,"onUpdate:modelValue":t[9]||(t[9]=e=>i.dataProp.zodiac=e),mode:"single",placeholder:"Zodiac",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.zodiac},null,8,["modelValue","options"])])]),(0,o._)("div",null,[Pe,(0,o._)("div",xe,[(0,o._)("div",Ve,[(0,o.Wm)(d,{modelValue:i.dataProp.self_devotion.type,"onUpdate:modelValue":t[10]||(t[10]=e=>i.dataProp.self_devotion.type=e),modelModifiers:{number:!0},mode:"single",placeholder:"Imprint Concentration",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.stats},null,8,["modelValue","options"])]),(0,o._)("div",ze,[(0,o.Wm)(d,{modelValue:i.dataProp.devotion.type,"onUpdate:modelValue":t[11]||(t[11]=e=>i.dataProp.devotion.type=e),modelModifiers:{number:!0},mode:"single",placeholder:"Imprint Release",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.stats},null,8,["modelValue","options"])]),(0,o._)("div",Ce,[(0,o.Wm)(d,{value:i.dataProp.devotion.slots.join(","),mode:"single",placeholder:"Slots",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.devotionSlots,onChange:n.slotsChange},null,8,["value","options","onChange"])])])]),(0,o._)("div",null,[ke,(0,o._)("div",Se,[(0,o._)("div",De,[(0,o.Wm)(r,{modelValue:i.dataProp.stats.bra,"onUpdate:modelValue":t[12]||(t[12]=e=>i.dataProp.stats.bra=e),modelModifiers:{number:!0},type:"number",placeholder:"bra"},null,8,["modelValue"])]),(0,o._)("div",Le,[(0,o.Wm)(r,{modelValue:i.dataProp.stats.int,"onUpdate:modelValue":t[13]||(t[13]=e=>i.dataProp.stats.int=e),modelModifiers:{number:!0},type:"number",placeholder:"int"},null,8,["modelValue"])]),(0,o._)("div",Fe,[(0,o.Wm)(r,{modelValue:i.dataProp.stats.fai,"onUpdate:modelValue":t[14]||(t[14]=e=>i.dataProp.stats.fai=e),modelModifiers:{number:!0},type:"number",placeholder:"fai"},null,8,["modelValue"])]),(0,o._)("div",We,[(0,o.Wm)(r,{modelValue:i.dataProp.stats.des,"onUpdate:modelValue":t[15]||(t[15]=e=>i.dataProp.stats.des=e),modelModifiers:{number:!0},type:"number",placeholder:"des"},null,8,["modelValue"])])])]),(0,o._)("div",null,[Oe,(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>i.dataProp.get_line.en=e),style:{width:"100%",height:"40px",background:"transparent",color:"inherit"}},null,512),[[a.nr,i.dataProp.get_line.en]])]),Ee,(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.dataProp.description.en=e),style:{width:"100%",height:"40px",background:"transparent",color:"inherit"}},null,512),[[a.nr,i.dataProp.description.en]])]),Ie,(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[18]||(t[18]=e=>i.dataProp.story.en=e),style:{width:"100%",height:"80px",background:"transparent",color:"inherit"}},null,512),[[a.nr,i.dataProp.story.en]])])]),(0,o._)("div",null,[Ne,(0,o._)("div",$e,[(0,o._)("div",Ue,[(0,o.Wm)(r,{modelValue:i.dataProp.voice_acting.en,"onUpdate:modelValue":t[19]||(t[19]=e=>i.dataProp.voice_acting.en=e),type:"string",placeholder:"EN VA"},null,8,["modelValue"])]),(0,o._)("div",Te,[(0,o.Wm)(r,{modelValue:i.dataProp.voice_acting.ja,"onUpdate:modelValue":t[20]||(t[20]=e=>i.dataProp.voice_acting.ja=e),type:"string",placeholder:"JP VA"},null,8,["modelValue"])])])])])}var Ae=i(2878),Be=i(4618),qe=i(7755),Ge=i(8753),He=i(9426);const Ke=["Gacha","Limited","Collab","Connection","Specialty Change","Hall of Trials","Guild","Side Story","Check-in Rewards","Free"].map(((e,t)=>({id:t,name:e}))),Re=[{id:0,name:"Unknown"},{id:1,name:"Male"},{id:2,name:"Female"}],je=[{id:5,name:5},{id:4,name:4},{id:3,name:3}],Je=[{id:"fire",name:"Fire",src:Ge.cK+"/img/cm_icon_promfire.png"},{id:"ice",name:"Ice",src:Ge.cK+"/img/cm_icon_promice.png"},{id:"wind",name:"Grass",src:Ge.cK+"/img/cm_icon_promwind.png"},{id:"light",name:"Light",src:Ge.cK+"/img/cm_icon_promlight.png"},{id:"dark",name:"Dark",src:Ge.cK+"/img/cm_icon_promdark.png"}],Xe=[{id:"common",name:"Common (Artifacts)"},{id:"warrior",name:"Warrior",src:Ge.cK+"/img/cm_icon_role_warrior.png"},{id:"knight",name:"Knight",src:Ge.cK+"/img/cm_icon_role_knight.png"},{id:"assassin",name:"Thief",src:Ge.cK+"/img/cm_icon_role_assassin.png"},{id:"ranger",name:"Ranger",src:Ge.cK+"/img/cm_icon_role_ranger.png"},{id:"mage",name:"Mage",src:Ge.cK+"/img/cm_icon_role_mage.png"},{id:"manauser",name:"Soul-weaver",src:Ge.cK+"/img/cm_icon_role_manauser.png"}],Ye=[{id:"ram",name:"Aries"},{id:"bull",name:"Taurus"},{id:"twins",name:"Gemini"},{id:"crab",name:"Cancer"},{id:"lion",name:"Leo"},{id:"maiden",name:"Virgo"},{id:"scales",name:"Libra"},{id:"scorpion",name:"Scorpio"},{id:"archer",name:"Sagittarius"},{id:"goat",name:"Capricorn"},{id:"waterbearer",name:"Aquarius"},{id:"fish",name:"Pisces"}].map((e=>({id:e.id,name:e.name,src:(0,$.OR)(e.id)}))),Qe=Ge.ot.map((e=>({id:e,name:(0,He.Z)(e)+(-1!==e.indexOf("rate")?" %":""),src:Ge.cK+"/img/cm_icon_stat_"+e.replace("_rate","")+".png"}))),et=[{id:[1,1,1,1],name:"All"},{id:[1,1,0,0],name:"Bottom Right"},{id:[1,0,1,0],name:"Top Right"},{id:[1,0,0,1],name:"Left Right"},{id:[0,1,1,0],name:"Top Bottom"},{id:[0,1,0,1],name:"Bottom Left"},{id:[0,0,1,1],name:"Top Left"}].map((e=>{const t=e.id;var i="";return i=t?t.map(((e,t)=>e?t+1:null)).filter((e=>e)).join("")||"0":0,{src:Ge.cK+"/img/hero_dedi_p_"+i+".png",name:e.name,id:t.join(",")}}));console.log(et);var tt={components:{MaterialInput:Ae.Z,MaterialCheckbox:Be.Z,Multiselect:qe.Z},props:{dataProp:{type:Object,default:()=>({})}},watch:{"dataProp.name.en":function(){this.dataProp._id=(this.dataProp.name.en||"").trim().replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"-").toLowerCase()},"dataProp.tags":function(){this.dataProp.tags.includes(2)||(this.dataProp.collaboration_ip={})}},created(){console.log(this.dataProp)},computed:{multiselectOptions(){return{tags:Ke,gender:Re,rarity:je,role:Xe,attribute:Je,zodiac:Ye,stats:Qe,devotionSlots:et}}},methods:{slotsChange(e){if(!e)return this.dataProp.devotion.slots=[];this.dataProp.devotion.slots=e.split(",").map(Number)}}};const it=(0,te.Z)(tt,[["render",Ze]]);var ot=it,lt={components:{Tabs:re.Z,GeneralTab:ot},props:{dataProp:{type:Object,default:()=>({})}},data(){return{currentTab:"general"}}};const at=(0,te.Z)(lt,[["render",ne]]);var st=at;const nt=(0,o._)("h2",null,"General",-1),rt={class:"flex",style:{"flex-wrap":"wrap"}},dt={class:"col-1 col-lg-4"},ct={class:"col-1 col-lg-4"},ut={class:"col-1 col-lg-4"},pt={class:"col-1 col-lg-4"},mt={class:"flex",style:{"flex-wrap":"wrap"}},ht={class:"col-2 col-lg-4 pad-5"},ft={class:"col-2 col-lg-4 pad-5"},vt={class:"col-2 col-lg-4"},gt={class:"col-1 col-lg-4"},wt={class:"flex",style:{"flex-wrap":"wrap"}},yt={class:"col-1 col-lg-1 pad-5"},bt=(0,o._)("h2",null,"Base Stats",-1),_t={class:"flex",style:{"flex-wrap":"wrap"}},Mt={class:"col-2 col-lg-4"},Pt={class:"col-2 col-lg-4"},xt=(0,o._)("h2",null,"Skill",-1),Vt=(0,o._)("h2",null,"Buff / Debuff",-1),zt={class:"flex",style:{"flex-wrap":"wrap"}},Ct={class:"col-1 col-lg-3 pad-5"},kt={class:"col-1 col-lg-3 pad-5"},St={class:"col-1 col-lg-3 pad-5"},Dt=(0,o._)("h2",null,"Story",-1);function Lt(e,t,i,l,s,n){const r=(0,o.up)("MaterialInput"),d=(0,o.up)("Multiselect"),c=(0,o.up)("MaterialCheckbox"),u=(0,o.up)("SkillValues");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",null,[nt,(0,o._)("div",rt,[(0,o._)("div",dt,[(0,o.Wm)(r,{modelValue:i.dataProp.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dataProp.name=e),type:"string",placeholder:"Name"},null,8,["modelValue"])]),(0,o._)("div",ct,[(0,o.Wm)(r,{modelValue:i.dataProp._id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dataProp._id=e),type:"string",placeholder:"_id"},null,8,["modelValue"])]),(0,o._)("div",ut,[(0,o.Wm)(r,{modelValue:i.dataProp.id,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dataProp.id=e),type:"string",placeholder:"Image ID"},null,8,["modelValue"])]),(0,o._)("div",pt,[(0,o.Wm)(r,{modelValue:i.dataProp.identifier,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dataProp.identifier=e),type:"string",placeholder:"Identifier (Optional)"},null,8,["modelValue"])])])]),(0,o._)("div",null,[(0,o._)("div",mt,[(0,o._)("div",ht,[(0,o.Wm)(d,{modelValue:i.dataProp.rarity,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dataProp.rarity=e),mode:"single",placeholder:"Rarity",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.rarity},null,8,["modelValue","options"])]),(0,o._)("div",ft,[(0,o.Wm)(d,{modelValue:i.dataProp.role,"onUpdate:modelValue":t[5]||(t[5]=e=>i.dataProp.role=e),mode:"single",placeholder:"Role",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.role},null,8,["modelValue","options"])]),(0,o._)("div",vt,[(0,o.Wm)(r,{modelValue:i.dataProp.hero,"onUpdate:modelValue":t[6]||(t[6]=e=>i.dataProp.hero=e),type:"string",placeholder:"Related hero (_id)"},null,8,["modelValue"])]),(0,o._)("div",gt,[(0,o.Wm)(c,{modelValue:i.dataProp.hero_exclusive,"onUpdate:modelValue":t[7]||(t[7]=e=>i.dataProp.hero_exclusive=e),type:"string"},{default:(0,o.w5)((()=>[(0,o.Uk)("Exclusive to hero")])),_:1},8,["modelValue"])])])]),(0,o._)("div",null,[(0,o._)("div",wt,[(0,o._)("div",yt,[(0,o.Wm)(d,{modelValue:i.dataProp.tags,"onUpdate:modelValue":t[8]||(t[8]=e=>i.dataProp.tags=e),placeholder:"Tags",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.multiselectOptions.tags},null,8,["modelValue","options"])])])]),(0,o._)("div",null,[bt,(0,o._)("div",_t,[(0,o._)("div",Mt,[(0,o.Wm)(r,{modelValue:i.dataProp.stats.hp,"onUpdate:modelValue":t[9]||(t[9]=e=>i.dataProp.stats.hp=e),type:"string",placeholder:"HP"},null,8,["modelValue"])]),(0,o._)("div",Pt,[(0,o.Wm)(r,{modelValue:i.dataProp.stats.atk,"onUpdate:modelValue":t[10]||(t[10]=e=>i.dataProp.stats.atk=e),type:"string",placeholder:"ATK"},null,8,["modelValue"])])])]),(0,o._)("div",null,[xt,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[11]||(t[11]=e=>i.dataProp.description=e),style:{width:"50%",height:"80px"}},null,512),[[a.nr,i.dataProp.description]]),(0,o.Wm)(u,{values:i.dataProp.values},null,8,["values"])]),(0,o._)("div",null,[Vt,(0,o._)("div",zt,[(0,o._)("div",Ct,[(0,o.Wm)(d,{modelValue:i.dataProp.buffs,"onUpdate:modelValue":t[12]||(t[12]=e=>i.dataProp.buffs=e),placeholder:"Buffs",style:{"--ms-tag-bg":"var(--font-color-primary)"},options:n.buffList},null,8,["modelValue","options"])]),(0,o._)("div",kt,[(0,o.Wm)(d,{modelValue:i.dataProp.debuffs,"onUpdate:modelValue":t[13]||(t[13]=e=>i.dataProp.debuffs=e),placeholder:"Debuffs",style:{"--ms-tag-bg":"var(--font-color-warn)"},options:n.debuffList},null,8,["modelValue","options"])]),(0,o._)("div",St,[(0,o.Wm)(d,{modelValue:i.dataProp.common,"onUpdate:modelValue":t[14]||(t[14]=e=>i.dataProp.common=e),placeholder:"Common effects",style:{"--ms-tag-bg":"var(--font-color-confirm)"},options:n.commonList},null,8,["modelValue","options"])])])]),(0,o._)("div",null,[Dt,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>i.dataProp.story=e),style:{width:"50%",height:"60px"}},null,512),[[a.nr,i.dataProp.story]])])])}const Ft=["onUpdate:modelValue"],Wt=["onClick"],Ot=(0,o._)("span",null,"Delete variable",-1),Et=[Ot],It=(0,o._)("span",null,"Add new variable",-1),Nt=[It];function $t(e,t,i,l,s,n){return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.values,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o.wy)((0,o._)("input",{class:"input","onUpdate:modelValue":e=>i.values[t]=e},null,8,Ft),[[a.nr,i.values[t]]]),(0,o._)("button",{class:"material-button flat warn",onClick:e=>i.values.splice(t,1)},Et,8,Wt)])))),128)),(0,o._)("div",null,[(0,o._)("button",{class:"material-button flat primary",onClick:t[0]||(t[0]=e=>i.values.push(0))},Nt)])])}var Ut={props:{values:{type:Array,default:()=>[]}}};const Tt=(0,te.Z)(Ut,[["render",$t]]);var Zt=Tt,At={components:{MaterialInput:Ae.Z,MaterialCheckbox:Be.Z,Multiselect:qe.Z,SkillValues:Zt},inject:["buffList","debuffList","commonList"],props:{dataProp:{type:Object,default:()=>({})}},computed:{multiselectOptions(){return{tags:Ke,gender:Re,rarity:je,role:Xe,attribute:Je,zodiac:Ye,stats:Qe,devotionSlots:et}}}};const Bt=(0,te.Z)(At,[["render",Lt]]);var qt=Bt;const Gt=(0,o._)("h2",null,"General",-1),Ht={class:"flex",style:{"flex-wrap":"wrap"}},Kt={class:"col-1 col-lg-4"},Rt={class:"col-1 col-lg-4"},jt={class:"col-1 col-lg-4"},Jt={class:"col-1 col-lg-4"};function Xt(e,t,i,l,s,n){const r=(0,o.up)("MaterialInput");return(0,o.wg)(),(0,o.iD)("div",null,[Gt,(0,o._)("div",Ht,[(0,o._)("div",Kt,[(0,o.Wm)(r,{modelValue:i.dataProp.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dataProp.name=e),type:"string",placeholder:"Name"},null,8,["modelValue"])]),(0,o._)("div",Rt,[(0,o.Wm)(r,{modelValue:i.dataProp._id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dataProp._id=e),type:"string",placeholder:"_id"},null,8,["modelValue"])]),(0,o._)("div",jt,[(0,o.Wm)(r,{modelValue:i.dataProp.id,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dataProp.id=e),type:"string",placeholder:"id"},null,8,["modelValue"])]),(0,o._)("div",Jt,[(0,o.Wm)(r,{modelValue:i.dataProp.src,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dataProp.src=e),type:"string",placeholder:"Image name (if different from id)"},null,8,["modelValue"])])]),(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{class:"full-w","onUpdate:modelValue":t[4]||(t[4]=e=>i.dataProp.description=e)},null,512),[[a.nr,i.dataProp.description]])])])}var Yt={components:{MaterialInput:Ae.Z,MaterialCheckbox:Be.Z,Multiselect:qe.Z},props:{dataProp:{type:Object,default:()=>({})}},computed:{multiselectOptions(){return{tags:Ke,gender:Re,rarity:je,role:Xe,attribute:Je,zodiac:Ye,stats:Qe,devotionSlots:et}}}};const Qt=(0,te.Z)(Yt,[["render",Xt]]);var ei=Qt;function ti(e){return[["id",""],["_id",""],["name",{}],["base_id",null],["specialty_id",null],["rarity",0],["attribute",""],["role",""],["zodiac",""],["sex",0],["release_dt",{}],["tags",[]],["collaboration_ip",{}],["get_line",{}],["story",{}],["description",{}],["voice_acting",{}],["relationships",{}],["camping",{}],["stats",{bra:0,int:0,fai:0,des:0}],["devotion",{type:"",slots:[1,1,1,1]}],["self_devotion",{type:""}],["skills",[]],["ex_equip",[]],["skin",[]],["changelog",[]]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])})),e.skills.forEach((e=>{ii(e)})),e.skin.forEach((e=>{oi(e)})),e.ex_equip.forEach((t=>{li(t,e)})),e}function ii(e){return[["name",{}],["description",{}],["values",[]],["stats",[]],["passive",!1],["can_enhance",!1],["cooldown",0],["soul_gain",1],["buff",[]],["debuff",[]],["common",[]],["enhancements",[]]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])})),e}function oi(e){return[["id",""],["_id",""],["type",""],["release_dt",{}],["name",{}],["description",{}],["obtain",[]]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])})),e}function li(e,t){[["_id","ex"+t.id],["id","ex"+t.id],["name",{}],["description",{}],["release_dt",{}],["unit",t.id],["role",t.role],["rarity",t.rarity],["stats",{type:"",value:0}],["skills",[{},{},{}]]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])})),e.skills.forEach(((e,t)=>{[["_id",t],["skill",1],["description",{}],["skill_description",{}],["cooldown",0],["values",[]],["stats",[]],["buff",[]],["debuff",[]],["common",[]]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])}))}))}function ai(e){return[["_id",""],["id",""],["identifier",""],["name",""],["story",""],["description",""],["values",[]],["role",""],["rarity",5],["stats",{hp:0,atk:0}],["buffs",[]],["debuffs",[]],["common",[]],["hero",""],["hero_exclusive",null],["tags",[]]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])})),e}function si(e){return[["_id",""],["id",0],["icon",""],["name",""],["description",""]].forEach((t=>{e[t[0]]||(e[t[0]]=t[1])})),e}var ni="https://cecilia-bot-api.vercel.app/api/mongo";const ri={hero:(0,I.XI)(st),heroPreview:(0,I.XI)(ae["default"]),artifact:(0,I.XI)(qt),artifactPreview:(0,I.XI)(se["default"]),buff:(0,I.XI)(ei)};var di={components:{OpenEditorCompoennt:G,FileTree:R,FileSearch:X,E7Error:le},provide(){return{EIDTOR_API:ni,buffList:(0,o.Fl)((()=>this.buffList)),debuffList:(0,o.Fl)((()=>this.debuffList)),commonList:(0,o.Fl)((()=>this.commonList))}},data(){return{openFiles:[],active:null,heroList:[],artifactList:[],buffList:[],debuffList:[],commonList:[]}},computed:{files(){return[{name:"Heroes",refresh:this.refreshHeroList,type:"Hero",children:this.heroList},{name:"Artifacts",refresh:this.refreshArtifactList,type:"Artifact",children:this.artifactList},{name:"Buffs",refresh:this.refreshBuffList,type:"Buff",children:this.buffList},{name:"Debuffs",refresh:this.refreshDebuffList,type:"Debuff",children:this.debuffList},{name:"Common",refresh:this.refreshCommonList,type:"Common",children:this.commonList}]}},created(){document.addEventListener("keydown",this.saveFileKeyboard),Promise.all([this.refreshHeroList(),this.refreshArtifactList(),this.refreshBuffList(),this.refreshDebuffList(),this.refreshCommonList()]).catch(console.error)},beforeUnmount(){document.removeEventListener("keydown",this.saveFileKeyboard)},methods:{toggleCollpaseGroup(e){e.target.parentElement.classList.toggle("collapse")},closeMobileNav(){document.activeElement.blur()},previewJSON(){this.$promiseAlert("JSON",JSON.stringify(this.active.data||{},0,4)).then().catch((()=>{}))},saveFileKeyboard(e){if(e.ctrlKey)if(83===e.keyCode){if(e.preventDefault(),!this.active)return;this.saveItem()}else 78===e.keyCode&&(e.preventDefault(),this.createNewFileButton())},async openFile(e,t){this.closeMobileNav();var i=-1;if(this.openFiles.forEach(((t,o)=>e.name===t.name&&t.id===e.id?i=o:null)),-1===i){var o=e.data;if(!e.isNew)try{o=await this.fetchElement(e.id,t)}catch(a){return this.$snackbar.error({description:"Could not load document"}),void await this["refresh"+t+"List"]()}var l={type:t,edited:!1,active:!1,isNew:e.isNew,name:e.name,id:e.id,data:o};switch(t){case"Hero":l.component=ri.hero,l.previewComponent=ri.heroPreview,l.data=ti(o);break;case"Artifact":l.component=ri.artifact,l.previewComponent=ri.artifactPreview,l.data=ai(o);break;case"Buff":case"Debuff":case"Common":l.component=ri.buff,l.data=si(o);break}this.openFiles.push(l),this.switchTab(l)}else this.switchTab(this.openFiles[i])},switchTab(e){this.openFiles.forEach((e=>e.active=!1)),this.active=e,e.active=!0},closeFile(e){const t=this.openFiles.indexOf(e),i=e.active;-1!=t&&this.openFiles.splice(t,1);const o=Math.max(t-1,0);i&&this.openFiles[o]?(this.openFiles[o].active=!0,this.active=this.openFiles[o]):i&&!this.openFiles[o]&&(this.active=null)},createNewFileButton(){const e=["Hero","Artifact","Buff","Debuff","Common","Cancel"];this.$promiseAlert("New","What do you want to create?",e).then((t=>{const i=t[0];if(i!==e.length-1){var o={name:"New "+e[i],id:"item-"+Date.now(),isNew:!0,type:e[i],data:{}};this.openFile(o,e[i])}})).catch(console.error)},async fetchElement(e,t){return JSON.parse(await(0,N.Z)(ni+"/getItem?list="+t.toLowerCase()+"&id="+e))},refreshHeroList(){return new Promise((e=>{(0,N.Z)(ni+"/getList?list=hero").then((t=>{var i=JSON.parse(t).map((e=>({name:e.name?.en||"MISSING NAME",id:e._id})));this.heroList=i,e(i)})).catch((t=>{this.$snackbar.error({title:"error",description:"Could not update hero list"}),console.error(t),e([])}))}))},refreshArtifactList(){return new Promise((e=>{(0,N.Z)(ni+"/getList?list=artifact").then((t=>{var i=JSON.parse(t).map((e=>({name:e.name||"MISSING NAME",id:e._id})));this.artifactList=i,e(i)})).catch((t=>{this.$snackbar.error({title:"error",description:"Could not update artifact list"}),console.error(t),e([])}))}))},refreshBuffList(){return new Promise((e=>{(0,N.Z)(ni+"/getList?list=buff").then((t=>{var i=JSON.parse(t).map((e=>({name:e.name||"MISSING NAME",id:e._id,description:e.description,src:$.cK+(e.icon?e.icon:"/buff/"+e._id+".png")})));this.buffList=i,e(i)})).catch((t=>{this.$snackbar.error({title:"error",description:"Could not update buff list"}),console.error(t),e([])}))}))},refreshDebuffList(){return new Promise((e=>{(0,N.Z)(ni+"/getList?list=debuff").then((t=>{var i=JSON.parse(t).map((e=>({name:e.name||"MISSING NAME",id:e._id,description:e.description,src:$.cK+(e.icon?e.icon:"/buff/"+e._id+".png")})));this.debuffList=i,e(i)})).catch((t=>{this.$snackbar.error({title:"error",description:"Could not update debuff list"}),console.error(t),e([])}))}))},refreshCommonList(){return new Promise((e=>{(0,N.Z)(ni+"/getList?list=common").then((t=>{var i=JSON.parse(t).map((e=>({name:e.name||"MISSING NAME",id:e._id,description:e.description,src:$.cK+(e.icon?e.icon:"/buff/"+e._id+".png")})));this.commonList=i,e(i)})).catch((t=>{this.$snackbar.error({title:"error",description:"Could not update common list"}),console.error(t),e([])}))}))},saveItem(){const e=this.active;if(!e.data._id||!e.data._id.trim())return this.$snackbar.error({title:"Error",description:"_id is required!"});(0,N.Z)(ni+"/save?list="+this.active.type.toLowerCase(),"POST",JSON.stringify({isNew:e.isNew,old:e.original,data:e.data})).then((t=>{this.active.isNew=!1,this.active.name=e.name?.en||e.name,this.active._id=e._id,this.$snackbar.log({title:"OK",description:"MongoDB updated!"})})).catch((e=>{409===e.status?this.$snackbar.error({title:"error",description:"This _id is already in use!"}):this.$snackbar.error({title:"error",description:"MongoDB update failed!"})})).finally((()=>{try{this["refresh"+this.active.type+"List"]()}catch(e){}}))},deleteItem(){this.active&&this.$promiseAlert("Are you sure you want to delete "+this.active.name+"?","This will send a request to the server and permanently delete the current document for all users",[{name:"Delete",class:"material-button basic warn"},{name:"Cancel",class:"material-button basic primary"}]).then((e=>{try{const t=e[0];if(1===t)return;if(this.active.isNew)return this.closeFile(this.active);this.sendDeleteRequest(this.active)}catch(t){console.error(t),this.$snackbar.error({title:"Ooops",description:"Something went wrong"})}}))},sendDeleteRequest(e){const t=e.type.toLowerCase();(0,N.Z)(ni+"/delete?list="+t+"&id="+e.data._id,"POST",JSON.stringify({})).then((()=>{this.closeFile(this.active)})).catch(console.error).finally((()=>{try{this["refresh"+e.cat+"List"]()}catch(t){}}))}}};const ci=(0,te.Z)(di,[["render",E]]);var ui=ci},9206:function(e,t,i){i(8242)},4553:function(e,t,i){i.d(t,{Z:function(){return o.Z}});var o=i(7673)},5509:function(e,t,i){i.d(t,{s:function(){return o.s}});var o=i(5425)}}]);