"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[5070],{2393:function(){},5552:function(e,t){t.Z={emits:["update:modelValue"],inheritAttrs:!1,props:{modelValue:{},value:{},trueValue:{},falseValue:{},checked:Boolean,required:Boolean,color:String},data(){return{bindingAttrs:{}}},computed:{onValue(){return this.normalizeValue(this.value)||this.trueValue},checker(){return null!==this.modelValue&&(Array.isArray(this.modelValue)?this.modelValue.includes(this.value||this.trueValue):this.modelValue===(this.value||this.trueValue||!0))},model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},created(){var e={listeners:{},attrs:{}};for(var t in this.$attrs)/^on/.test(t)?e.listeners[t]=this.$attrs[t]:e.attrs[t]=this.$attrs[t];this.bindingAttrs=e},methods:{focus(){this.$el.querySelector("input").focus()},error(){this.$el.classList.add("error")},normalizeValue(e){return"on"!==e&&e},checkIfFilled(e){this.required&&(e.target.value?e.target.parentNode.classList.remove("error"):e.target.parentNode.classList.add("error"))}}}},3017:function(e,t,r){r.d(t,{s:function(){return n}});var a=r(6252),i=r(9963);const s=["checked","value","true-value","false-value"];function n(e,t,r,n,l,o){return(0,a.wg)(),(0,a.iD)("label",(0,a.dG)({class:"pure-material-checkbox"},l.bindingAttrs.attrs),[(0,a.wy)((0,a._)("input",(0,a.dG)({type:"checkbox",checked:o.checker,"onUpdate:modelValue":t[0]||(t[0]=e=>o.model=e),value:r.value||r.trueValue||!0,"true-value":r.value||r.trueValue||!0,"false-value":r.falseValue},l.bindingAttrs.listeners),null,16,s),[[i.e8,o.model]]),(0,a._)("span",null,[(0,a.WI)(e.$slots,"default")])],16)}},7263:function(e,t,r){r.d(t,{_:function(){return a}});const a=["#fb8383","#fb9d9d","#ffc3a2","#ffd393","#feffa8","#d4f9aa","#d4fb94","#a4fb93","#96f9be","#88fbdf","#a8edfd","#7ccff3","#7294f7","#9e85f7","#996ccf","#e288e5","#f39bb4","#f9b4c8","#fdedf2","#c7c7c7","#ffffff"]},2074:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(6252),i=r(8439),s=r(2229),n={name:"artifact-icon",emits:["click","context"],props:{inview:{type:Boolean,required:!1,default:!0},type:{type:Number,default:0},artifact:{type:String},showrole:{type:Boolean,required:!1,default:!0},showname:{type:Boolean,default:!1},showrarity:{type:Boolean,default:!1},size:{type:Number,default:75},lazyload:{type:Boolean,default:!0}},computed:{artifactData:function(){return this.$store.getters.getArtifact(this.artifact)},image:function(){return 1===this.type?this.$store.getters.getArtifactImage(this.artifactData._id):this.$store.getters.getArtifactIcon(this.artifactData._id)},placeholder:function(){return 0===this.type?"":i.cK+"item_arti/icon_art0000.png"},computedStyle(){return{width:"1em","vertical-align":"top",opacity:this.lazyload?0:1,transition:"opacity .4s ease"}}},render:function(){if(this.artifact)return(0,a.h)("div",{class:"hero-icon-comp noselect",style:{"font-size":this.size+"px"},onClick:e=>-1!=e.target.className.indexOf("remove")?this.$emit("remove",this.artifact,e):this.$emit("click",this.artifact,e),onContextmenu:e=>{e.preventDefault(),this.$emit("context",this.artifact,e)}},[(0,a.h)("div",{style:{position:"relative",width:"1em",height:0===this.type?"1em":"auto","text-align":"start","pointer-events":"none"}},[this.lazyload?(0,a.h)("img",{style:"height: 1em; vertical-align: top; position: absolute; transition: opacity .4s ease;",src:this.placeholder,"data-lazy-fader":!0,crossorigin:"anonymous",SameSite:"Lax"}):null,(0,a.wy)((0,a.h)("img",{key:this.image,[this.lazyload?"data-src":"src"]:this.image,crossorigin:"anonymous",SameSite:"Lax",style:this.computedStyle}),[[s.ZP]]),this.showrole?(0,a.h)("div",{class:"attribute-role",style:{"background-image":"url("+this.$store.getters.getRoleIcon(this.artifactData.role)+")"}}):null,this.showrarity?(0,a.h)("div",{class:"wrapper-hero-info rarity-"+this.artifactData.rarity,style:"top: 0; left: 0"}):null]),this["showname"]?(0,a.h)("div",{"pointer-events":"none",style:{width:this.size+(this.removable?.35*this.size:0)+"px"}},[(0,a.h)("p",{class:"label"},this.$store.getters.getArtifactName(this.artifactData._id))]):null])}};const l=n;var o=l},4618:function(e,t,r){var a=r(3017),i=r(1157),s=(r(7665),r(3744));const n=(0,s.Z)(i.Z,[["render",a.s]]);t.Z=n},1718:function(e,t,r){r.d(t,{Z:function(){return m}});var a=r(6252),i=r(3577);const s={class:"e7-button items-center overflow-hidden pointer relative"},n={key:0,class:"currency-icon noselect",style:{width:"0.5em","pointer-events":"none"}},l=["src"],o={key:1,class:"currency noselect relative pointer",style:{"pointer-events":"none"}},c={class:"e7button-text noselect flex-fill"},u=(0,a._)("span",{class:"light"},null,-1);function d(e,t,r,d,h,f){return(0,a.wg)(),(0,a.iD)("button",s,[r.icon||f.slots.icon?((0,a.wg)(),(0,a.iD)("div",n,[(0,a.WI)(e.$slots,"icon",{},(()=>[(0,a._)("img",{src:r.icon,alt:"icon"},null,8,l)]))])):(0,a.kq)("",!0),r.currency?((0,a.wg)(),(0,a.iD)("div",o,(0,i.zw)(r.currency||"0"),1)):(0,a.kq)("",!0),(0,a._)("div",c,[(0,a.WI)(e.$slots,"default")]),u])}var h={name:"E7Button",props:{currency:{default:""},icon:{type:String,default:""}},computed:{slots(){return(0,a.Rr)()}}},f=r(3744);const p=(0,f.Z)(h,[["render",d]]);var m=p},6415:function(e,t,r){r.d(t,{Z:function(){return h}});var a=r(6252),i=r(3577);const s={style:{"border-bottom":"2px solid #614828"}},n=["onClick"],l={class:"noselect"};function o(e,t,r,o,c,u){return(0,a.wg)(),(0,a.iD)("div",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tabs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:(0,i.C_)(["tab",{active:r.tab===e.id,disabled:e.disabled}]),onClick:t=>u.click(e)},[(0,a._)("span",l,(0,i.zw)(e.name||e.title||e),1)],10,n)))),128))])}var c={name:"E7Tabs",emits:["change"],props:{tabs:{type:Array,default:function(){return[]}},tab:{default:""}},methods:{click(e){e.disabled||this.$emit("change",e)}}},u=r(3744);const d=(0,u.Z)(c,[["render",o]]);var h=d},5070:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var a=r(6252),i=r(3577),s=r(9963);const n=e=>((0,a.dD)("data-v-5d51dd54"),e=e(),(0,a.Cn)(),e),l={class:"text-center",style:{width:"100%"}},o=n((()=>(0,a._)("thead",null,[(0,a._)("th",null,"Year"),(0,a._)("th",null,"New Heroes"),(0,a._)("th",null,"Rerun Heroes"),(0,a._)("th",null,"New Limited"),(0,a._)("th",null,"Rerun Limited")],-1))),c={key:0,ref:"timerline-stats-heroes-by-appearance",id:"html2canvas-timerline-stats-heroes-by-appearance"},u={style:{margin:"auto",width:"100%","max-width":"1080px"},"data-html2canvas-ignore":"true"},d={style:{float:"right"}},h={key:0},f={key:1};function p(e,t,r,n,p,m){const y=(0,a.up)("E7Tabs"),g=(0,a.up)("E7Checkbox"),b=(0,a.up)("E7Button"),v=(0,a.up)("HeroIcon"),w=(0,a.up)("ArtifactIcon"),k=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(y,{tabs:m.selectableTabs,tab:p.tab,onChange:t[0]||(t[0]=e=>p.tab=e.id)},null,8,["tabs","tab"]),(0,a.wy)((0,a._)("table",l,[o,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.data.byYear,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,i.zw)(t),1),(0,a._)("td",null,(0,i.zw)(e.newHeroes),1),(0,a._)("td",null,(0,i.zw)(e.rerunHeroes),1),(0,a._)("td",null,(0,i.zw)(e.newLimited),1),(0,a._)("td",null,(0,i.zw)(e.rerunLimited),1)])))),128))])],512),[[s.F8,"generic"===p.tab]]),"generic"!==p.tab?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",u,[(0,a._)("span",d,[(0,a.Wm)(g,{modelValue:p.hide4Stars,"onUpdate:modelValue":t[1]||(t[1]=e=>p.hide4Stars=e)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Hide 4â˜… Rarity ")])),_:1},8,["modelValue"]),(0,a.Wm)(b,{onClick:m.exportAsImage},{default:(0,a.w5)((()=>[(0,a.Uk)(" Export as Image ")])),_:1},8,["onClick"])])]),"heroes"===p.tab?((0,a.wg)(),(0,a.iD)("table",h,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.heroesFiltred,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e[0]},[(0,a._)("td",{class:"text-center wrap-pre",style:(0,i.j5)({backgroundColor:p.labelColors[t%p.labelColors.length],color:"black"})},(0,i.zw)(e[0]),5),(0,a._)("td",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e[1],(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(v,{key:e,hero:e,hover:!1,size:55},null,8,["hero"])),[[k,()=>m.tooltipHero(e)]]))),128))])])))),128))])])):(0,a.kq)("",!0),"artifacts"===p.tab?((0,a.wg)(),(0,a.iD)("table",f,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.artifactsFiltred,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e[0]},[(0,a._)("td",{class:"text-center wrap-pre",style:(0,i.j5)({backgroundColor:p.labelColors[t%p.labelColors.length],color:"black"})},(0,i.zw)(e[0]),5),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e[1],(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(w,{key:e,artifact:e,hover:!1,size:55},null,8,["artifact"])),[[k,()=>m.tooltipArtifact(e)]]))),128))])))),128))])])):(0,a.kq)("",!0)],512)):(0,a.kq)("",!0)])}r(560);var m=r(9117),y=r(2074),g=r(6415),b=r(4618),v=r(1718),w=r(7263),k=r(2229),A={components:{HeroIcon:m.Z,ArtifactIcon:y.Z,E7Tabs:g.Z,E7Checkbox:b.Z,E7Button:v.Z},props:{data:{type:Object,default:()=>({})},timelineData:{type:Array,default:()=>[]},neverSeenHeroes:{type:Array,default:()=>[]},neverSeenArtifacts:{type:Array,deafult:()=>[]}},data(){return{labelColors:w._,tab:"generic",hide4Stars:!0,neverSeenBeforeHeroes:[],neverSeenBeforeArtifacts:[]}},created(){this.neverSeenBeforeHeroes=this.neverSeenHeroes||[],this.data.byLastAppearance.forEach((e=>{e[1].forEach((e=>{let t=this.neverSeenBeforeHeroes.indexOf(e);-1!=t&&this.neverSeenBeforeHeroes.splice(t,1)}))})),this.neverSeenBeforeArtifacts=this.neverSeenArtifacts||[],this.data.byArtifactLastAppearance.forEach((e=>{e[1].forEach((e=>{let t=this.neverSeenBeforeArtifacts.indexOf(e);-1!=t&&this.neverSeenBeforeArtifacts.splice(t,1)}))}))},computed:{selectableTabs(){var e=[{name:"Generic Stats",id:"generic"}];return this.data.byLastAppearance.length&&e.push({name:"Heroes by appearance",id:"heroes"}),this.data.byArtifactLastAppearance.length&&e.push({name:"Artifacts by appearance",id:"artifacts"}),e},heroesFiltred(){return this.filterArray([...this.data.byLastAppearance,["Never in shop\n(Oldest To Newest)",this.neverSeenBeforeHeroes]],this.$store.getters.getHero)},artifactsFiltred(){return this.filterArray([...this.data.byArtifactLastAppearance,["Never in shop\n(Oldest To Newest)",this.neverSeenBeforeArtifacts]],this.$store.getters.getArtifact)}},methods:{tooltipHero(e){return this.$store.getters.getHeroName(e)},tooltipArtifact(e){return this.$store.getters.getArtifactName(e)},filterArray(e,t){var r=e.slice(),a=r[r.length-1];if(1==this.hide4Stars&&(r=r.map((e=>{var r=e[1].filter((e=>t(e).rarity>4));return!!r.length&&[e[0],r]})).filter((e=>e))),a&&"Upcoming"===a[0]){const e=r.splice(r.length-1,1)[0];r.unshift(e)}return r},exportAsImage(){this.$store.commit("loading",!0),r.e(5734).then(r.t.bind(r,1341,23)).then((async e=>{await(0,k.rF)(this.$refs["timerline-stats-heroes-by-appearance"]);var t={allowTaint:!1,useCORS:!0,imageTimeout:0,backgroundColor:"#252B35",logging:!1,x:0,y:0,scrollX:0,scrollY:0,scale:1.5,width:900,onclone:async e=>{e.getElementById("html2canvas-timerline-stats-heroes-by-appearance").style.width="900px"}};e.default(this.$refs["timerline-stats-heroes-by-appearance"],t).then((e=>{try{this.$gallery([{src:e.toDataURL(),name:"Timerline",description:"Click the download button or right click to save the image!"}])}catch(t){console.error(t)}})).finally((()=>{this.$store.commit("loading",!1)}))})).catch((()=>{this.$snackbar.error({title:"Error: couldn't load export module."}),this.$store.commit("loading",!1)}))}}},_=r(3744);const S=(0,_.Z)(A,[["render",p],["__scopeId","data-v-5d51dd54"]]);var x=S},7665:function(e,t,r){r(2393)},1157:function(e,t,r){r.d(t,{Z:function(){return a.Z}});var a=r(5552)}}]);