(function(){var t={9662:function(t,e,n){"use strict";var r=n(614),i=n(6330),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},9670:function(t,e,n){"use strict";var r=n(111),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},1318:function(t,e,n){"use strict";var r=n(5656),i=n(1400),o=n(6244),u=function(t){return function(e,n,u){var a,l=r(e),c=o(l),s=i(u,c);if(t&&n!=n){while(c>s)if(a=l[s++],a!=a)return!0}else for(;c>s;s++)if((t||s in l)&&l[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},3658:function(t,e,n){"use strict";var r=n(9781),i=n(3157),o=TypeError,u=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!u(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:function(t,e,n){"use strict";var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},9920:function(t,e,n){"use strict";var r=n(2597),i=n(3887),o=n(1236),u=n(3070);t.exports=function(t,e,n){for(var a=i(e),l=u.f,c=o.f,s=0;s<a.length;s++){var f=a[s];r(t,f)||n&&r(n,f)||l(t,f,c(e,f))}}},8880:function(t,e,n){"use strict";var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:function(t,e,n){"use strict";var r=n(614),i=n(3070),o=n(6339),u=n(3072);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(r(n)&&o(n,c,a),a.global)l?t[e]=n:u(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(s){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:function(t,e,n){"use strict";var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9781:function(t,e,n){"use strict";var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){"use strict";var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){"use strict";var r=n(7854),i=n(111),o=r.document,u=i(o)&&i(o.createElement);t.exports=function(t){return u?o.createElement(t):{}}},7207:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},8113:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){"use strict";var r,i,o=n(7854),u=n(8113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,s=c&&c.v8;s&&(r=s.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&u&&(r=u.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){"use strict";var r=n(7854),i=n(1236).f,o=n(8880),u=n(8052),a=n(3072),l=n(9920),c=n(4705);t.exports=function(t,e){var n,s,f,h,p,v,m=t.target,g=t.global,d=t.stat;if(s=g?r:d?r[m]||a(m,{}):(r[m]||{}).prototype,s)for(f in e){if(p=e[f],t.dontCallGetSet?(v=i(s,f),h=v&&v.value):h=s[f],n=c(g?f:m+(d?".":"#")+f,t.forced),!n&&void 0!==h){if(typeof p==typeof h)continue;l(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),u(s,f,p,t)}}},7293:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},4374:function(t,e,n){"use strict";var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){"use strict";var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){"use strict";var r=n(9781),i=n(2597),o=Function.prototype,u=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&u(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1702:function(t,e,n){"use strict";var r=n(4374),i=Function.prototype,o=i.call,u=r&&i.bind.bind(o,o);t.exports=r?u:function(t){return function(){return o.apply(t,arguments)}}},5005:function(t,e,n){"use strict";var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){"use strict";var r=n(9662),i=n(8554);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},7854:function(t,e,n){"use strict";var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,n){"use strict";var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){"use strict";t.exports={}},4664:function(t,e,n){"use strict";var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){"use strict";var r=n(1702),i=n(7293),o=n(4326),u=Object,a=r("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?a(t,""):u(t)}:u},2788:function(t,e,n){"use strict";var r=n(1702),i=n(614),o=n(5465),u=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return u(t)}),t.exports=o.inspectSource},9909:function(t,e,n){"use strict";var r,i,o,u=n(4811),a=n(7854),l=n(111),c=n(8880),s=n(2597),f=n(5465),h=n(6200),p=n(3501),v="Object already initialized",m=a.TypeError,g=a.WeakMap,d=function(t){return o(t)?i(t):r(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}};if(u||f.state){var b=f.state||(f.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(t,e){if(b.has(t))throw m(v);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var x=h("state");p[x]=!0,r=function(t,e){if(s(t,x))throw m(v);return e.facade=t,c(t,x,e),e},i=function(t){return s(t,x)?t[x]:{}},o=function(t){return s(t,x)}}t.exports={set:r,get:i,has:o,enforce:d,getterFor:y}},3157:function(t,e,n){"use strict";var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:function(t,e,n){"use strict";var r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},4705:function(t,e,n){"use strict";var r=n(7293),i=n(614),o=/#|\.prototype\./,u=function(t,e){var n=l[a(t)];return n==s||n!=c&&(i(e)?r(e):!!e)},a=u.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=u.data={},c=u.NATIVE="N",s=u.POLYFILL="P";t.exports=u},8554:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){"use strict";var r=n(614),i=n(4154),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){"use strict";t.exports=!1},2190:function(t,e,n){"use strict";var r=n(5005),i=n(614),o=n(7976),u=n(3307),a=Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},6244:function(t,e,n){"use strict";var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){"use strict";var r=n(1702),i=n(7293),o=n(614),u=n(2597),a=n(9781),l=n(6530).CONFIGURABLE,c=n(2788),s=n(9909),f=s.enforce,h=s.get,p=String,v=Object.defineProperty,m=r("".slice),g=r("".replace),d=r([].join),y=a&&!i((function(){return 8!==v((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===m(p(e),0,7)&&(e="["+g(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!u(t,"name")||l&&t.name!==e)&&(a?v(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&u(n,"arity")&&t.length!==n.arity&&v(t,"length",{value:n.arity});try{n&&u(n,"constructor")&&n.constructor?a&&v(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=f(t);return u(r,"source")||(r.source=d(b,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return o(this)&&h(this).source||c(this)}),"toString")},4758:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},3070:function(t,e,n){"use strict";var r=n(9781),i=n(4664),o=n(3353),u=n(9670),a=n(4948),l=TypeError,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",p="writable";e.f=r?o?function(t,e,n){if(u(t),e=a(e),u(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=s(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(u(t),e=a(e),u(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){"use strict";var r=n(9781),i=n(6916),o=n(5296),u=n(9114),a=n(5656),l=n(4948),c=n(2597),s=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=l(e),s)try{return f(t,e)}catch(n){}if(c(t,e))return u(!i(o.f,t,e),t[e])}},8006:function(t,e,n){"use strict";var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},7976:function(t,e,n){"use strict";var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){"use strict";var r=n(1702),i=n(2597),o=n(5656),u=n(1318).indexOf,a=n(3501),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,s=[];for(n in r)!i(a,n)&&i(r,n)&&l(s,n);while(e.length>c)i(r,n=e[c++])&&(~u(s,n)||l(s,n));return s}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2140:function(t,e,n){"use strict";var r=n(6916),i=n(614),o=n(111),u=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw u("Can't convert object to primitive value")}},3887:function(t,e,n){"use strict";var r=n(5005),i=n(1702),o=n(8006),u=n(5181),a=n(9670),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=u.f;return n?l(e,n(t)):e}},4488:function(t,e,n){"use strict";var r=n(8554),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},6200:function(t,e,n){"use strict";var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){"use strict";var r=n(7854),i=n(3072),o="__core-js_shared__",u=r[o]||i(o,{});t.exports=u},2309:function(t,e,n){"use strict";var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,n){"use strict";var r=n(7392),i=n(7293),o=n(7854),u=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!u(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:function(t,e,n){"use strict";var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){"use strict";var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t,e,n){"use strict";var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){"use strict";var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){"use strict";var r=n(4488),i=Object;t.exports=function(t){return i(r(t))}},7593:function(t,e,n){"use strict";var r=n(6916),i=n(111),o=n(2190),u=n(8173),a=n(2140),l=n(5112),c=TypeError,s=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=u(t,s);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:function(t,e,n){"use strict";var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},6330:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){"use strict";var r=n(1702),i=0,o=Math.random(),u=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++i+o,36)}},3307:function(t,e,n){"use strict";var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){"use strict";var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(t,e,n){"use strict";var r=n(7854),i=n(614),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},5112:function(t,e,n){"use strict";var r=n(7854),i=n(2309),o=n(2597),u=n(9711),a=n(6293),l=n(3307),c=r.Symbol,s=i("wks"),f=l?c["for"]||c:c&&c.withoutSetter||u;t.exports=function(t){return o(s,t)||(s[t]=a&&o(c,t)?c[t]:f("Symbol."+t)),s[t]}},7658:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),u=n(3658),a=n(7207),l=n(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=c||!s();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=i(this),n=o(e),r=arguments.length;a(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return u(e,n),n}})},8924:function(t,e){var n,r,i;(function(o,u){r=[],n=u,i="function"===typeof n?n.apply(e,r):n,void 0===i||(t.exports=i)})(0,(function(){"use strict";var t="0.5.5",e=function(t,e){if(e%1!==0)throw new RangeError;var n=1;while(e--)n*=t--;return n},n=function(t,n){return n>t?0:e(t,n)/e(n,n)},r=function(t){return e(t,t)},i=function(t,e){var n=1;if(e)n=r(e);else{for(e=1;n<t;n*=++e);n>t&&(n/=e--)}for(var i=[0];e;n/=e--)i[e]=Math.floor(t/n),t%=n;return i},o=function(t,e){Object.keys(e).forEach((function(n){Object.defineProperty(t,n,{value:e[n],configurable:"next"==n})}))},u=function(t,e){Object.defineProperty(t,e,{writable:!0})},a=function(t){var e,n=[];this.init();while(e=this.next())n.push(t?t(e):e);return this.init(),n},l={toArray:a,map:a,forEach:function(t){var e;this.init();while(e=this.next())t(e);this.init()},filter:function(t){var e,n=[];this.init();while(e=this.next())t(e)&&n.push(e);return this.init(),n},find:function(t){var e,n;this.init();while(e=this.next())if(t(e)){n=e;break}return this.init(),n},reduce:function(t,e){this.init();var n=0;arguments.length<2&&(e=this.next(),n+=1);var r=this.length;while(n<r)e=t(e,this.next(),n,this),n+=1;return e},lazyMap:function(t){return this._lazyMap=t,this},lazyFilter:function(t){if(Object.defineProperty(this,"next",{writable:!0}),"function"!==typeof t)this.next=this._next;else{"function"!==typeof this._next&&(this._next=this.next);var e=this._next.bind(this);this.next=function(){var n;while(n=e())if(t(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},c=function(t,e){var n=1<<t.length,r=function(){return n},i=Object.create(t.slice(),{length:{get:r}});return u(i,"index"),o(i,{valueOf:r,init:function(){i.index=0},nth:function(t){if(!(t>=n)){for(var e=0,r=[];t;t>>>=1,e++)1&t&&r.push(this[e]);return"function"===typeof i._lazyMap?i._lazyMap(r):r}},next:function(){return this.nth(this.index++)}}),o(i,l),i.init(),"function"===typeof e?i.map(e):i},s=function(t){var e=t&-t,n=t+e,r=n&-n,i=(r/e>>1)-1;return n|i},f=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var i=(1<<e)-1,a=n(t.length,e),c=1<<t.length,f=function(){return a},h=Object.create(t.slice(),{length:{get:f}});return u(h,"index"),o(h,{valueOf:f,init:function(){this.index=i},next:function(){if(!(this.index>=c)){for(var t=0,e=this.index,n=[];e;e>>>=1,t++)1&e&&(n[n.length]=this[t]);return this.index=s(this.index),"function"===typeof h._lazyMap?h._lazyMap(n):n}}}),o(h,l),h.init(),"function"===typeof r?h.map(r):h},h=function(t,e){var n=t,r=e,i=0;for(i=n.length-1;i>=0;i--){if(1!=n[i])break;r--}if(0==r){n[n.length]=1;for(var o=n.length-2;o>=0;o--)n[o]=o<e-1?1:0}else{var u=-1,a=-1;for(i=0;i<n.length;i++)if(0==n[i]&&-1!=u&&(a=i),1==n[i]&&(u=i),-1!=a&&-1!=u){n[a]=1,n[u]=0;break}r=e;for(i=n.length-1;i>=u;i--)1==n[i]&&r--;for(i=0;i<u;i++)n[i]=i<r?1:0}return n},p=function(t){for(var e=[],n=0;n<t;n++)e[n]=1;return e[0]=1,e},v=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var i=p(e),a=n(t.length,e),c=t.length,s=function(){return a},f=Object.create(t.slice(),{length:{get:s}});return u(f,"index"),o(f,{valueOf:s,init:function(){this.index=i.concat()},next:function(){if(!(this.index.length>c)){for(var t=0,n=this.index,r=[],i=0;i<n.length;i++,t++)n[i]&&(r[r.length]=this[t]);return h(this.index,e),"function"===typeof f._lazyMap?f._lazyMap(r):r}}}),o(f,l),f.init(),"function"===typeof r?f.map(r):f},m=function(t){var e=t.slice(),n=r(e.length);return e.index=0,e.next=function(){if(!(this.index>=n)){for(var t=this.slice(),r=i(this.index,this.length),o=[],u=this.length-1;u>=0;--u)o.push(t.splice(r[u],1)[0]);return this.index++,"function"===typeof e._lazyMap?e._lazyMap(o):o}},e},g=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var i=e(t.length,n),a=function(){return i},c=Object.create(t.slice(),{length:{get:a}});return u(c,"cmb"),u(c,"per"),o(c,{valueOf:function(){return i},init:function(){t.length<31?this.cmb=f(t,n):this.cmb=v(t,n),this.per=m(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var e=this.cmb.next();if(!e)return;return this.per=m(e),this.next()}return"function"===typeof c._lazyMap?c._lazyMap(t):t}}),o(c,l),c.init(),"function"===typeof r?c.map(r):c},d=function(t){for(var n=0,r=1;r<=t;r++){var i=e(t,r);n+=i}return n},y=function(t,e){var n=d(t.length),r=function(){return n},i=Object.create(t.slice(),{length:{get:r}});return u(i,"cmb"),u(i,"per"),u(i,"nelem"),o(i,{valueOf:function(){return n},init:function(){this.nelem=1,this.cmb=f(t,this.nelem),this.per=m(this.cmb.next())},next:function(){var e=this.per.next();if(!e){var n=this.cmb.next();if(!n){if(this.nelem++,this.nelem>t.length)return;if(this.cmb=f(t,this.nelem),n=this.cmb.next(),!n)return}return this.per=m(n),this.next()}return"function"===typeof i._lazyMap?i._lazyMap(e):e}}),o(i,l),i.init(),"function"===typeof e?i.map(e):i},b=Array.prototype.slice,x=function(){if(!arguments.length)throw new RangeError;var t=b.call(arguments),e=t.reduce((function(t,e){return t*e.length}),1),n=function(){return e},r=t.length,i=Object.create(t,{length:{get:n}});if(!e)throw new RangeError;return u(i,"index"),o(i,{valueOf:n,dim:r,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],e=0;e<r;e++){var n=arguments[e];if(n>=this[e].length)return;t.push(this[e][n])}return"function"===typeof i._lazyMap?i._lazyMap(t):t}},nth:function(t){for(var e=[],n=0;n<r;n++){var o=this[n].length,u=t%o;e.push(this[n][u]),t-=u,t/=o}return"function"===typeof i._lazyMap?i._lazyMap(e):e},next:function(){if(!(this.index>=e)){var t=this.nth(this.index);return this.index++,t}}}),o(i,l),i.init(),i},_=function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;var r=t.length,i=Math.pow(r,e),a=function(){return i},c=Object.create(t.slice(),{length:{get:a}});return u(c,"index"),o(c,{valueOf:a,init:function(){c.index=0},nth:function(n){if(!(n>=i)){for(var o=[],u=0;u<e;u++){var a=n%r;o.push(t[a]),n-=a,n/=r}return"function"===typeof c._lazyMap?c._lazyMap(o):o}},next:function(){return this.nth(this.index++)}}),o(c,l),c.init(),"function"===typeof n?c.map(n):c},w=Object.create(null);return o(w,{C:n,P:e,factorial:r,factoradic:i,cartesianProduct:x,combination:f,bigCombination:v,permutation:g,permutationCombination:y,power:c,baseN:_,VERSION:t}),w}))}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}!function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}();!function(){"use strict";n(7658);function t(t,e){return e.every((e=>t.includes(e)))}function e(t,e){return t.some(((n,i)=>-1!=t.indexOf(n,i+1)||r(t,i,e)))}function r(t,e,n){var r=n[t[e]];return!(!r||!r.linked_hero)&&(Array.isArray(r.linked_hero)||(r.linked_hero=[r.linked_hero]),r.linked_hero.some((e=>-1!=t.indexOf(e))))}function i(t,e){return t.some(((n,i)=>r(t,i,e)))}function o(t,e){if(e.length>0)for(var n=0;n<e.length;n++){if(-100===e[n].morale)break;if(e[n].team.every((e=>t.includes(e))))return n}return-1}function u(t){var e=l(t.role||{}),n=l(t.attribute||{});return!!(e[0]>0||e[0]!==e[1]||n[0]>0||n[0]!==n[1]||t.debuffs&&t.debuffs.length>0||t.buffs&&t.buffs.length>0||!0===t.aoe||!0===t.noS1debuffs||!0===t.noDebuffs||t.includeDispel||t.includeCleanser||a(t))}function a(t){return t.cartesianLock||(t.cartesianLock=[[],[],[],[]]),t.cartesianLock&&t.cartesianLock.flat().length>0}function l(t){var e=0,n=0;for(var r in t)e+=Math.max(0,t[r]),n+=t[r];return[e,n]}function c(t,e,n,r){for(var i={},o=0;o<t.length;o++){var u=n[t[o]][r];i[u]||(i[u]=0),i[u]++}for(var a in e){var l=i[a]||0;if(e[a]<0&&l>0||e[a]>0&&l<e[a])return!1}return!0}function s(t){return t.common&&t.common.includes("aoe")}function f(t){return t.common&&t.common.includes("cleanse")}function h(t){return t.common&&t.common.includes("dispel")}var p=n(8924);function v(t,e=[],n={},r){for(var i=[],o=0;o<t.length;o++){var u=t[o];if(r[u].camping.topics&&(!n.muteLockedHeroes||!e.includes(u)))for(var a=0;a<r[u].camping.topics.length;a++){for(var l={hero:u,topic:r[u].camping.topics[a],morale:0},c=0;c<t.length;c++)o!==c&&(l.morale+=r[t[c]].camping.values[l.topic]);i.push(l)}}if(0===i.length)return null;i.sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1}));while(i[0].topic===i[1].topic)i.splice(1,1);return{morale:i[0].morale+i[1].morale,team:t,topics:[i[0].topic,i[1].topic],holder:[i[0].hero,i[1].hero],moraleChanges:[i[0].morale,i[1].morale]}}function m(t,n){for(var r=[[]],i=0;i<t.length;i++){for(var o=t[i],u=[],a=0;a<r.length;a++)for(var l=0;l<o.length;l++)e(r[a].concat(o[l]),n)||u.push(r[a].concat(o[l]));r=u}return r}function g(t,n,r,i,o){var u=[{morale:-100,team:[]}],g=[],d=[[]],y=l(r.role||{}),b=y[0]>0||y[0]!==y[1],x=l(r.attribute||{}),_=x[0]>0||x[0]!==x[1];n.forEach((e=>{var n=t.indexOf(e);-1!==n&&t.splice(n,1)}));var w=a(r);if(w){g=r.cartesianLock;for(var O=0;O<g.length;O++)g[O].length||(g.splice(O,1),O--);for(var j=g.flat(),M=0;M<t.length;M++)j.includes(t[M])&&(t.splice(M,1),M--);if(g.length+n.length<4&&t.length<4-(g.length+n.length))throw"not_enough_heroes";d=m(g,i)}var S=r.lockedMatter?0:y[0],k=r.lockedMatter?0:x[0];if(g.length+n.length+S>4||g.length+n.length+k>4)throw"team_size_exceeded";t.length||(t=["ras"]);var E=0,P=-1,z=p.bigCombination(t,4-n.length-d[0].length||1).length*d.length;if(d.forEach((a=>{let l=4-n.length-a.length;p.bigCombination(t,l>0?l:Math.max(1,t.length)).forEach((t=>{E++;const l=Math.round(100*E/z);P!==l&&(P=l,o(l)),a.length+n.length>3&&(t=[]);var p=t.concat(a,n);let m=r.lockedMatter?p:t.concat(a);if(e(p,i))return;if(!n.every((t=>p.includes(t))))return;if(b&&!c(m,r.role,i,"role"))return;if(_&&!c(m,r.attribute,i,"attribute"))return;if(r.buffs&&r.buffs.length>0&&!r.buffs.every((t=>m.map((function(t){return i[t].buffs})).flat().includes(t))))return;if(r.debuffs&&r.debuffs.length>0&&!r.debuffs.every((t=>m.map((function(t){return i[t].debuffs})).flat().includes(t))))return;if(r.noS1debuffs&&0!=m.map((function(t){return i[t].skills[0].debuff})).flat().filter((function(t){return 20!=t&&25!=t&&21!=t&&24!=t})).length)return;if(r.noDebuffs&&0!=m.map((function(t){return i[t].debuffs})).flat().filter((function(t){return 20!=t&&25!=t&&21!=t&&24!=t})).length)return;if(r.aoe&&!m.some((t=>s(i[t]))))return;if(r.includeDispel&&!m.some((t=>h(i[t]))))return;if(r.includeCleanser&&!m.some((t=>f(i[t]))))return;let g=v(p,n,r,i);if(g&&!(u.length&&u[u.length-1].morale>=g.morale))for(var d=0;d<u.length;d++)if(g.morale>=u[d].morale){u.splice(d,0,g),u.splice(200,1);break}}))})),!u[u.length-1].team.length)for(var C=0;C<u.length;C++)if(!u[C].team.length){u.splice(C);break}return u}var d=JSON.parse('{"F":[{"name":"Criticism","values":[-1,-2,-2,3,5,5,2,-5,3,-1,3,3,2,-3,null,2,null,null,3,-3,-2,3,0,-2,0,2,0,3,2,1,2]},{"name":"Reality Check","values":[-3,0,-2,3,-3,3,2,-3,-3,1,3,0,2,-3,null,-2,null,null,2,0,-2,3,0,-2,-3,1,0,0,2,-1,-3]},{"name":"Heroic Tale","values":[1,0,2,3,5,-3,0,3,1,3,-1,0,0,-3,null,3,null,null,-3,0,3,-2,1,2,0,2,3,2,0,0,-1]},{"name":"Comforting Cheer","values":[3,3,2,5,3,0,1,3,-3,3,0,0,2,3,null,3,null,null,3,3,0,5,0,2,-1,5,3,-2,-2,1,3]},{"name":"Cute Cheer","values":[3,3,2,5,4,0,1,1,1,1,1,1,1,3,null,2,null,null,0,0,3,-3,1,2,1,2,3,2,0,2,2]},{"name":"Heroic Cheer","values":[3,0,2,3,-3,1,1,3,0,5,2,0,2,2,null,3,null,null,-3,2,3,-1,0,2,1,2,3,3,0,1,-3]},{"name":"Sad Memory","values":[0,3,2,0,0,-3,0,3,3,3,0,0,1,5,null,1,null,null,4,4,1,-2,0,2,-3,3,-2,-1,0,1,3]},{"name":"Joyful Memory","values":[2,2,2,0,0,0,0,3,3,2,0,2,3,3,null,2,null,null,0,2,4,1,1,2,0,3,3,1,1,1,3]},{"name":"Happy Memories","values":[2,2,2,0,2,0,0,3,0,2,0,0,2,3,null,1,null,null,-2,2,2,1,0,2,-1,-3,2,1,0,1,2]},{"name":"Unique Comment","values":[0,1,0,2,0,-1,-3,2,3,0,0,0,0,0,null,1,null,null,5,2,3,-1,1,0,3,0,0,1,3,2,1]},{"name":"Self-Indulgent","values":[-3,-3,2,0,-3,1,5,-1,1,-2,-1,-2,0,-2,null,2,null,null,1,0,1,-2,0,2,-1,-3,2,2,0,1,-2]},{"name":"Occult","values":[0,0,-1,-3,3,-3,3,0,3,-2,-1,0,0,-1,null,-2,null,null,3,-3,1,4,0,-1,1,0,1,2,0,1,2]},{"name":"Myth","values":[1,0,2,2,5,3,5,3,0,1,-1,0,0,1,null,0,null,null,-3,3,1,-3,0,2,0,0,1,4,0,1,-3]},{"name":"Bizarre Story","values":[2,0,-1,-3,-3,-3,0,-2,-2,-1,-2,0,-2,-1,null,-2,null,null,5,-2,1,3,0,-1,5,0,2,0,0,2,-2]},{"name":"Food Story","values":[0,0,4,0,3,0,0,2,0,2,0,0,1,0,null,3,null,null,-3,1,3,-2,4,4,0,3,1,2,0,1,2]},{"name":"Horror Story","values":[-1,-2,-5,-3,-2,0,-5,2,0,0,2,3,0,-2,null,-3,null,null,5,0,1,-2,-2,-5,3,-1,3,0,0,1,-2]},{"name":"Gossip","values":[3,1,1,1,-1,3,2,-2,-3,-3,1,3,-2,1,null,0,null,null,-3,-1,1,-3,0,1,0,-3,2,0,0,1,1]},{"name":"Dream","values":[1,2,2,2,0,2,0,2,2,1,-3,0,2,3,null,2,null,null,2,2,2,0,0,2,2,3,2,3,0,4,0]},{"name":"Advice","values":[3,1,1,2,3,3,1,2,-2,2,2,0,2,5,null,3,null,null,3,2,0,0,0,1,2,2,2,-2,0,1,2]},{"name":"Complain","values":[-3,-1,1,-2,-2,2,1,-3,-3,-1,0,3,2,1,null,2,null,null,-5,2,1,-2,0,1,-5,-5,0,-2,0,1,2]},{"name":"Belief","values":[3,0,0,4,-3,-1,0,-1,5,-3,2,3,1,-3,0,3,0,0,3,3,2,-3,0,1,3,1,1,3,0,-1,-3]},{"name":"Interesting Story","values":[2,1,1,1,-1,1,2,1,1,0,-1,0,1,1,null,3,null,null,1,0,2,1,1,1,0,1,2,1,1,5,3]}]}'),y=n(8924),b=null;function x(t){if(b)return b;b={};var e=y.combination(d.F.map((t=>t.name)),2).toArray();for(var n in t){var r=t[n].camping;if(r)for(var i=0;i<e.length;i++){var o=e[i];b[o.join("_")]||(b[o.join("_")]={topics:e[i]},b[o.join("_")]["heroes"]=[],b[o.join("_")][o[0]]=[],b[o.join("_")][o[1]]=[]),r.topics.includes(o[0])&&b[o.join("_")][o[0]].push({_id:t[n]._id,morale:r.values[o[1]]}),r.topics.includes(o[1])&&b[o.join("_")][o[1]].push({_id:t[n]._id,morale:r.values[o[0]]}),b[o.join("_")]["heroes"].push({_id:t[n]._id,morale:r.values[o[0]]+r.values[o[1]]}),b[o.join("_")]["heroes"].sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1})),b[o.join("_")][o[0]].sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1})),b[o.join("_")][o[1]].sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1}))}}return b}function _(t,e){for(var n in b){var r=b[n];for(var i in r)if("topics"!==i)for(var o=0;o<r[i].length;o++)t.includes(r[i][o]._id)?(r[i][o].roster=!0,e.includes(r[i][o]._id)&&(r[i][o].locked=!0)):(r[i][o].roster=!1,r[i][o].locked=!1)}}function w(e,n,r,u){var a=400,l=new Array(a).fill({morale:-100,team:[]});for(var c in x(u),_(e,n),b)for(var s=b[c],f=s.topics,h=0;h<s[f[0]].length;h++)if(!(!s[f[0]][h].roster||r.muteLockedHeroes&&s[f[0]][h].locked))for(var p=s[f[0]][h].morale,v=s[f[0]][h]._id,m=0;m<s[f[1]].length;m++){var g=s[f[1]][m],d=g.morale,y=g._id;if(!(!g.roster||r.muteLockedHeroes&&g.locked))if(v===y){for(var w=0;w<s.heroes.length;w++)if(y=s.heroes[w],y.roster&&y._id!==v)for(var O=w+1;O<s.heroes.length;O++){var j=!0,M=s.heroes[O];if(M.roster&&M._id!=v){for(var S=O+1;S<s.heroes.length;S++){var k=s.heroes[S];if(k.roster&&k._id!=v){var E=0+y.morale+M.morale+k.morale;if(l[l.length-1].morale>E||!0===r.minMorale&&r.morale>E){S==O+1&&(j=!1);break}var P=[v,y._id,M._id,k._id];if(!i(P,u)&&t(P,n))for(var z=0;z<l.length;z++)if(E>=l[z].morale){var C=o(P,l);-1===C?(l.splice(z,0,{_type:"morale",morale:E,team:P,topics:f,holder:[v,v]}),l.splice(a,1)):C>=z&&(l.splice(C,1),l.splice(z,0,{_type:"morale",morale:E,team:P,topics:f,holder:[v,v]}));break}}}if(!j)break}}}else for(w=0;w<s.heroes.length;w++){let e=!0;M=s.heroes[w];if(M.roster&&M._id!=v&&M._id!=y){for(O=w+1;O<s.heroes.length;O++){k=s.heroes[O];if(k.roster&&k._id!=v&&k._id!=y){E=p+d+M.morale+k.morale;if(l[l.length-1].morale>E||!0===r.minMorale&&r.morale>E){O==w+1&&(e=!1);break}P=[v,y,M._id,k._id];if(!i(P,u)&&t(P,n))for(z=0;z<l.length;z++)if(E>=l[z].morale){C=o(P,l);-1===C?(l.splice(z,0,{_type:"morale",morale:E,team:P,topics:f,holder:[v,y]}),l.splice(a,1)):C>=z&&(l.splice(C,1),l.splice(z,0,{_type:"morale",morale:E,team:P,topics:f,holder:[v,y]}));break}}}if(!e)break}}}for(h=0;h<l.length;h++){if(l[h].team.length<3){l.splice(h);break}l[h].team.sort((function(t){return n.includes(t)?1:-1}))}return l}function O(t,e,n){for(var r in e)t.includes(e[r])||t.push(e[r]);var o=new Array(200).fill({morale:-100,team:[]}),u=x(n);for(var a in _(t,e),u){for(var l=u[a],c=null,s=0;s<e.length;s++)for(var f=0;f<u[a].heroes.length;f++)if(l.heroes[f]._id==e[s]&&l.heroes[f].morale>o[o.length-1].morale){c=f;break}if(c)for(f=0;f<l[a.split("_")[0]].length;f++)if(l[a.split("_")[0]][f].roster)for(var h=l[a.split("_")[0]][f].morale,p=l[a.split("_")[0]][f]._id,v=0;v<l[a.split("_")[1]].length;v++){var m=l[a.split("_")[1]][v].morale,g=l[a.split("_")[1]][v]._id;if(l[a.split("_")[1]][v].roster){var d=0;d=e.includes(p)||e.includes(g)?e.includes(p)?e.includes(g)?0:h:e.includes(g)?m:0:l.heroes[c].morale;for(var y=0;y<o.length;y++)if(d>=o[y].morale){var b=p!==g?[p,g]:[p];if(e.forEach((t=>{!b.includes(t)&&b.push(t)})),d===o[y].morale&&b.length>o[y].team.length)continue;if(i(b,n))break;for(var w=-1,O=0;O<o.length;O++){if(-100===o[O].morale)break;o[O].team.length==b.length&&o[O].team.every((t=>b.includes(t)))&&(w=O)}-1===w?(o.splice(y,0,{_type:"friendship",morale:d,team:b,topics:[a.split("_")[0],a.split("_")[1]],holder:[p,g]}),o.splice(200,1)):w>=y&&(o.splice(w,1),o.splice(y,0,{_type:"friendship",morale:d,team:b,topics:[a.split("_")[0],a.split("_")[1]],holder:[p,g]}));break}}}}for(f=0;f<o.length;f++){if(-100===o[f].morale){o.splice(f);break}o[f].team.sort((function(t){return e.includes(t)?1:-1}))}return o}function j(t=[]){for(var e={},n=Array.isArray(t)?t:[-1,-1],r=0;r<d.F.length;r++){var i=d.F[r];e[i.name]=Math.max(i.values[n[0]]||0,0)+Math.max(i.values[n[1]]||0,0)}return e}var M=null;function S(t,e){postMessage({id:t,type:"resolve",data:e})}function k(t,e){postMessage({id:t,type:"reject",error:e})}function E(t,e){postMessage({id:t,type:"update",update:e})}function P(t){if(!t)return{};for(var e in t){var n=t[e];if(n.camping){var r=n.camping.personalities||[];n.camping.values||(n.camping.values=j(r))}}return M=t,M}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(t=1){return this.reduce((function(e,n){return e.concat(Array.isArray(n)&&t>1?n.flat(t-1):n)}),[])}}),onmessage=function(t){var e=t.data.id,n=t.data.payload,r=n.message,o=M||P(n.HeroDB),a=n.roster,l=n.locked,c=n.advanced;if("MORALE"===r){var s,f=c.role||{},h=c.attribute||{},p=[],v=[];for(s in f)-1==f[s]&&(p.push(s),delete f[s]);for(s in h)-1==h[s]&&(v.push(s),delete h[s]);if(p.length||v.length)for(s=0;s<a.length;s++){var m=a[s];m&&!l.includes(m)&(p.includes(o[m].role)||v.includes(o[m].attribute))&&(a.splice(a.indexOf(m),1),s--)}if(i(l,o))k(e,"cant_lock_both_sc_normal");else if(a.length<50||l.length>1||u(c))try{S(e,g(a,l,c,o,(t=>E(e,t))))}catch(d){k(e,d)}else try{S(e,w(a,l,c,o))}catch(d){k(e,d)}}else if("FRIENDSHIP"===r)try{S(e,O(a,l,o))}catch(d){k(e,d)}}}()})();